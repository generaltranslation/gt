---
title: Variable
description: Type definition for variables used in translation content
---

## Overview

`Variable` represents a placeholder in translation content that can be dynamically replaced with values during rendering. Variables are used within JSX content and ICU message formats to create dynamic, parameterized translations.

```typescript
type Variable = {
  k: string;
  i?: number;
  v?: VariableType;
};
```

Variables enable content like `"Hello {name}"` to be translated and formatted with dynamic values substituted at runtime.

## Type Definition

### Variable Structure

| Property | Type | Description |
|----------|------|-------------|
| `k` | `string` | The variable key/name (e.g., "name", "count", "price") |
| `i?` | `number` | Optional internal identifier for the variable |
| `v?` | `VariableType` | Optional type specification for formatting behavior |

### VariableType

Specifies how the variable should be formatted:

```typescript
type VariableType = 'v' | 'n' | 'd' | 'c';
```

| Value | Type | Description |
|-------|------|-------------|
| `'v'` | Variable | Default variable (plain text substitution) |
| `'n'` | Number | Numeric value with locale-appropriate number formatting |
| `'d'` | Date | Date/time value with locale-appropriate date formatting |
| `'c'` | Currency | Monetary value with locale-appropriate currency formatting |

---

## Example

### Basic Variable Usage

```typescript copy
import { Variable, VariableType } from 'generaltranslation';

// Simple text variable
const nameVariable: Variable = {
  k: 'name'
};

// Number variable for count formatting
const countVariable: Variable = {
  k: 'itemCount',
  v: 'n'
};

// Currency variable for price formatting
const priceVariable: Variable = {
  k: 'totalPrice', 
  v: 'c'
};

// Date variable for timestamp formatting
const dateVariable: Variable = {
  k: 'orderDate',
  v: 'd'
};
```

### Variables in JSX Content

```typescript copy
import { JsxChildren, Variable } from 'generaltranslation';

// JSX content with embedded variables
const welcomeContent: JsxChildren = [
  'Welcome back, ',
  { k: 'userName' } as Variable,
  '! You have ',
  { k: 'unreadCount', v: 'n' } as Variable,
  ' unread messages.'
];

// JSX elements with variables
const productInfo: JsxChildren = [
  {
    t: 'div',
    c: [
      'Product: ',
      { k: 'productName' } as Variable,
      {
        t: 'span', 
        c: [
          'Price: ',
          { k: 'price', v: 'c' } as Variable
        ]
      }
    ]
  }
];
```

### ICU Message Format Variables

```typescript copy
import { IcuMessage } from 'generaltranslation';

// ICU messages with different variable types
const messages: Record<string, IcuMessage> = {
  // Simple text variable
  greeting: 'Hello {name}!',
  
  // Number variable with plural forms
  itemCount: 'You have {count, number} {count, plural, =0 {no items} =1 {one item} other {{count} items}}',
  
  // Currency variable
  totalCost: 'Total cost: {price, number, currency}',
  
  // Date variable
  lastLogin: 'Last login: {loginDate, date, short}',
  
  // Mixed variable types
  orderSummary: 'Order #{orderId} for {total, number, currency} placed on {date, date, medium}'
};
```

### Variable Type Formatting Examples

```typescript copy
// Number formatting examples
const numberVariables = [
  { k: 'quantity', v: 'n' as VariableType },      // "1,234" 
  { k: 'percentage', v: 'n' as VariableType },    // "45.6%"
  { k: 'ratio', v: 'n' as VariableType }          // "3.14159"
];

// Currency formatting examples  
const currencyVariables = [
  { k: 'price', v: 'c' as VariableType },         // "$19.99"
  { k: 'discount', v: 'c' as VariableType },      // "-$5.00"  
  { k: 'tax', v: 'c' as VariableType }            // "$2.50"
];

// Date formatting examples
const dateVariables = [
  { k: 'createdAt', v: 'd' as VariableType },     // "March 15, 2024"
  { k: 'updatedAt', v: 'd' as VariableType },     // "3/15/24, 2:30 PM"
  { k: 'deadline', v: 'd' as VariableType }       // "Friday, March 15, 2024"
];
```

### Variable Validation and Creation

```typescript copy
function createVariable(key: string, type?: VariableType, id?: number): Variable {
  const variable: Variable = { k: key };
  
  if (type) {
    variable.v = type;
  }
  
  if (id !== undefined) {
    variable.i = id;
  }
  
  return variable;
}

// Create typed variables
const variables = {
  userName: createVariable('userName'),
  itemCount: createVariable('itemCount', 'n'),
  orderTotal: createVariable('orderTotal', 'c'),
  shipDate: createVariable('shipDate', 'd')
};

// Validation helper
function isValidVariable(obj: any): obj is Variable {
  return (
    typeof obj === 'object' &&
    obj !== null &&
    typeof obj.k === 'string' &&
    obj.k.length > 0 &&
    (obj.i === undefined || typeof obj.i === 'number') &&
    (obj.v === undefined || ['v', 'n', 'd', 'c'].includes(obj.v))
  );
}
```

### E-commerce Product Template

```typescript copy
interface ProductTemplate {
  name: JsxChildren;
  description: JsxChildren;
  pricing: JsxChildren;
  availability: JsxChildren;
}

const productTemplate: ProductTemplate = {
  name: [
    { k: 'productName' } as Variable
  ],
  
  description: [
    { k: 'description' } as Variable,
    ' - Available in ',
    { k: 'colorCount', v: 'n' } as Variable,
    ' colors and ',
    { k: 'sizeCount', v: 'n' } as Variable,
    ' sizes.'
  ],
  
  pricing: [
    {
      t: 'div',
      c: [
        'Price: ',
        {
          t: 'span',
          d: { ti: 'Current price' },
          c: [{ k: 'price', v: 'c' } as Variable]
        },
        ' (was ',
        {
          t: 'span', 
          c: [{ k: 'originalPrice', v: 'c' } as Variable]
        },
        ')'
      ]
    }
  ],
  
  availability: [
    'In stock: ',
    { k: 'stockCount', v: 'n' } as Variable,
    ' units available. Ships by ',
    { k: 'shippingDate', v: 'd' } as Variable
  ]
};
```

### Dynamic Variable Substitution

```typescript copy
interface VariableValues {
  [key: string]: string | number | Date | boolean | null | undefined;
}

function substituteVariables(
  content: JsxChildren, 
  values: VariableValues
): JsxChildren {
  if (Array.isArray(content)) {
    return content.map(child => substituteVariables(child, values)) as JsxChildren;
  }
  
  if (typeof content === 'object' && content !== null) {
    // Handle Variable objects
    if ('k' in content && typeof content.k === 'string') {
      const variable = content as Variable;
      const value = values[variable.k];
      
      if (value !== undefined) {
        return formatVariableValue(value, variable.v);
      }
      return `{${variable.k}}`;
    }
    
    // Handle JSX elements
    if ('t' in content) {
      return {
        ...content,
        c: content.c ? substituteVariables(content.c, values) : content.c
      };
    }
  }
  
  return content;
}

function formatVariableValue(value: any, type?: VariableType): string {
  switch (type) {
    case 'n':
      return new Intl.NumberFormat().format(Number(value));
    case 'c':
      return new Intl.NumberFormat('en-US', {
        style: 'currency',
        currency: 'USD'
      }).format(Number(value));
    case 'd':
      return new Intl.DateTimeFormat().format(new Date(value));
    default:
      return String(value);
  }
}
```

---

## Notes

* The `k` property is the only required field and serves as the variable identifier
* Variable types (`v`) affect how values are formatted during rendering
* The optional `i` field is used internally for optimization and deduplication
* Variables are commonly embedded within JSX content and ICU message strings
* Variable formatting respects the user's locale for numbers, dates, and currency
* Variable keys should be descriptive and consistent across your application

## Related Types

* See [`VariableType`](/docs/core/types/VariableType) for formatting type specifications
* See [`JsxChildren`](/docs/core/types/JsxChildren) for JSX content with embedded variables
* See [`Content`](/docs/core/types/Content) for general content types that can include variables
* See [`IcuMessage`](/docs/core/types/IcuMessage) for ICU message format with variables

## Next Steps

* See [Variable Usage Guide](/docs/core/guides/variables) for best practices with variables
* See [Formatting Guide](/docs/core/guides/formatting) for locale-specific formatting
* See [ICU Message Format Guide](/docs/core/guides/icu-messages) for advanced variable usage