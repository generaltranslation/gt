---
title: Project Setup
description: How to setup your Next.js application with gt-next
---

## Overview

This guide will walk you through how to setup your Next.js application with `gt-next`.

By the end of this guide, you will have a Next.js app that is ready to start translating content.

This is more in-depth and manual than the [Quickstart](/docs/next/tutorials/quickstart) guide, and is recommended for those who want to understand the different concepts and options available to them.

In this guide, we will cover the following:

<Steps>
  <Step>
    Installation
  </Step>
  <Step>
    Configuration
  </Step>
  <Step>
    Usage
  </Step>
  <Step>
    Deployment
  </Step>
</Steps>

### Prerequisites

- A Next.js application using the App Router

## Installation

Install the `gt-next` and `gtx-cli` packages:

<Tabs items={['npm', 'yarn', 'bun', 'pnpm']}>
  <Tab value="npm">
  ```bash 
  npm i gt-next
  npm i --save-dev gtx-cli
  ``` 
  </Tab>
  <Tab value="yarn">
  ```bash 
  yarn add gt-next
  yarn add --dev gtx-cli
  ```
  </Tab>

  <Tab value="bun">
  ```bash 
  bun add gt-next
  bun add --dev gtx-cli
  ```
  </Tab>
  <Tab value="pnpm">
  ```bash 
  pnpm add gt-next
  pnpm add --save-dev gtx-cli
  ```
  </Tab>
</Tabs>

---

## Configuration

### `withGTConfig`

The `withGTConfig` function is a function that is used to initialize the SDK in a Next.js application.

It should be placed in your `next.config.[js|ts]` file, and is used to configure the SDK.

```tsx title="next.config.ts"
import { withGTConfig } from 'gt-next/config';

const nextConfig = {
  // Your next.config.ts options
};

export default withGTConfig(nextConfig, {
  // Your GT configuration
});
```

See the [withGTConfig API Reference](/docs/next/api/config/withGTConfig) for more information.

### `GTProvider`

`gt-next` also exports a `GTProvider` component. This component is used to provide context to client-side components in your Next.js application.

The `GTProvider` and `withGTConfig` work together to provide context to your application.

This context includes:

- Managing the user's current locale
- The relevant translations for that locale
- Context for the `useGT` hook
- Context for the `useDict` hook


<Steps>
  <Step>
    First, add the `GTProvider` component to the root layout of your application. It should be placed as high up in your component tree as possible.

    ```tsx copy title="src/layout.tsx"
    import { GTProvider } from 'gt-next';

    export default function RootLayout({ children }) {
      return (
        <html>
          <body>
            <GTProvider>
              {children}
            </GTProvider>
          </body>
        </html>
      );
    }
    ```
  </Step>
  <Step>
    Next, create a [`gt.config.json`](/docs/cli/reference/config) file in the root of your project.
    This file is used to configure both the `gtx-cli` tool and the `gt-next` library.

    ```json
    {
      "defaultLocale": "en",
      "locales": ["fr", "es"]
    }
    ```
    You should customize the `defaultLocale` and `locales` to match your project. See the list of [supported locales](/docs/platform/locale-strings) for more information.

    `withGTConfig` will automatically detect the `gt.config.json` file in your project, and use it to configure the SDK.
  </Step>
</Steps>

### Environment Variables

Set the following environment variables:

```bash copy
GT_API_KEY="" # Your General Translation Developer API key
GT_PROJECT_ID="" # Your General Translation project ID
```

<Callout type="warn">
  **Make sure your API key variable is only set in your development environment! It should not be set in production.**
</Callout>

You can get a free API key and project ID by creating a [General Translation account](https://dash.generaltranslation.com/signup).

After creating an account, navigate to the [Development API Keys](https://dash.generaltranslation.com/settings/dev-api-keys) page to get your Dev API key and project ID.

Alternatively, you can also use the CLI tool command `npx gtx-cli auth` to generate an API key and project ID for your project, saved to your `.env.local` file.

<Accordions>
  <Accordion title="What if I don't want to use the General Translation platform?">
  `gt-next` is an i18n library that can work standalone without any environment variables.
  Without them, the library will act very similarly to other i18n libraries, and will still have core internationalization functionality.

  However, `gt-next` also offers a native integration with the General Translation platform.
  This integration unlocks additional functionality in the library, such as:

  - Translation Hot Reloading in Development
  - Automatic AI translations
  - Syncing translations with the General Translation platform
  - Native integration with our translation CDN
  - On-demand translation of React components in production (on the server side)

  To avoid using the General Translation platform, just don't set any environment variables.
  </Accordion>
</Accordions>


---

## Usage

Great! If you've followed the steps above, your Next.js app is now setup to use `gt-next`.

The next step is to internationalize your content. 
Here, we'll give a brief overview of the different ways to translate content in your application.

For more detailed guides on each of these, see the other guides in this section.

### `<T>` Component

The `<T>` component is the main component for translating JSX content in your application.

To use it, simply wrap the JSX you want to translate in the `<T>` component.

```tsx
import { T } from 'gt-next';
<T>
  <div>Your content</div>
</T>
```

### `useGT` Hook

The `useGT` hook is a client-side hook that returns a function that can be used to translate strings.

```tsx
import { useGT } from 'gt-next/client';

const translate = useGT();
translate('Hello, world!');
```


<Callout type="info">
  Utilizing the hot-reload translation functionality will be helpful for internationalizing your application.

  To enable this, make sure you have the `GT_API_KEY` and `GT_PROJECT_ID` environment variables set in your development environment.
</Callout>


---

## Deployment

After you've setup your project and internationalized some content, here's how to deploy your application.

The behavior of `gt-next` in production is slightly different from development. Specifically, no translations will be performed at runtime.

This means that you'll need to translate your content before deploying your application, in the build process.

Luckily, the `gtx-cli` tool has a `translate` command that can be used to automatically translate your content.

<Steps>
  <Step>
    First, you'll need to get a Production API key from the [General Translation platform](https://dash.generaltranslation.com).

    Please note that this key is different from your Development API key, and begins with `gtx-api-`, instead of `gtx-dev-`.

    Read about the difference between Development and Production keys [here](/docs/next/concepts/environments).
  </Step>
  <Step>
    Add this environment variable to your CI/CD pipeline.

    ```bash
    GT_PROJECT_ID=<your-project-id>
    GT_API_KEY=<your-production-api-key>
    ```
    <Callout type='warn'>
      Make sure that `GT_API_KEY` is **NOT** prefixed with `NEXT_PUBLIC_`!

      If it is, you'll risk exposing your API key to the public.
    </Callout>
  </Step>
  <Step>
    Run the `translate` command to translate your content.

    ```bash
    npx gtx-cli translate
    ```
    You can configure the behavior of the `translate` command with the [`gt.config.json`](/docs/cli/reference/config) file.

    See the [CLI Tool](/docs/cli/translate) reference guide for more information.
    
  </Step>
  <Step>
    Add the `translate` command to your build process.

    ```json title="package.json" copy
    {
      "scripts": {
        "build": "npx gtx-cli translate && <...YOUR_BUILD_COMMAND...>"
      }
    }
    ```
  </Step>
</Steps>

<Accordions>
  <Accordion title="What if I'm not using the General Translation platform?">
    If you're not using the General Translation platform, you can still use `gt-next` in production.

    However, you'll need to manually translate your content before deploying your application.

    Instead of running `translate`, run the `generate` command to generate JSON files containing all of your translation data (in your source language).

    ```bash
    npx gtx-cli generate
    ```

    Then, you'll need to manually edit / translate these files, and load them into your application with [`loadTranslations`](/docs/next/guides/local-tx).
  </Accordion>
</Accordions>

---

## Summary

 * In this guide, we covered how to setup your Next.js app with `gt-next`, and the different ways to translate content in your application.
 * We also covered how to deploy your application


## Next Steps

- Learn about how to translate JSX content with the `<T>` component: [Translating JSX](/docs/react/guides/jsx)
- Learn about how to translate strings with the `useGT` hook: [Translating Strings](/docs/react/guides/hooks)
- Learn how to use local translations: [Local Translations](/docs/react/guides/local-tx)