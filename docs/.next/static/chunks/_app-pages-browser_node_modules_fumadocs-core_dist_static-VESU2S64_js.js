"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["_app-pages-browser_node_modules_fumadocs-core_dist_static-VESU2S64_js"],{

/***/ "(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components.js":
/*!**************************************************************!*\
  !*** ./node_modules/@orama/orama/dist/browser/components.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   documentsStore: () => (/* reexport module object */ _components_documents_store_js__WEBPACK_IMPORTED_MODULE_1__),\n/* harmony export */   formatElapsedTime: () => (/* reexport safe */ _components_defaults_js__WEBPACK_IMPORTED_MODULE_0__.formatElapsedTime),\n/* harmony export */   getDocumentIndexId: () => (/* reexport safe */ _components_defaults_js__WEBPACK_IMPORTED_MODULE_0__.getDocumentIndexId),\n/* harmony export */   getDocumentProperties: () => (/* reexport safe */ _components_defaults_js__WEBPACK_IMPORTED_MODULE_0__.getDocumentProperties),\n/* harmony export */   getInnerType: () => (/* reexport safe */ _components_defaults_js__WEBPACK_IMPORTED_MODULE_0__.getInnerType),\n/* harmony export */   getVectorSize: () => (/* reexport safe */ _components_defaults_js__WEBPACK_IMPORTED_MODULE_0__.getVectorSize),\n/* harmony export */   index: () => (/* reexport module object */ _components_index_js__WEBPACK_IMPORTED_MODULE_2__),\n/* harmony export */   internalDocumentIDStore: () => (/* reexport module object */ _components_internal_document_id_store_js__WEBPACK_IMPORTED_MODULE_5__),\n/* harmony export */   isArrayType: () => (/* reexport safe */ _components_defaults_js__WEBPACK_IMPORTED_MODULE_0__.isArrayType),\n/* harmony export */   isGeoPointType: () => (/* reexport safe */ _components_defaults_js__WEBPACK_IMPORTED_MODULE_0__.isGeoPointType),\n/* harmony export */   isVectorType: () => (/* reexport safe */ _components_defaults_js__WEBPACK_IMPORTED_MODULE_0__.isVectorType),\n/* harmony export */   sorter: () => (/* reexport module object */ _components_sorter_js__WEBPACK_IMPORTED_MODULE_4__),\n/* harmony export */   tokenizer: () => (/* reexport module object */ _components_tokenizer_index_js__WEBPACK_IMPORTED_MODULE_3__),\n/* harmony export */   validateSchema: () => (/* reexport safe */ _components_defaults_js__WEBPACK_IMPORTED_MODULE_0__.validateSchema)\n/* harmony export */ });\n/* harmony import */ var _components_defaults_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./components/defaults.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/defaults.js\");\n/* harmony import */ var _components_documents_store_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./components/documents-store.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/documents-store.js\");\n/* harmony import */ var _components_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components/index.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/index.js\");\n/* harmony import */ var _components_tokenizer_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./components/tokenizer/index.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/tokenizer/index.js\");\n/* harmony import */ var _components_sorter_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./components/sorter.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/sorter.js\");\n/* harmony import */ var _components_internal_document_id_store_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./components/internal-document-id-store.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/internal-document-id-store.js\");\n\n\n\n\n\n\n//# sourceMappingURL=components.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9icm93c2VyL2NvbXBvbmVudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBeUM7QUFDeUI7QUFDbkI7QUFDYztBQUNaO0FBQ3FDO0FBQ3RGIiwic291cmNlcyI6WyIvVXNlcnMvYXJjaGllbWNrZW56aWUvRGVza3RvcC9ndC1saWJyYXJpZXMvZG9jcy9ub2RlX21vZHVsZXMvQG9yYW1hL29yYW1hL2Rpc3QvYnJvd3Nlci9jb21wb25lbnRzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCAqIGZyb20gJy4vY29tcG9uZW50cy9kZWZhdWx0cy5qcyc7XG5leHBvcnQgKiBhcyBkb2N1bWVudHNTdG9yZSBmcm9tICcuL2NvbXBvbmVudHMvZG9jdW1lbnRzLXN0b3JlLmpzJztcbmV4cG9ydCAqIGFzIGluZGV4IGZyb20gJy4vY29tcG9uZW50cy9pbmRleC5qcyc7XG5leHBvcnQgKiBhcyB0b2tlbml6ZXIgZnJvbSAnLi9jb21wb25lbnRzL3Rva2VuaXplci9pbmRleC5qcyc7XG5leHBvcnQgKiBhcyBzb3J0ZXIgZnJvbSAnLi9jb21wb25lbnRzL3NvcnRlci5qcyc7XG5leHBvcnQgKiBhcyBpbnRlcm5hbERvY3VtZW50SURTdG9yZSBmcm9tICcuL2NvbXBvbmVudHMvaW50ZXJuYWwtZG9jdW1lbnQtaWQtc3RvcmUuanMnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tcG9uZW50cy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/algorithms.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@orama/orama/dist/browser/components/algorithms.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BM25: () => (/* binding */ BM25),\n/* harmony export */   prioritizeTokenScores: () => (/* binding */ prioritizeTokenScores)\n/* harmony export */ });\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../errors.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/errors.js\");\n\nfunction prioritizeTokenScores(arrays, boost, threshold = 0, keywordsCount) {\n    if (boost === 0) {\n        throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_0__.createError)('INVALID_BOOST_VALUE');\n    }\n    const tokenScoresMap = new Map();\n    const mapsLength = arrays.length;\n    for (let i = 0; i < mapsLength; i++) {\n        const arr = arrays[i];\n        const entriesLength = arr.length;\n        for (let j = 0; j < entriesLength; j++) {\n            const [token, score] = arr[j];\n            const boostScore = score * boost;\n            const oldScore = tokenScoresMap.get(token)?.[0];\n            if (oldScore !== undefined) {\n                tokenScoresMap.set(token, [oldScore * 1.5 + boostScore, (tokenScoresMap?.get(token)?.[1] || 0) + 1]);\n            }\n            else {\n                tokenScoresMap.set(token, [boostScore, 1]);\n            }\n        }\n    }\n    const tokenScores = [];\n    for (const tokenScoreEntry of tokenScoresMap.entries()) {\n        tokenScores.push([tokenScoreEntry[0], tokenScoreEntry[1][0]]);\n    }\n    const results = tokenScores.sort((a, b) => b[1] - a[1]);\n    // If threshold is 1, it means we will return all the results with at least one search term,\n    // prioritizig the ones that contains more search terms (fuzzy match)\n    if (threshold === 1) {\n        return results;\n    }\n    // Prepare keywords count tracking for threshold handling\n    const allResults = results.length;\n    const tokenScoreWithKeywordsCount = [];\n    for (const tokenScoreEntry of tokenScoresMap.entries()) {\n        tokenScoreWithKeywordsCount.push([tokenScoreEntry[0], tokenScoreEntry[1][0], tokenScoreEntry[1][1]]);\n    }\n    // Find the index of the last result with all keywords.\n    // Order the documents by the number of keywords they contain, and then by the score.\n    const keywordsPerToken = tokenScoreWithKeywordsCount.sort((a, b) => {\n        // Compare by the third element, higher numbers first\n        if (a[2] > b[2])\n            return -1;\n        if (a[2] < b[2])\n            return 1;\n        // If the third elements are equal, compare by the second element, higher numbers first\n        if (a[1] > b[1])\n            return -1;\n        if (a[1] < b[1])\n            return 1;\n        // If both the second and third elements are equal, consider the elements equal\n        return 0;\n    });\n    let lastTokenWithAllKeywords = undefined;\n    for (let i = 0; i < allResults; i++) {\n        if (keywordsPerToken[i][2] === keywordsCount) {\n            lastTokenWithAllKeywords = i;\n        }\n        else {\n            break;\n        }\n    }\n    // If no results had all the keywords, either bail out earlier or normalize\n    if (typeof lastTokenWithAllKeywords === 'undefined') {\n        if (threshold === 0) {\n            return [];\n        }\n        lastTokenWithAllKeywords = 0;\n    }\n    const keywordsPerTokenLength = keywordsPerToken.length;\n    const resultsWithIdAndScore = new Array(keywordsPerTokenLength);\n    for (let i = 0; i < keywordsPerTokenLength; i++) {\n        resultsWithIdAndScore[i] = [keywordsPerToken[i][0], keywordsPerToken[i][1]];\n    }\n    // If threshold is 0, it means we will only return all the results that contains ALL the search terms (exact match)\n    if (threshold === 0) {\n        return resultsWithIdAndScore.slice(0, lastTokenWithAllKeywords + 1);\n    }\n    // If the threshold is between 0 and 1, we will return all the results that contains at least the threshold of search terms\n    // For example, if threshold is 0.5, we will return all the results that contains at least 50% of the search terms\n    // (fuzzy match with a minimum threshold)\n    const thresholdLength = lastTokenWithAllKeywords + Math.ceil((threshold * 100 * (allResults - lastTokenWithAllKeywords)) / 100);\n    return resultsWithIdAndScore.slice(0, allResults + thresholdLength);\n}\nfunction BM25(tf, matchingCount, docsCount, fieldLength, averageFieldLength, { k, b, d }) {\n    const idf = Math.log(1 + (docsCount - matchingCount + 0.5) / (matchingCount + 0.5));\n    return (idf * (d + tf * (k + 1))) / (tf + k * (1 - b + (b * fieldLength) / averageFieldLength));\n}\n//# sourceMappingURL=algorithms.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9icm93c2VyL2NvbXBvbmVudHMvYWxnb3JpdGhtcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBMkM7QUFDcEM7QUFDUDtBQUNBLGNBQWMsdURBQVc7QUFDekI7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGdCQUFnQjtBQUNwQztBQUNBO0FBQ0Esd0JBQXdCLG1CQUFtQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxvQkFBb0IsZ0JBQWdCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDRCQUE0QjtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTywrRUFBK0UsU0FBUztBQUMvRjtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL2FyY2hpZW1ja2VuemllL0Rlc2t0b3AvZ3QtbGlicmFyaWVzL2RvY3Mvbm9kZV9tb2R1bGVzL0BvcmFtYS9vcmFtYS9kaXN0L2Jyb3dzZXIvY29tcG9uZW50cy9hbGdvcml0aG1zLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUVycm9yIH0gZnJvbSAnLi4vZXJyb3JzLmpzJztcbmV4cG9ydCBmdW5jdGlvbiBwcmlvcml0aXplVG9rZW5TY29yZXMoYXJyYXlzLCBib29zdCwgdGhyZXNob2xkID0gMCwga2V5d29yZHNDb3VudCkge1xuICAgIGlmIChib29zdCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignSU5WQUxJRF9CT09TVF9WQUxVRScpO1xuICAgIH1cbiAgICBjb25zdCB0b2tlblNjb3Jlc01hcCA9IG5ldyBNYXAoKTtcbiAgICBjb25zdCBtYXBzTGVuZ3RoID0gYXJyYXlzLmxlbmd0aDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1hcHNMZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBhcnIgPSBhcnJheXNbaV07XG4gICAgICAgIGNvbnN0IGVudHJpZXNMZW5ndGggPSBhcnIubGVuZ3RoO1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGVudHJpZXNMZW5ndGg7IGorKykge1xuICAgICAgICAgICAgY29uc3QgW3Rva2VuLCBzY29yZV0gPSBhcnJbal07XG4gICAgICAgICAgICBjb25zdCBib29zdFNjb3JlID0gc2NvcmUgKiBib29zdDtcbiAgICAgICAgICAgIGNvbnN0IG9sZFNjb3JlID0gdG9rZW5TY29yZXNNYXAuZ2V0KHRva2VuKT8uWzBdO1xuICAgICAgICAgICAgaWYgKG9sZFNjb3JlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0b2tlblNjb3Jlc01hcC5zZXQodG9rZW4sIFtvbGRTY29yZSAqIDEuNSArIGJvb3N0U2NvcmUsICh0b2tlblNjb3Jlc01hcD8uZ2V0KHRva2VuKT8uWzFdIHx8IDApICsgMV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdG9rZW5TY29yZXNNYXAuc2V0KHRva2VuLCBbYm9vc3RTY29yZSwgMV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHRva2VuU2NvcmVzID0gW107XG4gICAgZm9yIChjb25zdCB0b2tlblNjb3JlRW50cnkgb2YgdG9rZW5TY29yZXNNYXAuZW50cmllcygpKSB7XG4gICAgICAgIHRva2VuU2NvcmVzLnB1c2goW3Rva2VuU2NvcmVFbnRyeVswXSwgdG9rZW5TY29yZUVudHJ5WzFdWzBdXSk7XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdHMgPSB0b2tlblNjb3Jlcy5zb3J0KChhLCBiKSA9PiBiWzFdIC0gYVsxXSk7XG4gICAgLy8gSWYgdGhyZXNob2xkIGlzIDEsIGl0IG1lYW5zIHdlIHdpbGwgcmV0dXJuIGFsbCB0aGUgcmVzdWx0cyB3aXRoIGF0IGxlYXN0IG9uZSBzZWFyY2ggdGVybSxcbiAgICAvLyBwcmlvcml0aXppZyB0aGUgb25lcyB0aGF0IGNvbnRhaW5zIG1vcmUgc2VhcmNoIHRlcm1zIChmdXp6eSBtYXRjaClcbiAgICBpZiAodGhyZXNob2xkID09PSAxKSB7XG4gICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgIH1cbiAgICAvLyBQcmVwYXJlIGtleXdvcmRzIGNvdW50IHRyYWNraW5nIGZvciB0aHJlc2hvbGQgaGFuZGxpbmdcbiAgICBjb25zdCBhbGxSZXN1bHRzID0gcmVzdWx0cy5sZW5ndGg7XG4gICAgY29uc3QgdG9rZW5TY29yZVdpdGhLZXl3b3Jkc0NvdW50ID0gW107XG4gICAgZm9yIChjb25zdCB0b2tlblNjb3JlRW50cnkgb2YgdG9rZW5TY29yZXNNYXAuZW50cmllcygpKSB7XG4gICAgICAgIHRva2VuU2NvcmVXaXRoS2V5d29yZHNDb3VudC5wdXNoKFt0b2tlblNjb3JlRW50cnlbMF0sIHRva2VuU2NvcmVFbnRyeVsxXVswXSwgdG9rZW5TY29yZUVudHJ5WzFdWzFdXSk7XG4gICAgfVxuICAgIC8vIEZpbmQgdGhlIGluZGV4IG9mIHRoZSBsYXN0IHJlc3VsdCB3aXRoIGFsbCBrZXl3b3Jkcy5cbiAgICAvLyBPcmRlciB0aGUgZG9jdW1lbnRzIGJ5IHRoZSBudW1iZXIgb2Yga2V5d29yZHMgdGhleSBjb250YWluLCBhbmQgdGhlbiBieSB0aGUgc2NvcmUuXG4gICAgY29uc3Qga2V5d29yZHNQZXJUb2tlbiA9IHRva2VuU2NvcmVXaXRoS2V5d29yZHNDb3VudC5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgIC8vIENvbXBhcmUgYnkgdGhlIHRoaXJkIGVsZW1lbnQsIGhpZ2hlciBudW1iZXJzIGZpcnN0XG4gICAgICAgIGlmIChhWzJdID4gYlsyXSlcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgaWYgKGFbMl0gPCBiWzJdKVxuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIC8vIElmIHRoZSB0aGlyZCBlbGVtZW50cyBhcmUgZXF1YWwsIGNvbXBhcmUgYnkgdGhlIHNlY29uZCBlbGVtZW50LCBoaWdoZXIgbnVtYmVycyBmaXJzdFxuICAgICAgICBpZiAoYVsxXSA+IGJbMV0pXG4gICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIGlmIChhWzFdIDwgYlsxXSlcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAvLyBJZiBib3RoIHRoZSBzZWNvbmQgYW5kIHRoaXJkIGVsZW1lbnRzIGFyZSBlcXVhbCwgY29uc2lkZXIgdGhlIGVsZW1lbnRzIGVxdWFsXG4gICAgICAgIHJldHVybiAwO1xuICAgIH0pO1xuICAgIGxldCBsYXN0VG9rZW5XaXRoQWxsS2V5d29yZHMgPSB1bmRlZmluZWQ7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbGxSZXN1bHRzOyBpKyspIHtcbiAgICAgICAgaWYgKGtleXdvcmRzUGVyVG9rZW5baV1bMl0gPT09IGtleXdvcmRzQ291bnQpIHtcbiAgICAgICAgICAgIGxhc3RUb2tlbldpdGhBbGxLZXl3b3JkcyA9IGk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBJZiBubyByZXN1bHRzIGhhZCBhbGwgdGhlIGtleXdvcmRzLCBlaXRoZXIgYmFpbCBvdXQgZWFybGllciBvciBub3JtYWxpemVcbiAgICBpZiAodHlwZW9mIGxhc3RUb2tlbldpdGhBbGxLZXl3b3JkcyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgaWYgKHRocmVzaG9sZCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICAgIGxhc3RUb2tlbldpdGhBbGxLZXl3b3JkcyA9IDA7XG4gICAgfVxuICAgIGNvbnN0IGtleXdvcmRzUGVyVG9rZW5MZW5ndGggPSBrZXl3b3Jkc1BlclRva2VuLmxlbmd0aDtcbiAgICBjb25zdCByZXN1bHRzV2l0aElkQW5kU2NvcmUgPSBuZXcgQXJyYXkoa2V5d29yZHNQZXJUb2tlbkxlbmd0aCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXl3b3Jkc1BlclRva2VuTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgcmVzdWx0c1dpdGhJZEFuZFNjb3JlW2ldID0gW2tleXdvcmRzUGVyVG9rZW5baV1bMF0sIGtleXdvcmRzUGVyVG9rZW5baV1bMV1dO1xuICAgIH1cbiAgICAvLyBJZiB0aHJlc2hvbGQgaXMgMCwgaXQgbWVhbnMgd2Ugd2lsbCBvbmx5IHJldHVybiBhbGwgdGhlIHJlc3VsdHMgdGhhdCBjb250YWlucyBBTEwgdGhlIHNlYXJjaCB0ZXJtcyAoZXhhY3QgbWF0Y2gpXG4gICAgaWYgKHRocmVzaG9sZCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gcmVzdWx0c1dpdGhJZEFuZFNjb3JlLnNsaWNlKDAsIGxhc3RUb2tlbldpdGhBbGxLZXl3b3JkcyArIDEpO1xuICAgIH1cbiAgICAvLyBJZiB0aGUgdGhyZXNob2xkIGlzIGJldHdlZW4gMCBhbmQgMSwgd2Ugd2lsbCByZXR1cm4gYWxsIHRoZSByZXN1bHRzIHRoYXQgY29udGFpbnMgYXQgbGVhc3QgdGhlIHRocmVzaG9sZCBvZiBzZWFyY2ggdGVybXNcbiAgICAvLyBGb3IgZXhhbXBsZSwgaWYgdGhyZXNob2xkIGlzIDAuNSwgd2Ugd2lsbCByZXR1cm4gYWxsIHRoZSByZXN1bHRzIHRoYXQgY29udGFpbnMgYXQgbGVhc3QgNTAlIG9mIHRoZSBzZWFyY2ggdGVybXNcbiAgICAvLyAoZnV6enkgbWF0Y2ggd2l0aCBhIG1pbmltdW0gdGhyZXNob2xkKVxuICAgIGNvbnN0IHRocmVzaG9sZExlbmd0aCA9IGxhc3RUb2tlbldpdGhBbGxLZXl3b3JkcyArIE1hdGguY2VpbCgodGhyZXNob2xkICogMTAwICogKGFsbFJlc3VsdHMgLSBsYXN0VG9rZW5XaXRoQWxsS2V5d29yZHMpKSAvIDEwMCk7XG4gICAgcmV0dXJuIHJlc3VsdHNXaXRoSWRBbmRTY29yZS5zbGljZSgwLCBhbGxSZXN1bHRzICsgdGhyZXNob2xkTGVuZ3RoKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBCTTI1KHRmLCBtYXRjaGluZ0NvdW50LCBkb2NzQ291bnQsIGZpZWxkTGVuZ3RoLCBhdmVyYWdlRmllbGRMZW5ndGgsIHsgaywgYiwgZCB9KSB7XG4gICAgY29uc3QgaWRmID0gTWF0aC5sb2coMSArIChkb2NzQ291bnQgLSBtYXRjaGluZ0NvdW50ICsgMC41KSAvIChtYXRjaGluZ0NvdW50ICsgMC41KSk7XG4gICAgcmV0dXJuIChpZGYgKiAoZCArIHRmICogKGsgKyAxKSkpIC8gKHRmICsgayAqICgxIC0gYiArIChiICogZmllbGRMZW5ndGgpIC8gYXZlcmFnZUZpZWxkTGVuZ3RoKSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hbGdvcml0aG1zLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/algorithms.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/defaults.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@orama/orama/dist/browser/components/defaults.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   formatElapsedTime: () => (/* binding */ formatElapsedTime),\n/* harmony export */   getDocumentIndexId: () => (/* binding */ getDocumentIndexId),\n/* harmony export */   getDocumentProperties: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_1__.getDocumentProperties),\n/* harmony export */   getInnerType: () => (/* binding */ getInnerType),\n/* harmony export */   getVectorSize: () => (/* binding */ getVectorSize),\n/* harmony export */   isArrayType: () => (/* binding */ isArrayType),\n/* harmony export */   isGeoPointType: () => (/* binding */ isGeoPointType),\n/* harmony export */   isVectorType: () => (/* binding */ isVectorType),\n/* harmony export */   validateSchema: () => (/* binding */ validateSchema)\n/* harmony export */ });\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../errors.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/errors.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/utils.js\");\n\n\n\nfunction formatElapsedTime(n) {\n    return {\n        raw: Number(n),\n        formatted: (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.formatNanoseconds)(n)\n    };\n}\nfunction getDocumentIndexId(doc) {\n    if (doc.id) {\n        if (typeof doc.id !== 'string') {\n            throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_0__.createError)('DOCUMENT_ID_MUST_BE_STRING', typeof doc.id);\n        }\n        return doc.id;\n    }\n    return (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.uniqueId)();\n}\nfunction validateSchema(doc, schema) {\n    for (const [prop, type] of Object.entries(schema)) {\n        const value = doc[prop];\n        if (typeof value === 'undefined') {\n            continue;\n        }\n        if (type === 'geopoint' &&\n            typeof value === 'object' &&\n            typeof value.lon === 'number' &&\n            typeof value.lat === 'number') {\n            continue;\n        }\n        if (type === 'enum' && (typeof value === 'string' || typeof value === 'number')) {\n            continue;\n        }\n        if (type === 'enum[]' && Array.isArray(value)) {\n            const valueLength = value.length;\n            for (let i = 0; i < valueLength; i++) {\n                if (typeof value[i] !== 'string' && typeof value[i] !== 'number') {\n                    return prop + '.' + i;\n                }\n            }\n            continue;\n        }\n        if (isVectorType(type)) {\n            const vectorSize = getVectorSize(type);\n            if (!Array.isArray(value) || value.length !== vectorSize) {\n                throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_0__.createError)('INVALID_INPUT_VECTOR', prop, vectorSize, value.length);\n            }\n            continue;\n        }\n        if (isArrayType(type)) {\n            if (!Array.isArray(value)) {\n                return prop;\n            }\n            const expectedType = getInnerType(type);\n            const valueLength = value.length;\n            for (let i = 0; i < valueLength; i++) {\n                if (typeof value[i] !== expectedType) {\n                    return prop + '.' + i;\n                }\n            }\n            continue;\n        }\n        if (typeof type === 'object') {\n            if (!value || typeof value !== 'object') {\n                return prop;\n            }\n            // using as ResultDocument is not exactly right but trying to be type-safe here is not useful\n            const subProp = validateSchema(value, type);\n            if (subProp) {\n                return prop + '.' + subProp;\n            }\n            continue;\n        }\n        if (typeof value !== type) {\n            return prop;\n        }\n    }\n    return undefined;\n}\nconst IS_ARRAY_TYPE = {\n    string: false,\n    number: false,\n    boolean: false,\n    enum: false,\n    geopoint: false,\n    'string[]': true,\n    'number[]': true,\n    'boolean[]': true,\n    'enum[]': true\n};\nconst INNER_TYPE = {\n    'string[]': 'string',\n    'number[]': 'number',\n    'boolean[]': 'boolean',\n    'enum[]': 'enum'\n};\nfunction isGeoPointType(type) {\n    return type === 'geopoint';\n}\nfunction isVectorType(type) {\n    return typeof type === 'string' && /^vector\\[\\d+\\]$/.test(type);\n}\nfunction isArrayType(type) {\n    return typeof type === 'string' && IS_ARRAY_TYPE[type];\n}\nfunction getInnerType(type) {\n    return INNER_TYPE[type];\n}\nfunction getVectorSize(type) {\n    const size = Number(type.slice(7, -1));\n    switch (true) {\n        case isNaN(size):\n            throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_0__.createError)('INVALID_VECTOR_VALUE', type);\n        case size <= 0:\n            throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_0__.createError)('INVALID_VECTOR_SIZE', type);\n        default:\n            return size;\n    }\n}\n//# sourceMappingURL=defaults.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9icm93c2VyL2NvbXBvbmVudHMvZGVmYXVsdHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBMkM7QUFDZTtBQUNOO0FBQzdDO0FBQ1A7QUFDQTtBQUNBLG1CQUFtQiw0REFBaUI7QUFDcEM7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLGtCQUFrQix1REFBVztBQUM3QjtBQUNBO0FBQ0E7QUFDQSxXQUFXLG1EQUFRO0FBQ25CO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixpQkFBaUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLHVEQUFXO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixpQkFBaUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQix1REFBVztBQUM3QjtBQUNBLGtCQUFrQix1REFBVztBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvYXJjaGllbWNrZW56aWUvRGVza3RvcC9ndC1saWJyYXJpZXMvZG9jcy9ub2RlX21vZHVsZXMvQG9yYW1hL29yYW1hL2Rpc3QvYnJvd3Nlci9jb21wb25lbnRzL2RlZmF1bHRzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUVycm9yIH0gZnJvbSAnLi4vZXJyb3JzLmpzJztcbmltcG9ydCB7IGZvcm1hdE5hbm9zZWNvbmRzLCB1bmlxdWVJZCB9IGZyb20gJy4uL3V0aWxzLmpzJztcbmV4cG9ydCB7IGdldERvY3VtZW50UHJvcGVydGllcyB9IGZyb20gJy4uL3V0aWxzLmpzJztcbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXRFbGFwc2VkVGltZShuKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmF3OiBOdW1iZXIobiksXG4gICAgICAgIGZvcm1hdHRlZDogZm9ybWF0TmFub3NlY29uZHMobilcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldERvY3VtZW50SW5kZXhJZChkb2MpIHtcbiAgICBpZiAoZG9jLmlkKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZG9jLmlkICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoJ0RPQ1VNRU5UX0lEX01VU1RfQkVfU1RSSU5HJywgdHlwZW9mIGRvYy5pZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRvYy5pZDtcbiAgICB9XG4gICAgcmV0dXJuIHVuaXF1ZUlkKCk7XG59XG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVTY2hlbWEoZG9jLCBzY2hlbWEpIHtcbiAgICBmb3IgKGNvbnN0IFtwcm9wLCB0eXBlXSBvZiBPYmplY3QuZW50cmllcyhzY2hlbWEpKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gZG9jW3Byb3BdO1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGUgPT09ICdnZW9wb2ludCcgJiZcbiAgICAgICAgICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgICAgIHR5cGVvZiB2YWx1ZS5sb24gPT09ICdudW1iZXInICYmXG4gICAgICAgICAgICB0eXBlb2YgdmFsdWUubGF0ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGUgPT09ICdlbnVtJyAmJiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGUgPT09ICdlbnVtW10nICYmIEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZUxlbmd0aCA9IHZhbHVlLmxlbmd0aDtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWVMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWVbaV0gIT09ICdzdHJpbmcnICYmIHR5cGVvZiB2YWx1ZVtpXSAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByb3AgKyAnLicgKyBpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1ZlY3RvclR5cGUodHlwZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IHZlY3RvclNpemUgPSBnZXRWZWN0b3JTaXplKHR5cGUpO1xuICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHZhbHVlKSB8fCB2YWx1ZS5sZW5ndGggIT09IHZlY3RvclNpemUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignSU5WQUxJRF9JTlBVVF9WRUNUT1InLCBwcm9wLCB2ZWN0b3JTaXplLCB2YWx1ZS5sZW5ndGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQXJyYXlUeXBlKHR5cGUpKSB7XG4gICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb3A7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBleHBlY3RlZFR5cGUgPSBnZXRJbm5lclR5cGUodHlwZSk7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZUxlbmd0aCA9IHZhbHVlLmxlbmd0aDtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWVMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWVbaV0gIT09IGV4cGVjdGVkVHlwZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJvcCArICcuJyArIGk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiB0eXBlID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgaWYgKCF2YWx1ZSB8fCB0eXBlb2YgdmFsdWUgIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb3A7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB1c2luZyBhcyBSZXN1bHREb2N1bWVudCBpcyBub3QgZXhhY3RseSByaWdodCBidXQgdHJ5aW5nIHRvIGJlIHR5cGUtc2FmZSBoZXJlIGlzIG5vdCB1c2VmdWxcbiAgICAgICAgICAgIGNvbnN0IHN1YlByb3AgPSB2YWxpZGF0ZVNjaGVtYSh2YWx1ZSwgdHlwZSk7XG4gICAgICAgICAgICBpZiAoc3ViUHJvcCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwcm9wICsgJy4nICsgc3ViUHJvcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IHR5cGUpIHtcbiAgICAgICAgICAgIHJldHVybiBwcm9wO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5jb25zdCBJU19BUlJBWV9UWVBFID0ge1xuICAgIHN0cmluZzogZmFsc2UsXG4gICAgbnVtYmVyOiBmYWxzZSxcbiAgICBib29sZWFuOiBmYWxzZSxcbiAgICBlbnVtOiBmYWxzZSxcbiAgICBnZW9wb2ludDogZmFsc2UsXG4gICAgJ3N0cmluZ1tdJzogdHJ1ZSxcbiAgICAnbnVtYmVyW10nOiB0cnVlLFxuICAgICdib29sZWFuW10nOiB0cnVlLFxuICAgICdlbnVtW10nOiB0cnVlXG59O1xuY29uc3QgSU5ORVJfVFlQRSA9IHtcbiAgICAnc3RyaW5nW10nOiAnc3RyaW5nJyxcbiAgICAnbnVtYmVyW10nOiAnbnVtYmVyJyxcbiAgICAnYm9vbGVhbltdJzogJ2Jvb2xlYW4nLFxuICAgICdlbnVtW10nOiAnZW51bSdcbn07XG5leHBvcnQgZnVuY3Rpb24gaXNHZW9Qb2ludFR5cGUodHlwZSkge1xuICAgIHJldHVybiB0eXBlID09PSAnZ2VvcG9pbnQnO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzVmVjdG9yVHlwZSh0eXBlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJyAmJiAvXnZlY3RvclxcW1xcZCtcXF0kLy50ZXN0KHR5cGUpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQXJyYXlUeXBlKHR5cGUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnICYmIElTX0FSUkFZX1RZUEVbdHlwZV07XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0SW5uZXJUeXBlKHR5cGUpIHtcbiAgICByZXR1cm4gSU5ORVJfVFlQRVt0eXBlXTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRWZWN0b3JTaXplKHR5cGUpIHtcbiAgICBjb25zdCBzaXplID0gTnVtYmVyKHR5cGUuc2xpY2UoNywgLTEpKTtcbiAgICBzd2l0Y2ggKHRydWUpIHtcbiAgICAgICAgY2FzZSBpc05hTihzaXplKTpcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUVycm9yKCdJTlZBTElEX1ZFQ1RPUl9WQUxVRScsIHR5cGUpO1xuICAgICAgICBjYXNlIHNpemUgPD0gMDpcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUVycm9yKCdJTlZBTElEX1ZFQ1RPUl9TSVpFJywgdHlwZSk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gc2l6ZTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZWZhdWx0cy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/defaults.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/documents-store.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@orama/orama/dist/browser/components/documents-store.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   count: () => (/* binding */ count),\n/* harmony export */   create: () => (/* binding */ create),\n/* harmony export */   createDocumentsStore: () => (/* binding */ createDocumentsStore),\n/* harmony export */   get: () => (/* binding */ get),\n/* harmony export */   getAll: () => (/* binding */ getAll),\n/* harmony export */   getMultiple: () => (/* binding */ getMultiple),\n/* harmony export */   load: () => (/* binding */ load),\n/* harmony export */   remove: () => (/* binding */ remove),\n/* harmony export */   save: () => (/* binding */ save),\n/* harmony export */   store: () => (/* binding */ store)\n/* harmony export */ });\n/* harmony import */ var _internal_document_id_store_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./internal-document-id-store.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/internal-document-id-store.js\");\n\nfunction create(_, sharedInternalDocumentStore) {\n    return {\n        sharedInternalDocumentStore,\n        docs: {},\n        count: 0\n    };\n}\nfunction get(store, id) {\n    const internalId = (0,_internal_document_id_store_js__WEBPACK_IMPORTED_MODULE_0__.getInternalDocumentId)(store.sharedInternalDocumentStore, id);\n    return store.docs[internalId];\n}\nfunction getMultiple(store, ids) {\n    const idsLength = ids.length;\n    const found = Array.from({ length: idsLength });\n    for (let i = 0; i < idsLength; i++) {\n        const internalId = (0,_internal_document_id_store_js__WEBPACK_IMPORTED_MODULE_0__.getInternalDocumentId)(store.sharedInternalDocumentStore, ids[i]);\n        found[i] = store.docs[internalId];\n    }\n    return found;\n}\nfunction getAll(store) {\n    return store.docs;\n}\nfunction store(store, id, internalId, doc) {\n    if (typeof store.docs[internalId] !== 'undefined') {\n        return false;\n    }\n    store.docs[internalId] = doc;\n    store.count++;\n    return true;\n}\nfunction remove(store, id) {\n    const internalId = (0,_internal_document_id_store_js__WEBPACK_IMPORTED_MODULE_0__.getInternalDocumentId)(store.sharedInternalDocumentStore, id);\n    if (typeof store.docs[internalId] === 'undefined') {\n        return false;\n    }\n    delete store.docs[internalId];\n    store.count--;\n    return true;\n}\nfunction count(store) {\n    return store.count;\n}\nfunction load(sharedInternalDocumentStore, raw) {\n    const rawDocument = raw;\n    return {\n        docs: rawDocument.docs,\n        count: rawDocument.count,\n        sharedInternalDocumentStore\n    };\n}\nfunction save(store) {\n    return {\n        docs: store.docs,\n        count: store.count\n    };\n}\nfunction createDocumentsStore() {\n    return {\n        create,\n        get,\n        getMultiple,\n        getAll,\n        store,\n        remove,\n        count,\n        load,\n        save\n    };\n}\n//# sourceMappingURL=documents-store.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9icm93c2VyL2NvbXBvbmVudHMvZG9jdW1lbnRzLXN0b3JlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQXdFO0FBQ2pFO0FBQ1A7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDTztBQUNQLHVCQUF1QixxRkFBcUI7QUFDNUM7QUFDQTtBQUNPO0FBQ1A7QUFDQSwrQkFBK0IsbUJBQW1CO0FBQ2xELG9CQUFvQixlQUFlO0FBQ25DLDJCQUEyQixxRkFBcUI7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCx1QkFBdUIscUZBQXFCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy9hcmNoaWVtY2tlbnppZS9EZXNrdG9wL2d0LWxpYnJhcmllcy9kb2NzL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9icm93c2VyL2NvbXBvbmVudHMvZG9jdW1lbnRzLXN0b3JlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldEludGVybmFsRG9jdW1lbnRJZCB9IGZyb20gJy4vaW50ZXJuYWwtZG9jdW1lbnQtaWQtc3RvcmUuanMnO1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZShfLCBzaGFyZWRJbnRlcm5hbERvY3VtZW50U3RvcmUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBzaGFyZWRJbnRlcm5hbERvY3VtZW50U3RvcmUsXG4gICAgICAgIGRvY3M6IHt9LFxuICAgICAgICBjb3VudDogMFxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0KHN0b3JlLCBpZCkge1xuICAgIGNvbnN0IGludGVybmFsSWQgPSBnZXRJbnRlcm5hbERvY3VtZW50SWQoc3RvcmUuc2hhcmVkSW50ZXJuYWxEb2N1bWVudFN0b3JlLCBpZCk7XG4gICAgcmV0dXJuIHN0b3JlLmRvY3NbaW50ZXJuYWxJZF07XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0TXVsdGlwbGUoc3RvcmUsIGlkcykge1xuICAgIGNvbnN0IGlkc0xlbmd0aCA9IGlkcy5sZW5ndGg7XG4gICAgY29uc3QgZm91bmQgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiBpZHNMZW5ndGggfSk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpZHNMZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBpbnRlcm5hbElkID0gZ2V0SW50ZXJuYWxEb2N1bWVudElkKHN0b3JlLnNoYXJlZEludGVybmFsRG9jdW1lbnRTdG9yZSwgaWRzW2ldKTtcbiAgICAgICAgZm91bmRbaV0gPSBzdG9yZS5kb2NzW2ludGVybmFsSWRdO1xuICAgIH1cbiAgICByZXR1cm4gZm91bmQ7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0QWxsKHN0b3JlKSB7XG4gICAgcmV0dXJuIHN0b3JlLmRvY3M7XG59XG5leHBvcnQgZnVuY3Rpb24gc3RvcmUoc3RvcmUsIGlkLCBpbnRlcm5hbElkLCBkb2MpIHtcbiAgICBpZiAodHlwZW9mIHN0b3JlLmRvY3NbaW50ZXJuYWxJZF0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgc3RvcmUuZG9jc1tpbnRlcm5hbElkXSA9IGRvYztcbiAgICBzdG9yZS5jb3VudCsrO1xuICAgIHJldHVybiB0cnVlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZShzdG9yZSwgaWQpIHtcbiAgICBjb25zdCBpbnRlcm5hbElkID0gZ2V0SW50ZXJuYWxEb2N1bWVudElkKHN0b3JlLnNoYXJlZEludGVybmFsRG9jdW1lbnRTdG9yZSwgaWQpO1xuICAgIGlmICh0eXBlb2Ygc3RvcmUuZG9jc1tpbnRlcm5hbElkXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBkZWxldGUgc3RvcmUuZG9jc1tpbnRlcm5hbElkXTtcbiAgICBzdG9yZS5jb3VudC0tO1xuICAgIHJldHVybiB0cnVlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNvdW50KHN0b3JlKSB7XG4gICAgcmV0dXJuIHN0b3JlLmNvdW50O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGxvYWQoc2hhcmVkSW50ZXJuYWxEb2N1bWVudFN0b3JlLCByYXcpIHtcbiAgICBjb25zdCByYXdEb2N1bWVudCA9IHJhdztcbiAgICByZXR1cm4ge1xuICAgICAgICBkb2NzOiByYXdEb2N1bWVudC5kb2NzLFxuICAgICAgICBjb3VudDogcmF3RG9jdW1lbnQuY291bnQsXG4gICAgICAgIHNoYXJlZEludGVybmFsRG9jdW1lbnRTdG9yZVxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gc2F2ZShzdG9yZSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGRvY3M6IHN0b3JlLmRvY3MsXG4gICAgICAgIGNvdW50OiBzdG9yZS5jb3VudFxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRG9jdW1lbnRzU3RvcmUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY3JlYXRlLFxuICAgICAgICBnZXQsXG4gICAgICAgIGdldE11bHRpcGxlLFxuICAgICAgICBnZXRBbGwsXG4gICAgICAgIHN0b3JlLFxuICAgICAgICByZW1vdmUsXG4gICAgICAgIGNvdW50LFxuICAgICAgICBsb2FkLFxuICAgICAgICBzYXZlXG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRvY3VtZW50cy1zdG9yZS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/documents-store.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/facets.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@orama/orama/dist/browser/components/facets.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getFacets: () => (/* binding */ getFacets)\n/* harmony export */ });\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../errors.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/errors.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/utils.js\");\n\n\nfunction sortAsc(a, b) {\n    return a[1] - b[1];\n}\nfunction sortDesc(a, b) {\n    return b[1] - a[1];\n}\nfunction sortingPredicateBuilder(order = 'desc') {\n    return order.toLowerCase() === 'asc' ? sortAsc : sortDesc;\n}\nfunction getFacets(orama, results, facetsConfig) {\n    const facets = {};\n    const allIDs = results.map(([id]) => id);\n    const allDocs = orama.documentsStore.getMultiple(orama.data.docs, allIDs);\n    const facetKeys = Object.keys(facetsConfig);\n    const properties = orama.index.getSearchablePropertiesWithTypes(orama.data.index);\n    for (const facet of facetKeys) {\n        let values;\n        // Hack to guarantee the same order of ranges as specified by the user\n        // TODO: Revisit this once components land\n        if (properties[facet] === 'number') {\n            const { ranges } = facetsConfig[facet];\n            const rangesLength = ranges.length;\n            const tmp = Array.from({ length: rangesLength });\n            for (let i = 0; i < rangesLength; i++) {\n                const range = ranges[i];\n                tmp[i] = [`${range.from}-${range.to}`, 0];\n            }\n            values = Object.fromEntries(tmp);\n        }\n        facets[facet] = {\n            count: 0,\n            values: values ?? {}\n        };\n    }\n    const allDocsLength = allDocs.length;\n    for (let i = 0; i < allDocsLength; i++) {\n        const doc = allDocs[i];\n        for (const facet of facetKeys) {\n            const facetValue = facet.includes('.') ? (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.getNested)(doc, facet) : doc[facet];\n            const propertyType = properties[facet];\n            const facetValues = facets[facet].values;\n            switch (propertyType) {\n                case 'number': {\n                    const ranges = facetsConfig[facet].ranges;\n                    calculateNumberFacetBuilder(ranges, facetValues)(facetValue);\n                    break;\n                }\n                case 'number[]': {\n                    const alreadyInsertedValues = new Set();\n                    const ranges = facetsConfig[facet].ranges;\n                    const calculateNumberFacet = calculateNumberFacetBuilder(ranges, facetValues, alreadyInsertedValues);\n                    for (const v of facetValue) {\n                        calculateNumberFacet(v);\n                    }\n                    break;\n                }\n                case 'boolean':\n                case 'enum':\n                case 'string': {\n                    calculateBooleanStringOrEnumFacetBuilder(facetValues, propertyType)(facetValue);\n                    break;\n                }\n                case 'boolean[]':\n                case 'enum[]':\n                case 'string[]': {\n                    const alreadyInsertedValues = new Set();\n                    const innerType = propertyType === 'boolean[]' ? 'boolean' : 'string';\n                    const calculateBooleanStringOrEnumFacet = calculateBooleanStringOrEnumFacetBuilder(facetValues, innerType, alreadyInsertedValues);\n                    for (const v of facetValue) {\n                        calculateBooleanStringOrEnumFacet(v);\n                    }\n                    break;\n                }\n                default:\n                    throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_0__.createError)('FACET_NOT_SUPPORTED', propertyType);\n            }\n        }\n    }\n    // TODO: We are looping again with the same previous keys, should we creat a single loop instead?\n    for (const facet of facetKeys) {\n        const currentFacet = facets[facet];\n        // Count the number of values for each facet\n        currentFacet.count = Object.keys(currentFacet.values).length;\n        // Sort only string-based facets\n        if (properties[facet] === 'string') {\n            const stringFacetDefinition = facetsConfig[facet];\n            const sortingPredicate = sortingPredicateBuilder(stringFacetDefinition.sort);\n            currentFacet.values = Object.fromEntries(Object.entries(currentFacet.values)\n                .sort(sortingPredicate)\n                .slice(stringFacetDefinition.offset ?? 0, stringFacetDefinition.limit ?? 10));\n        }\n    }\n    return facets;\n}\nfunction calculateNumberFacetBuilder(ranges, values, alreadyInsertedValues) {\n    return (facetValue) => {\n        for (const range of ranges) {\n            const value = `${range.from}-${range.to}`;\n            if (alreadyInsertedValues?.has(value)) {\n                continue;\n            }\n            if (facetValue >= range.from && facetValue <= range.to) {\n                if (values[value] === undefined) {\n                    values[value] = 1;\n                }\n                else {\n                    values[value]++;\n                    alreadyInsertedValues?.add(value);\n                }\n            }\n        }\n    };\n}\nfunction calculateBooleanStringOrEnumFacetBuilder(values, propertyType, alreadyInsertedValues) {\n    const defaultValue = propertyType === 'boolean' ? 'false' : '';\n    return (facetValue) => {\n        // String or boolean based facets\n        const value = facetValue?.toString() ?? defaultValue;\n        if (alreadyInsertedValues?.has(value)) {\n            return;\n        }\n        values[value] = (values[value] ?? 0) + 1;\n        alreadyInsertedValues?.add(value);\n    };\n}\n//# sourceMappingURL=facets.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9icm93c2VyL2NvbXBvbmVudHMvZmFjZXRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUEyQztBQUNIO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsU0FBUztBQUM3QjtBQUNBLHFDQUFxQyxzQkFBc0I7QUFDM0QsNEJBQTRCLGtCQUFrQjtBQUM5QztBQUNBLDZCQUE2QixXQUFXLEdBQUcsU0FBUztBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsbUJBQW1CO0FBQ3ZDO0FBQ0E7QUFDQSxxREFBcUQsb0RBQVM7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQix1REFBVztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixXQUFXLEdBQUcsU0FBUztBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL2FyY2hpZW1ja2VuemllL0Rlc2t0b3AvZ3QtbGlicmFyaWVzL2RvY3Mvbm9kZV9tb2R1bGVzL0BvcmFtYS9vcmFtYS9kaXN0L2Jyb3dzZXIvY29tcG9uZW50cy9mYWNldHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlRXJyb3IgfSBmcm9tICcuLi9lcnJvcnMuanMnO1xuaW1wb3J0IHsgZ2V0TmVzdGVkIH0gZnJvbSAnLi4vdXRpbHMuanMnO1xuZnVuY3Rpb24gc29ydEFzYyhhLCBiKSB7XG4gICAgcmV0dXJuIGFbMV0gLSBiWzFdO1xufVxuZnVuY3Rpb24gc29ydERlc2MoYSwgYikge1xuICAgIHJldHVybiBiWzFdIC0gYVsxXTtcbn1cbmZ1bmN0aW9uIHNvcnRpbmdQcmVkaWNhdGVCdWlsZGVyKG9yZGVyID0gJ2Rlc2MnKSB7XG4gICAgcmV0dXJuIG9yZGVyLnRvTG93ZXJDYXNlKCkgPT09ICdhc2MnID8gc29ydEFzYyA6IHNvcnREZXNjO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldEZhY2V0cyhvcmFtYSwgcmVzdWx0cywgZmFjZXRzQ29uZmlnKSB7XG4gICAgY29uc3QgZmFjZXRzID0ge307XG4gICAgY29uc3QgYWxsSURzID0gcmVzdWx0cy5tYXAoKFtpZF0pID0+IGlkKTtcbiAgICBjb25zdCBhbGxEb2NzID0gb3JhbWEuZG9jdW1lbnRzU3RvcmUuZ2V0TXVsdGlwbGUob3JhbWEuZGF0YS5kb2NzLCBhbGxJRHMpO1xuICAgIGNvbnN0IGZhY2V0S2V5cyA9IE9iamVjdC5rZXlzKGZhY2V0c0NvbmZpZyk7XG4gICAgY29uc3QgcHJvcGVydGllcyA9IG9yYW1hLmluZGV4LmdldFNlYXJjaGFibGVQcm9wZXJ0aWVzV2l0aFR5cGVzKG9yYW1hLmRhdGEuaW5kZXgpO1xuICAgIGZvciAoY29uc3QgZmFjZXQgb2YgZmFjZXRLZXlzKSB7XG4gICAgICAgIGxldCB2YWx1ZXM7XG4gICAgICAgIC8vIEhhY2sgdG8gZ3VhcmFudGVlIHRoZSBzYW1lIG9yZGVyIG9mIHJhbmdlcyBhcyBzcGVjaWZpZWQgYnkgdGhlIHVzZXJcbiAgICAgICAgLy8gVE9ETzogUmV2aXNpdCB0aGlzIG9uY2UgY29tcG9uZW50cyBsYW5kXG4gICAgICAgIGlmIChwcm9wZXJ0aWVzW2ZhY2V0XSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgcmFuZ2VzIH0gPSBmYWNldHNDb25maWdbZmFjZXRdO1xuICAgICAgICAgICAgY29uc3QgcmFuZ2VzTGVuZ3RoID0gcmFuZ2VzLmxlbmd0aDtcbiAgICAgICAgICAgIGNvbnN0IHRtcCA9IEFycmF5LmZyb20oeyBsZW5ndGg6IHJhbmdlc0xlbmd0aCB9KTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmFuZ2VzTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCByYW5nZSA9IHJhbmdlc1tpXTtcbiAgICAgICAgICAgICAgICB0bXBbaV0gPSBbYCR7cmFuZ2UuZnJvbX0tJHtyYW5nZS50b31gLCAwXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhbHVlcyA9IE9iamVjdC5mcm9tRW50cmllcyh0bXApO1xuICAgICAgICB9XG4gICAgICAgIGZhY2V0c1tmYWNldF0gPSB7XG4gICAgICAgICAgICBjb3VudDogMCxcbiAgICAgICAgICAgIHZhbHVlczogdmFsdWVzID8/IHt9XG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IGFsbERvY3NMZW5ndGggPSBhbGxEb2NzLmxlbmd0aDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFsbERvY3NMZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBkb2MgPSBhbGxEb2NzW2ldO1xuICAgICAgICBmb3IgKGNvbnN0IGZhY2V0IG9mIGZhY2V0S2V5cykge1xuICAgICAgICAgICAgY29uc3QgZmFjZXRWYWx1ZSA9IGZhY2V0LmluY2x1ZGVzKCcuJykgPyBnZXROZXN0ZWQoZG9jLCBmYWNldCkgOiBkb2NbZmFjZXRdO1xuICAgICAgICAgICAgY29uc3QgcHJvcGVydHlUeXBlID0gcHJvcGVydGllc1tmYWNldF07XG4gICAgICAgICAgICBjb25zdCBmYWNldFZhbHVlcyA9IGZhY2V0c1tmYWNldF0udmFsdWVzO1xuICAgICAgICAgICAgc3dpdGNoIChwcm9wZXJ0eVR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdudW1iZXInOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhbmdlcyA9IGZhY2V0c0NvbmZpZ1tmYWNldF0ucmFuZ2VzO1xuICAgICAgICAgICAgICAgICAgICBjYWxjdWxhdGVOdW1iZXJGYWNldEJ1aWxkZXIocmFuZ2VzLCBmYWNldFZhbHVlcykoZmFjZXRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICdudW1iZXJbXSc6IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWxyZWFkeUluc2VydGVkVmFsdWVzID0gbmV3IFNldCgpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByYW5nZXMgPSBmYWNldHNDb25maWdbZmFjZXRdLnJhbmdlcztcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FsY3VsYXRlTnVtYmVyRmFjZXQgPSBjYWxjdWxhdGVOdW1iZXJGYWNldEJ1aWxkZXIocmFuZ2VzLCBmYWNldFZhbHVlcywgYWxyZWFkeUluc2VydGVkVmFsdWVzKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCB2IG9mIGZhY2V0VmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGN1bGF0ZU51bWJlckZhY2V0KHYpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICdib29sZWFuJzpcbiAgICAgICAgICAgICAgICBjYXNlICdlbnVtJzpcbiAgICAgICAgICAgICAgICBjYXNlICdzdHJpbmcnOiB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGN1bGF0ZUJvb2xlYW5TdHJpbmdPckVudW1GYWNldEJ1aWxkZXIoZmFjZXRWYWx1ZXMsIHByb3BlcnR5VHlwZSkoZmFjZXRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICdib29sZWFuW10nOlxuICAgICAgICAgICAgICAgIGNhc2UgJ2VudW1bXSc6XG4gICAgICAgICAgICAgICAgY2FzZSAnc3RyaW5nW10nOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFscmVhZHlJbnNlcnRlZFZhbHVlcyA9IG5ldyBTZXQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5uZXJUeXBlID0gcHJvcGVydHlUeXBlID09PSAnYm9vbGVhbltdJyA/ICdib29sZWFuJyA6ICdzdHJpbmcnO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjYWxjdWxhdGVCb29sZWFuU3RyaW5nT3JFbnVtRmFjZXQgPSBjYWxjdWxhdGVCb29sZWFuU3RyaW5nT3JFbnVtRmFjZXRCdWlsZGVyKGZhY2V0VmFsdWVzLCBpbm5lclR5cGUsIGFscmVhZHlJbnNlcnRlZFZhbHVlcyk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdiBvZiBmYWNldFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxjdWxhdGVCb29sZWFuU3RyaW5nT3JFbnVtRmFjZXQodik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZUVycm9yKCdGQUNFVF9OT1RfU1VQUE9SVEVEJywgcHJvcGVydHlUeXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBUT0RPOiBXZSBhcmUgbG9vcGluZyBhZ2FpbiB3aXRoIHRoZSBzYW1lIHByZXZpb3VzIGtleXMsIHNob3VsZCB3ZSBjcmVhdCBhIHNpbmdsZSBsb29wIGluc3RlYWQ/XG4gICAgZm9yIChjb25zdCBmYWNldCBvZiBmYWNldEtleXMpIHtcbiAgICAgICAgY29uc3QgY3VycmVudEZhY2V0ID0gZmFjZXRzW2ZhY2V0XTtcbiAgICAgICAgLy8gQ291bnQgdGhlIG51bWJlciBvZiB2YWx1ZXMgZm9yIGVhY2ggZmFjZXRcbiAgICAgICAgY3VycmVudEZhY2V0LmNvdW50ID0gT2JqZWN0LmtleXMoY3VycmVudEZhY2V0LnZhbHVlcykubGVuZ3RoO1xuICAgICAgICAvLyBTb3J0IG9ubHkgc3RyaW5nLWJhc2VkIGZhY2V0c1xuICAgICAgICBpZiAocHJvcGVydGllc1tmYWNldF0gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBjb25zdCBzdHJpbmdGYWNldERlZmluaXRpb24gPSBmYWNldHNDb25maWdbZmFjZXRdO1xuICAgICAgICAgICAgY29uc3Qgc29ydGluZ1ByZWRpY2F0ZSA9IHNvcnRpbmdQcmVkaWNhdGVCdWlsZGVyKHN0cmluZ0ZhY2V0RGVmaW5pdGlvbi5zb3J0KTtcbiAgICAgICAgICAgIGN1cnJlbnRGYWNldC52YWx1ZXMgPSBPYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXMoY3VycmVudEZhY2V0LnZhbHVlcylcbiAgICAgICAgICAgICAgICAuc29ydChzb3J0aW5nUHJlZGljYXRlKVxuICAgICAgICAgICAgICAgIC5zbGljZShzdHJpbmdGYWNldERlZmluaXRpb24ub2Zmc2V0ID8/IDAsIHN0cmluZ0ZhY2V0RGVmaW5pdGlvbi5saW1pdCA/PyAxMCkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWNldHM7XG59XG5mdW5jdGlvbiBjYWxjdWxhdGVOdW1iZXJGYWNldEJ1aWxkZXIocmFuZ2VzLCB2YWx1ZXMsIGFscmVhZHlJbnNlcnRlZFZhbHVlcykge1xuICAgIHJldHVybiAoZmFjZXRWYWx1ZSkgPT4ge1xuICAgICAgICBmb3IgKGNvbnN0IHJhbmdlIG9mIHJhbmdlcykge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBgJHtyYW5nZS5mcm9tfS0ke3JhbmdlLnRvfWA7XG4gICAgICAgICAgICBpZiAoYWxyZWFkeUluc2VydGVkVmFsdWVzPy5oYXModmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZmFjZXRWYWx1ZSA+PSByYW5nZS5mcm9tICYmIGZhY2V0VmFsdWUgPD0gcmFuZ2UudG8pIHtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWVzW3ZhbHVlXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlc1t2YWx1ZV0gPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVzW3ZhbHVlXSsrO1xuICAgICAgICAgICAgICAgICAgICBhbHJlYWR5SW5zZXJ0ZWRWYWx1ZXM/LmFkZCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbn1cbmZ1bmN0aW9uIGNhbGN1bGF0ZUJvb2xlYW5TdHJpbmdPckVudW1GYWNldEJ1aWxkZXIodmFsdWVzLCBwcm9wZXJ0eVR5cGUsIGFscmVhZHlJbnNlcnRlZFZhbHVlcykge1xuICAgIGNvbnN0IGRlZmF1bHRWYWx1ZSA9IHByb3BlcnR5VHlwZSA9PT0gJ2Jvb2xlYW4nID8gJ2ZhbHNlJyA6ICcnO1xuICAgIHJldHVybiAoZmFjZXRWYWx1ZSkgPT4ge1xuICAgICAgICAvLyBTdHJpbmcgb3IgYm9vbGVhbiBiYXNlZCBmYWNldHNcbiAgICAgICAgY29uc3QgdmFsdWUgPSBmYWNldFZhbHVlPy50b1N0cmluZygpID8/IGRlZmF1bHRWYWx1ZTtcbiAgICAgICAgaWYgKGFscmVhZHlJbnNlcnRlZFZhbHVlcz8uaGFzKHZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhbHVlc1t2YWx1ZV0gPSAodmFsdWVzW3ZhbHVlXSA/PyAwKSArIDE7XG4gICAgICAgIGFscmVhZHlJbnNlcnRlZFZhbHVlcz8uYWRkKHZhbHVlKTtcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmFjZXRzLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/facets.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/groups.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@orama/orama/dist/browser/components/groups.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getGroups: () => (/* binding */ getGroups)\n/* harmony export */ });\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../errors.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/errors.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/utils.js\");\n/* harmony import */ var _internal_document_id_store_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./internal-document-id-store.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/internal-document-id-store.js\");\n\n\n\nconst DEFAULT_REDUCE = {\n    reducer: (_, acc, res, index) => {\n        acc[index] = res;\n        return acc;\n    },\n    getInitialValue: (length) => Array.from({ length })\n};\nconst ALLOWED_TYPES = ['string', 'number', 'boolean'];\nfunction getGroups(orama, results, groupBy) {\n    const properties = groupBy.properties;\n    const propertiesLength = properties.length;\n    const schemaProperties = orama.index.getSearchablePropertiesWithTypes(orama.data.index);\n    for (let i = 0; i < propertiesLength; i++) {\n        const property = properties[i];\n        if (typeof schemaProperties[property] === 'undefined') {\n            throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_0__.createError)('UNKNOWN_GROUP_BY_PROPERTY', property);\n        }\n        if (!ALLOWED_TYPES.includes(schemaProperties[property])) {\n            throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_0__.createError)('INVALID_GROUP_BY_PROPERTY', property, ALLOWED_TYPES.join(', '), schemaProperties[property]);\n        }\n    }\n    const allIDs = results.map(([id]) => (0,_internal_document_id_store_js__WEBPACK_IMPORTED_MODULE_2__.getDocumentIdFromInternalId)(orama.internalDocumentIDStore, id));\n    // allDocs is already sorted by the sortBy algorithm\n    // We leverage on that to limit the number of documents returned\n    const allDocs = orama.documentsStore.getMultiple(orama.data.docs, allIDs);\n    const allDocsLength = allDocs.length;\n    const returnedCount = groupBy.maxResult || Number.MAX_SAFE_INTEGER;\n    const listOfValues = [];\n    // We want to understand which documents have which values\n    // and group them by the property and values\n    const g = {};\n    for (let i = 0; i < propertiesLength; i++) {\n        const groupByKey = properties[i];\n        const group = {\n            property: groupByKey,\n            perValue: {}\n        };\n        const values = new Set();\n        for (let j = 0; j < allDocsLength; j++) {\n            const doc = allDocs[j];\n            const value = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.getNested)(doc, groupByKey);\n            // we don't want to consider undefined values\n            if (typeof value === 'undefined') {\n                continue;\n            }\n            const keyValue = typeof value !== 'boolean' ? value : '' + value;\n            const perValue = group.perValue[keyValue] ?? {\n                indexes: [],\n                count: 0\n            };\n            if (perValue.count >= returnedCount) {\n                // We stop early because for this value we react the limit\n                continue;\n            }\n            // We use the index to keep track of the original order\n            perValue.indexes.push(j);\n            perValue.count++;\n            group.perValue[keyValue] = perValue;\n            values.add(value);\n        }\n        listOfValues.push(Array.from(values));\n        g[groupByKey] = group;\n    }\n    const combinations = calculateCombination(listOfValues);\n    const combinationsLength = combinations.length;\n    const groups = [];\n    for (let i = 0; i < combinationsLength; i++) {\n        const combination = combinations[i];\n        const combinationLength = combination.length;\n        const group = {\n            values: [],\n            indexes: []\n        };\n        const indexes = [];\n        for (let j = 0; j < combinationLength; j++) {\n            const value = combination[j];\n            const property = properties[j];\n            indexes.push(g[property].perValue[(typeof value !== 'boolean' ? value : '' + value)].indexes);\n            group.values.push(value);\n        }\n        // We leverage on the index to sort the results by the original order\n        group.indexes = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.intersect)(indexes).sort((a, b) => a - b);\n        // don't generate empty groups\n        if (group.indexes.length === 0) {\n            continue;\n        }\n        groups.push(group);\n    }\n    const groupsLength = groups.length;\n    const res = Array.from({ length: groupsLength });\n    for (let i = 0; i < groupsLength; i++) {\n        const group = groups[i];\n        const reduce = (groupBy.reduce || DEFAULT_REDUCE);\n        const docs = group.indexes.map((index) => {\n            return {\n                id: allIDs[index],\n                score: results[index][1],\n                document: allDocs[index]\n            };\n        });\n        const func = reduce.reducer.bind(null, group.values);\n        const initialValue = reduce.getInitialValue(group.indexes.length);\n        const aggregationValue = docs.reduce(func, initialValue);\n        res[i] = {\n            values: group.values,\n            result: aggregationValue\n        };\n    }\n    return res;\n}\nfunction calculateCombination(arrs, index = 0) {\n    if (index + 1 === arrs.length)\n        return arrs[index].map((item) => [item]);\n    const head = arrs[index];\n    const c = calculateCombination(arrs, index + 1);\n    const combinations = [];\n    for (const value of head) {\n        for (const combination of c) {\n            const result = [value];\n            (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.safeArrayPush)(result, combination);\n            combinations.push(result);\n        }\n    }\n    return combinations;\n}\n//# sourceMappingURL=groups.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9icm93c2VyL2NvbXBvbmVudHMvZ3JvdXBzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBMkM7QUFDdUI7QUFDWTtBQUM5RTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCw4Q0FBOEMsUUFBUTtBQUN0RDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isc0JBQXNCO0FBQzFDO0FBQ0E7QUFDQSxrQkFBa0IsdURBQVc7QUFDN0I7QUFDQTtBQUNBLGtCQUFrQix1REFBVztBQUM3QjtBQUNBO0FBQ0EseUNBQXlDLDJGQUEyQjtBQUNwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isc0JBQXNCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixtQkFBbUI7QUFDM0M7QUFDQSwwQkFBMEIsb0RBQVM7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isd0JBQXdCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHVCQUF1QjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isb0RBQVM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsc0JBQXNCO0FBQ25ELG9CQUFvQixrQkFBa0I7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksd0RBQWE7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvYXJjaGllbWNrZW56aWUvRGVza3RvcC9ndC1saWJyYXJpZXMvZG9jcy9ub2RlX21vZHVsZXMvQG9yYW1hL29yYW1hL2Rpc3QvYnJvd3Nlci9jb21wb25lbnRzL2dyb3Vwcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVFcnJvciB9IGZyb20gJy4uL2Vycm9ycy5qcyc7XG5pbXBvcnQgeyBnZXROZXN0ZWQsIGludGVyc2VjdCwgc2FmZUFycmF5UHVzaCB9IGZyb20gJy4uL3V0aWxzLmpzJztcbmltcG9ydCB7IGdldERvY3VtZW50SWRGcm9tSW50ZXJuYWxJZCB9IGZyb20gJy4vaW50ZXJuYWwtZG9jdW1lbnQtaWQtc3RvcmUuanMnO1xuY29uc3QgREVGQVVMVF9SRURVQ0UgPSB7XG4gICAgcmVkdWNlcjogKF8sIGFjYywgcmVzLCBpbmRleCkgPT4ge1xuICAgICAgICBhY2NbaW5kZXhdID0gcmVzO1xuICAgICAgICByZXR1cm4gYWNjO1xuICAgIH0sXG4gICAgZ2V0SW5pdGlhbFZhbHVlOiAobGVuZ3RoKSA9PiBBcnJheS5mcm9tKHsgbGVuZ3RoIH0pXG59O1xuY29uc3QgQUxMT1dFRF9UWVBFUyA9IFsnc3RyaW5nJywgJ251bWJlcicsICdib29sZWFuJ107XG5leHBvcnQgZnVuY3Rpb24gZ2V0R3JvdXBzKG9yYW1hLCByZXN1bHRzLCBncm91cEJ5KSB7XG4gICAgY29uc3QgcHJvcGVydGllcyA9IGdyb3VwQnkucHJvcGVydGllcztcbiAgICBjb25zdCBwcm9wZXJ0aWVzTGVuZ3RoID0gcHJvcGVydGllcy5sZW5ndGg7XG4gICAgY29uc3Qgc2NoZW1hUHJvcGVydGllcyA9IG9yYW1hLmluZGV4LmdldFNlYXJjaGFibGVQcm9wZXJ0aWVzV2l0aFR5cGVzKG9yYW1hLmRhdGEuaW5kZXgpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvcGVydGllc0xlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHByb3BlcnR5ID0gcHJvcGVydGllc1tpXTtcbiAgICAgICAgaWYgKHR5cGVvZiBzY2hlbWFQcm9wZXJ0aWVzW3Byb3BlcnR5XSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUVycm9yKCdVTktOT1dOX0dST1VQX0JZX1BST1BFUlRZJywgcHJvcGVydHkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghQUxMT1dFRF9UWVBFUy5pbmNsdWRlcyhzY2hlbWFQcm9wZXJ0aWVzW3Byb3BlcnR5XSkpIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUVycm9yKCdJTlZBTElEX0dST1VQX0JZX1BST1BFUlRZJywgcHJvcGVydHksIEFMTE9XRURfVFlQRVMuam9pbignLCAnKSwgc2NoZW1hUHJvcGVydGllc1twcm9wZXJ0eV0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGFsbElEcyA9IHJlc3VsdHMubWFwKChbaWRdKSA9PiBnZXREb2N1bWVudElkRnJvbUludGVybmFsSWQob3JhbWEuaW50ZXJuYWxEb2N1bWVudElEU3RvcmUsIGlkKSk7XG4gICAgLy8gYWxsRG9jcyBpcyBhbHJlYWR5IHNvcnRlZCBieSB0aGUgc29ydEJ5IGFsZ29yaXRobVxuICAgIC8vIFdlIGxldmVyYWdlIG9uIHRoYXQgdG8gbGltaXQgdGhlIG51bWJlciBvZiBkb2N1bWVudHMgcmV0dXJuZWRcbiAgICBjb25zdCBhbGxEb2NzID0gb3JhbWEuZG9jdW1lbnRzU3RvcmUuZ2V0TXVsdGlwbGUob3JhbWEuZGF0YS5kb2NzLCBhbGxJRHMpO1xuICAgIGNvbnN0IGFsbERvY3NMZW5ndGggPSBhbGxEb2NzLmxlbmd0aDtcbiAgICBjb25zdCByZXR1cm5lZENvdW50ID0gZ3JvdXBCeS5tYXhSZXN1bHQgfHwgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7XG4gICAgY29uc3QgbGlzdE9mVmFsdWVzID0gW107XG4gICAgLy8gV2Ugd2FudCB0byB1bmRlcnN0YW5kIHdoaWNoIGRvY3VtZW50cyBoYXZlIHdoaWNoIHZhbHVlc1xuICAgIC8vIGFuZCBncm91cCB0aGVtIGJ5IHRoZSBwcm9wZXJ0eSBhbmQgdmFsdWVzXG4gICAgY29uc3QgZyA9IHt9O1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvcGVydGllc0xlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGdyb3VwQnlLZXkgPSBwcm9wZXJ0aWVzW2ldO1xuICAgICAgICBjb25zdCBncm91cCA9IHtcbiAgICAgICAgICAgIHByb3BlcnR5OiBncm91cEJ5S2V5LFxuICAgICAgICAgICAgcGVyVmFsdWU6IHt9XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IG5ldyBTZXQoKTtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBhbGxEb2NzTGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGRvYyA9IGFsbERvY3Nbal07XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGdldE5lc3RlZChkb2MsIGdyb3VwQnlLZXkpO1xuICAgICAgICAgICAgLy8gd2UgZG9uJ3Qgd2FudCB0byBjb25zaWRlciB1bmRlZmluZWQgdmFsdWVzXG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qga2V5VmFsdWUgPSB0eXBlb2YgdmFsdWUgIT09ICdib29sZWFuJyA/IHZhbHVlIDogJycgKyB2YWx1ZTtcbiAgICAgICAgICAgIGNvbnN0IHBlclZhbHVlID0gZ3JvdXAucGVyVmFsdWVba2V5VmFsdWVdID8/IHtcbiAgICAgICAgICAgICAgICBpbmRleGVzOiBbXSxcbiAgICAgICAgICAgICAgICBjb3VudDogMFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChwZXJWYWx1ZS5jb3VudCA+PSByZXR1cm5lZENvdW50KSB7XG4gICAgICAgICAgICAgICAgLy8gV2Ugc3RvcCBlYXJseSBiZWNhdXNlIGZvciB0aGlzIHZhbHVlIHdlIHJlYWN0IHRoZSBsaW1pdFxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gV2UgdXNlIHRoZSBpbmRleCB0byBrZWVwIHRyYWNrIG9mIHRoZSBvcmlnaW5hbCBvcmRlclxuICAgICAgICAgICAgcGVyVmFsdWUuaW5kZXhlcy5wdXNoKGopO1xuICAgICAgICAgICAgcGVyVmFsdWUuY291bnQrKztcbiAgICAgICAgICAgIGdyb3VwLnBlclZhbHVlW2tleVZhbHVlXSA9IHBlclZhbHVlO1xuICAgICAgICAgICAgdmFsdWVzLmFkZCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgbGlzdE9mVmFsdWVzLnB1c2goQXJyYXkuZnJvbSh2YWx1ZXMpKTtcbiAgICAgICAgZ1tncm91cEJ5S2V5XSA9IGdyb3VwO1xuICAgIH1cbiAgICBjb25zdCBjb21iaW5hdGlvbnMgPSBjYWxjdWxhdGVDb21iaW5hdGlvbihsaXN0T2ZWYWx1ZXMpO1xuICAgIGNvbnN0IGNvbWJpbmF0aW9uc0xlbmd0aCA9IGNvbWJpbmF0aW9ucy5sZW5ndGg7XG4gICAgY29uc3QgZ3JvdXBzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb21iaW5hdGlvbnNMZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBjb21iaW5hdGlvbiA9IGNvbWJpbmF0aW9uc1tpXTtcbiAgICAgICAgY29uc3QgY29tYmluYXRpb25MZW5ndGggPSBjb21iaW5hdGlvbi5sZW5ndGg7XG4gICAgICAgIGNvbnN0IGdyb3VwID0ge1xuICAgICAgICAgICAgdmFsdWVzOiBbXSxcbiAgICAgICAgICAgIGluZGV4ZXM6IFtdXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGluZGV4ZXMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBjb21iaW5hdGlvbkxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGNvbWJpbmF0aW9uW2pdO1xuICAgICAgICAgICAgY29uc3QgcHJvcGVydHkgPSBwcm9wZXJ0aWVzW2pdO1xuICAgICAgICAgICAgaW5kZXhlcy5wdXNoKGdbcHJvcGVydHldLnBlclZhbHVlWyh0eXBlb2YgdmFsdWUgIT09ICdib29sZWFuJyA/IHZhbHVlIDogJycgKyB2YWx1ZSldLmluZGV4ZXMpO1xuICAgICAgICAgICAgZ3JvdXAudmFsdWVzLnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdlIGxldmVyYWdlIG9uIHRoZSBpbmRleCB0byBzb3J0IHRoZSByZXN1bHRzIGJ5IHRoZSBvcmlnaW5hbCBvcmRlclxuICAgICAgICBncm91cC5pbmRleGVzID0gaW50ZXJzZWN0KGluZGV4ZXMpLnNvcnQoKGEsIGIpID0+IGEgLSBiKTtcbiAgICAgICAgLy8gZG9uJ3QgZ2VuZXJhdGUgZW1wdHkgZ3JvdXBzXG4gICAgICAgIGlmIChncm91cC5pbmRleGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgZ3JvdXBzLnB1c2goZ3JvdXApO1xuICAgIH1cbiAgICBjb25zdCBncm91cHNMZW5ndGggPSBncm91cHMubGVuZ3RoO1xuICAgIGNvbnN0IHJlcyA9IEFycmF5LmZyb20oeyBsZW5ndGg6IGdyb3Vwc0xlbmd0aCB9KTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdyb3Vwc0xlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGdyb3VwID0gZ3JvdXBzW2ldO1xuICAgICAgICBjb25zdCByZWR1Y2UgPSAoZ3JvdXBCeS5yZWR1Y2UgfHwgREVGQVVMVF9SRURVQ0UpO1xuICAgICAgICBjb25zdCBkb2NzID0gZ3JvdXAuaW5kZXhlcy5tYXAoKGluZGV4KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGlkOiBhbGxJRHNbaW5kZXhdLFxuICAgICAgICAgICAgICAgIHNjb3JlOiByZXN1bHRzW2luZGV4XVsxXSxcbiAgICAgICAgICAgICAgICBkb2N1bWVudDogYWxsRG9jc1tpbmRleF1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBmdW5jID0gcmVkdWNlLnJlZHVjZXIuYmluZChudWxsLCBncm91cC52YWx1ZXMpO1xuICAgICAgICBjb25zdCBpbml0aWFsVmFsdWUgPSByZWR1Y2UuZ2V0SW5pdGlhbFZhbHVlKGdyb3VwLmluZGV4ZXMubGVuZ3RoKTtcbiAgICAgICAgY29uc3QgYWdncmVnYXRpb25WYWx1ZSA9IGRvY3MucmVkdWNlKGZ1bmMsIGluaXRpYWxWYWx1ZSk7XG4gICAgICAgIHJlc1tpXSA9IHtcbiAgICAgICAgICAgIHZhbHVlczogZ3JvdXAudmFsdWVzLFxuICAgICAgICAgICAgcmVzdWx0OiBhZ2dyZWdhdGlvblZhbHVlXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG5mdW5jdGlvbiBjYWxjdWxhdGVDb21iaW5hdGlvbihhcnJzLCBpbmRleCA9IDApIHtcbiAgICBpZiAoaW5kZXggKyAxID09PSBhcnJzLmxlbmd0aClcbiAgICAgICAgcmV0dXJuIGFycnNbaW5kZXhdLm1hcCgoaXRlbSkgPT4gW2l0ZW1dKTtcbiAgICBjb25zdCBoZWFkID0gYXJyc1tpbmRleF07XG4gICAgY29uc3QgYyA9IGNhbGN1bGF0ZUNvbWJpbmF0aW9uKGFycnMsIGluZGV4ICsgMSk7XG4gICAgY29uc3QgY29tYmluYXRpb25zID0gW107XG4gICAgZm9yIChjb25zdCB2YWx1ZSBvZiBoZWFkKSB7XG4gICAgICAgIGZvciAoY29uc3QgY29tYmluYXRpb24gb2YgYykge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gW3ZhbHVlXTtcbiAgICAgICAgICAgIHNhZmVBcnJheVB1c2gocmVzdWx0LCBjb21iaW5hdGlvbik7XG4gICAgICAgICAgICBjb21iaW5hdGlvbnMucHVzaChyZXN1bHQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjb21iaW5hdGlvbnM7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ncm91cHMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/groups.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/hooks.js":
/*!********************************************************************!*\
  !*** ./node_modules/@orama/orama/dist/browser/components/hooks.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FUNCTION_COMPONENTS: () => (/* binding */ FUNCTION_COMPONENTS),\n/* harmony export */   OBJECT_COMPONENTS: () => (/* binding */ OBJECT_COMPONENTS),\n/* harmony export */   SINGLE_OR_ARRAY_COMPONENTS: () => (/* binding */ SINGLE_OR_ARRAY_COMPONENTS),\n/* harmony export */   runAfterCreate: () => (/* binding */ runAfterCreate),\n/* harmony export */   runAfterSearch: () => (/* binding */ runAfterSearch),\n/* harmony export */   runBeforeSearch: () => (/* binding */ runBeforeSearch),\n/* harmony export */   runMultipleHook: () => (/* binding */ runMultipleHook),\n/* harmony export */   runSingleHook: () => (/* binding */ runSingleHook)\n/* harmony export */ });\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/utils.js\");\n\nconst OBJECT_COMPONENTS = ['tokenizer', 'index', 'documentsStore', 'sorter'];\nconst FUNCTION_COMPONENTS = [\n    'validateSchema',\n    'getDocumentIndexId',\n    'getDocumentProperties',\n    'formatElapsedTime'\n];\nconst SINGLE_OR_ARRAY_COMPONENTS = [\n/* deprecated with v2.0.0-beta.5 */\n];\nfunction runSingleHook(hooks, orama, id, doc) {\n    const needAsync = hooks.some(_utils_js__WEBPACK_IMPORTED_MODULE_0__.isAsyncFunction);\n    if (needAsync) {\n        return (async () => {\n            for (const hook of hooks) {\n                await hook(orama, id, doc);\n            }\n        })();\n    }\n    else {\n        for (const hook of hooks) {\n            hook(orama, id, doc);\n        }\n    }\n}\nfunction runMultipleHook(hooks, orama, docsOrIds) {\n    const needAsync = hooks.some(_utils_js__WEBPACK_IMPORTED_MODULE_0__.isAsyncFunction);\n    if (needAsync) {\n        return (async () => {\n            for (const hook of hooks) {\n                await hook(orama, docsOrIds);\n            }\n        })();\n    }\n    else {\n        for (const hook of hooks) {\n            hook(orama, docsOrIds);\n        }\n    }\n}\nfunction runAfterSearch(hooks, db, params, language, results) {\n    const needAsync = hooks.some(_utils_js__WEBPACK_IMPORTED_MODULE_0__.isAsyncFunction);\n    if (needAsync) {\n        return (async () => {\n            for (const hook of hooks) {\n                await hook(db, params, language, results);\n            }\n        })();\n    }\n    else {\n        for (const hook of hooks) {\n            hook(db, params, language, results);\n        }\n    }\n}\nfunction runBeforeSearch(hooks, db, params, language) {\n    const needAsync = hooks.some(_utils_js__WEBPACK_IMPORTED_MODULE_0__.isAsyncFunction);\n    if (needAsync) {\n        return (async () => {\n            for (const hook of hooks) {\n                await hook(db, params, language);\n            }\n        })();\n    }\n    else {\n        for (const hook of hooks) {\n            hook(db, params, language);\n        }\n    }\n}\nfunction runAfterCreate(hooks, db) {\n    const needAsync = hooks.some(_utils_js__WEBPACK_IMPORTED_MODULE_0__.isAsyncFunction);\n    if (needAsync) {\n        return (async () => {\n            for (const hook of hooks) {\n                await hook(db);\n            }\n        })();\n    }\n    else {\n        for (const hook of hooks) {\n            hook(db);\n        }\n    }\n}\n//# sourceMappingURL=hooks.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9icm93c2VyL2NvbXBvbmVudHMvaG9va3MuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQThDO0FBQ3ZDO0FBQ0E7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUCxpQ0FBaUMsc0RBQWU7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsaUNBQWlDLHNEQUFlO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLGlDQUFpQyxzREFBZTtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxpQ0FBaUMsc0RBQWU7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsaUNBQWlDLHNEQUFlO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL2FyY2hpZW1ja2VuemllL0Rlc2t0b3AvZ3QtbGlicmFyaWVzL2RvY3Mvbm9kZV9tb2R1bGVzL0BvcmFtYS9vcmFtYS9kaXN0L2Jyb3dzZXIvY29tcG9uZW50cy9ob29rcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc0FzeW5jRnVuY3Rpb24gfSBmcm9tICcuLi91dGlscy5qcyc7XG5leHBvcnQgY29uc3QgT0JKRUNUX0NPTVBPTkVOVFMgPSBbJ3Rva2VuaXplcicsICdpbmRleCcsICdkb2N1bWVudHNTdG9yZScsICdzb3J0ZXInXTtcbmV4cG9ydCBjb25zdCBGVU5DVElPTl9DT01QT05FTlRTID0gW1xuICAgICd2YWxpZGF0ZVNjaGVtYScsXG4gICAgJ2dldERvY3VtZW50SW5kZXhJZCcsXG4gICAgJ2dldERvY3VtZW50UHJvcGVydGllcycsXG4gICAgJ2Zvcm1hdEVsYXBzZWRUaW1lJ1xuXTtcbmV4cG9ydCBjb25zdCBTSU5HTEVfT1JfQVJSQVlfQ09NUE9ORU5UUyA9IFtcbi8qIGRlcHJlY2F0ZWQgd2l0aCB2Mi4wLjAtYmV0YS41ICovXG5dO1xuZXhwb3J0IGZ1bmN0aW9uIHJ1blNpbmdsZUhvb2soaG9va3MsIG9yYW1hLCBpZCwgZG9jKSB7XG4gICAgY29uc3QgbmVlZEFzeW5jID0gaG9va3Muc29tZShpc0FzeW5jRnVuY3Rpb24pO1xuICAgIGlmIChuZWVkQXN5bmMpIHtcbiAgICAgICAgcmV0dXJuIChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGhvb2sgb2YgaG9va3MpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCBob29rKG9yYW1hLCBpZCwgZG9jKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGZvciAoY29uc3QgaG9vayBvZiBob29rcykge1xuICAgICAgICAgICAgaG9vayhvcmFtYSwgaWQsIGRvYyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gcnVuTXVsdGlwbGVIb29rKGhvb2tzLCBvcmFtYSwgZG9jc09ySWRzKSB7XG4gICAgY29uc3QgbmVlZEFzeW5jID0gaG9va3Muc29tZShpc0FzeW5jRnVuY3Rpb24pO1xuICAgIGlmIChuZWVkQXN5bmMpIHtcbiAgICAgICAgcmV0dXJuIChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGhvb2sgb2YgaG9va3MpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCBob29rKG9yYW1hLCBkb2NzT3JJZHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSgpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZm9yIChjb25zdCBob29rIG9mIGhvb2tzKSB7XG4gICAgICAgICAgICBob29rKG9yYW1hLCBkb2NzT3JJZHMpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIHJ1bkFmdGVyU2VhcmNoKGhvb2tzLCBkYiwgcGFyYW1zLCBsYW5ndWFnZSwgcmVzdWx0cykge1xuICAgIGNvbnN0IG5lZWRBc3luYyA9IGhvb2tzLnNvbWUoaXNBc3luY0Z1bmN0aW9uKTtcbiAgICBpZiAobmVlZEFzeW5jKSB7XG4gICAgICAgIHJldHVybiAoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgZm9yIChjb25zdCBob29rIG9mIGhvb2tzKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgaG9vayhkYiwgcGFyYW1zLCBsYW5ndWFnZSwgcmVzdWx0cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBmb3IgKGNvbnN0IGhvb2sgb2YgaG9va3MpIHtcbiAgICAgICAgICAgIGhvb2soZGIsIHBhcmFtcywgbGFuZ3VhZ2UsIHJlc3VsdHMpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIHJ1bkJlZm9yZVNlYXJjaChob29rcywgZGIsIHBhcmFtcywgbGFuZ3VhZ2UpIHtcbiAgICBjb25zdCBuZWVkQXN5bmMgPSBob29rcy5zb21lKGlzQXN5bmNGdW5jdGlvbik7XG4gICAgaWYgKG5lZWRBc3luYykge1xuICAgICAgICByZXR1cm4gKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaG9vayBvZiBob29rcykge1xuICAgICAgICAgICAgICAgIGF3YWl0IGhvb2soZGIsIHBhcmFtcywgbGFuZ3VhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSgpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZm9yIChjb25zdCBob29rIG9mIGhvb2tzKSB7XG4gICAgICAgICAgICBob29rKGRiLCBwYXJhbXMsIGxhbmd1YWdlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBydW5BZnRlckNyZWF0ZShob29rcywgZGIpIHtcbiAgICBjb25zdCBuZWVkQXN5bmMgPSBob29rcy5zb21lKGlzQXN5bmNGdW5jdGlvbik7XG4gICAgaWYgKG5lZWRBc3luYykge1xuICAgICAgICByZXR1cm4gKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaG9vayBvZiBob29rcykge1xuICAgICAgICAgICAgICAgIGF3YWl0IGhvb2soZGIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSgpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZm9yIChjb25zdCBob29rIG9mIGhvb2tzKSB7XG4gICAgICAgICAgICBob29rKGRiKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWhvb2tzLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/hooks.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/index.js":
/*!********************************************************************!*\
  !*** ./node_modules/@orama/orama/dist/browser/components/index.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   calculateResultScores: () => (/* binding */ calculateResultScores),\n/* harmony export */   create: () => (/* binding */ create),\n/* harmony export */   createIndex: () => (/* binding */ createIndex),\n/* harmony export */   getSearchableProperties: () => (/* binding */ getSearchableProperties),\n/* harmony export */   getSearchablePropertiesWithTypes: () => (/* binding */ getSearchablePropertiesWithTypes),\n/* harmony export */   insert: () => (/* binding */ insert),\n/* harmony export */   insertDocumentScoreParameters: () => (/* binding */ insertDocumentScoreParameters),\n/* harmony export */   insertTokenScoreParameters: () => (/* binding */ insertTokenScoreParameters),\n/* harmony export */   insertVector: () => (/* binding */ insertVector),\n/* harmony export */   load: () => (/* binding */ load),\n/* harmony export */   remove: () => (/* binding */ remove),\n/* harmony export */   removeDocumentScoreParameters: () => (/* binding */ removeDocumentScoreParameters),\n/* harmony export */   removeTokenScoreParameters: () => (/* binding */ removeTokenScoreParameters),\n/* harmony export */   save: () => (/* binding */ save),\n/* harmony export */   search: () => (/* binding */ search),\n/* harmony export */   searchByWhereClause: () => (/* binding */ searchByWhereClause)\n/* harmony export */ });\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../errors.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/errors.js\");\n/* harmony import */ var _trees_avl_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../trees/avl.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/trees/avl.js\");\n/* harmony import */ var _trees_flat_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../trees/flat.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/trees/flat.js\");\n/* harmony import */ var _trees_radix_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../trees/radix.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/trees/radix.js\");\n/* harmony import */ var _trees_bkd_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../trees/bkd.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/trees/bkd.js\");\n/* harmony import */ var _trees_bool_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../trees/bool.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/trees/bool.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/utils.js\");\n/* harmony import */ var _algorithms_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./algorithms.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/algorithms.js\");\n/* harmony import */ var _defaults_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./defaults.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/defaults.js\");\n/* harmony import */ var _internal_document_id_store_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./internal-document-id-store.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/internal-document-id-store.js\");\n/* harmony import */ var _trees_vector_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../trees/vector.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/trees/vector.js\");\n\n\n\n\n\n\n\n\n\n\n\nfunction insertDocumentScoreParameters(index, prop, id, tokens, docsCount) {\n    const internalId = (0,_internal_document_id_store_js__WEBPACK_IMPORTED_MODULE_9__.getInternalDocumentId)(index.sharedInternalDocumentStore, id);\n    index.avgFieldLength[prop] = ((index.avgFieldLength[prop] ?? 0) * (docsCount - 1) + tokens.length) / docsCount;\n    index.fieldLengths[prop][internalId] = tokens.length;\n    index.frequencies[prop][internalId] = {};\n}\nfunction insertTokenScoreParameters(index, prop, id, tokens, token) {\n    let tokenFrequency = 0;\n    for (const t of tokens) {\n        if (t === token) {\n            tokenFrequency++;\n        }\n    }\n    const internalId = (0,_internal_document_id_store_js__WEBPACK_IMPORTED_MODULE_9__.getInternalDocumentId)(index.sharedInternalDocumentStore, id);\n    const tf = tokenFrequency / tokens.length;\n    index.frequencies[prop][internalId][token] = tf;\n    if (!(token in index.tokenOccurrences[prop])) {\n        index.tokenOccurrences[prop][token] = 0;\n    }\n    // increase a token counter that may not yet exist\n    index.tokenOccurrences[prop][token] = (index.tokenOccurrences[prop][token] ?? 0) + 1;\n}\nfunction removeDocumentScoreParameters(index, prop, id, docsCount) {\n    const internalId = (0,_internal_document_id_store_js__WEBPACK_IMPORTED_MODULE_9__.getInternalDocumentId)(index.sharedInternalDocumentStore, id);\n    if (docsCount > 1) {\n        index.avgFieldLength[prop] =\n            (index.avgFieldLength[prop] * docsCount - index.fieldLengths[prop][internalId]) / (docsCount - 1);\n    }\n    else {\n        index.avgFieldLength[prop] = undefined;\n    }\n    index.fieldLengths[prop][internalId] = undefined;\n    index.frequencies[prop][internalId] = undefined;\n}\nfunction removeTokenScoreParameters(index, prop, token) {\n    index.tokenOccurrences[prop][token]--;\n}\nfunction create(orama, sharedInternalDocumentStore, schema, index, prefix = '') {\n    if (!index) {\n        index = {\n            sharedInternalDocumentStore,\n            indexes: {},\n            vectorIndexes: {},\n            searchableProperties: [],\n            searchablePropertiesWithTypes: {},\n            frequencies: {},\n            tokenOccurrences: {},\n            avgFieldLength: {},\n            fieldLengths: {}\n        };\n    }\n    for (const [prop, type] of Object.entries(schema)) {\n        const path = `${prefix}${prefix ? '.' : ''}${prop}`;\n        if (typeof type === 'object' && !Array.isArray(type)) {\n            // Nested\n            create(orama, sharedInternalDocumentStore, type, index, path);\n            continue;\n        }\n        if ((0,_defaults_js__WEBPACK_IMPORTED_MODULE_8__.isVectorType)(type)) {\n            index.searchableProperties.push(path);\n            index.searchablePropertiesWithTypes[path] = type;\n            index.vectorIndexes[path] = {\n                type: 'Vector',\n                node: new _trees_vector_js__WEBPACK_IMPORTED_MODULE_10__.VectorIndex((0,_defaults_js__WEBPACK_IMPORTED_MODULE_8__.getVectorSize)(type)),\n                isArray: false,\n            };\n        }\n        else {\n            const isArray = /\\[/.test(type);\n            switch (type) {\n                case 'boolean':\n                case 'boolean[]':\n                    index.indexes[path] = { type: 'Bool', node: new _trees_bool_js__WEBPACK_IMPORTED_MODULE_5__.BoolNode(), isArray };\n                    break;\n                case 'number':\n                case 'number[]':\n                    index.indexes[path] = { type: 'AVL', node: new _trees_avl_js__WEBPACK_IMPORTED_MODULE_1__.AVLTree(0, []), isArray };\n                    break;\n                case 'string':\n                case 'string[]':\n                    index.indexes[path] = { type: 'Radix', node: new _trees_radix_js__WEBPACK_IMPORTED_MODULE_3__.RadixTree(), isArray };\n                    index.avgFieldLength[path] = 0;\n                    index.frequencies[path] = {};\n                    index.tokenOccurrences[path] = {};\n                    index.fieldLengths[path] = {};\n                    break;\n                case 'enum':\n                case 'enum[]':\n                    index.indexes[path] = { type: 'Flat', node: new _trees_flat_js__WEBPACK_IMPORTED_MODULE_2__.FlatTree(), isArray };\n                    break;\n                case 'geopoint':\n                    index.indexes[path] = { type: 'BKD', node: new _trees_bkd_js__WEBPACK_IMPORTED_MODULE_4__.BKDTree(), isArray };\n                    break;\n                default:\n                    throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_0__.createError)('INVALID_SCHEMA_TYPE', Array.isArray(type) ? 'array' : type, path);\n            }\n            index.searchableProperties.push(path);\n            index.searchablePropertiesWithTypes[path] = type;\n        }\n    }\n    return index;\n}\nfunction insertScalarBuilder(implementation, index, prop, internalId, language, tokenizer, docsCount, options) {\n    return (value) => {\n        const { type, node } = index.indexes[prop];\n        switch (type) {\n            case 'Bool': {\n                node[value ? 'true' : 'false'].add(internalId);\n                break;\n            }\n            case 'AVL': {\n                const avlRebalanceThreshold = options?.avlRebalanceThreshold ?? 1;\n                node.insert(value, internalId, avlRebalanceThreshold);\n                break;\n            }\n            case 'Radix': {\n                const tokens = tokenizer.tokenize(value, language, prop, false);\n                implementation.insertDocumentScoreParameters(index, prop, internalId, tokens, docsCount);\n                for (const token of tokens) {\n                    implementation.insertTokenScoreParameters(index, prop, internalId, tokens, token);\n                    node.insert(token, internalId);\n                }\n                break;\n            }\n            case 'Flat': {\n                node.insert(value, internalId);\n                break;\n            }\n            case 'BKD': {\n                node.insert(value, [internalId]);\n                break;\n            }\n        }\n    };\n}\nfunction insert(implementation, index, prop, id, internalId, value, schemaType, language, tokenizer, docsCount, options) {\n    if ((0,_defaults_js__WEBPACK_IMPORTED_MODULE_8__.isVectorType)(schemaType)) {\n        return insertVector(index, prop, value, id, internalId);\n    }\n    const insertScalar = insertScalarBuilder(implementation, index, prop, internalId, language, tokenizer, docsCount, options);\n    if (!(0,_defaults_js__WEBPACK_IMPORTED_MODULE_8__.isArrayType)(schemaType)) {\n        return insertScalar(value);\n    }\n    const elements = value;\n    const elementsLength = elements.length;\n    for (let i = 0; i < elementsLength; i++) {\n        insertScalar(elements[i]);\n    }\n}\nfunction insertVector(index, prop, value, id, internalDocumentId) {\n    index.vectorIndexes[prop].node.add(internalDocumentId, value);\n}\nfunction removeScalar(implementation, index, prop, id, internalId, value, schemaType, language, tokenizer, docsCount) {\n    if ((0,_defaults_js__WEBPACK_IMPORTED_MODULE_8__.isVectorType)(schemaType)) {\n        index.vectorIndexes[prop].node.remove(internalId);\n        return true;\n    }\n    const { type, node } = index.indexes[prop];\n    switch (type) {\n        case 'AVL': {\n            node.removeDocument(value, internalId);\n            return true;\n        }\n        case 'Bool': {\n            node[value ? 'true' : 'false'].delete(internalId);\n            return true;\n        }\n        case 'Radix': {\n            const tokens = tokenizer.tokenize(value, language, prop);\n            implementation.removeDocumentScoreParameters(index, prop, id, docsCount);\n            for (const token of tokens) {\n                implementation.removeTokenScoreParameters(index, prop, token);\n                node.removeDocumentByWord(token, internalId);\n            }\n            return true;\n        }\n        case 'Flat': {\n            node.removeDocument(internalId, value);\n            return true;\n        }\n        case 'BKD': {\n            node.removeDocByID(value, internalId);\n            return false;\n        }\n    }\n}\nfunction remove(implementation, index, prop, id, internalId, value, schemaType, language, tokenizer, docsCount) {\n    if (!(0,_defaults_js__WEBPACK_IMPORTED_MODULE_8__.isArrayType)(schemaType)) {\n        return removeScalar(implementation, index, prop, id, internalId, value, schemaType, language, tokenizer, docsCount);\n    }\n    const innerSchemaType = (0,_defaults_js__WEBPACK_IMPORTED_MODULE_8__.getInnerType)(schemaType);\n    const elements = value;\n    const elementsLength = elements.length;\n    for (let i = 0; i < elementsLength; i++) {\n        removeScalar(implementation, index, prop, id, internalId, elements[i], innerSchemaType, language, tokenizer, docsCount);\n    }\n    return true;\n}\nfunction calculateResultScores(index, prop, term, ids, docsCount, bm25Relevance, resultsMap, boostPerProperty, whereFiltersIDs, keywordMatchesMap) {\n    const documentIDs = Array.from(ids);\n    const avgFieldLength = index.avgFieldLength[prop];\n    const fieldLengths = index.fieldLengths[prop];\n    const oramaOccurrences = index.tokenOccurrences[prop];\n    const oramaFrequencies = index.frequencies[prop];\n    // oramaOccurrences[term] can be undefined, 0, string, or { [k: string]: number }\n    const termOccurrences = typeof oramaOccurrences[term] === 'number' ? oramaOccurrences[term] ?? 0 : 0;\n    // Calculate TF-IDF value for each term, in each document, for each index.\n    const documentIDsLength = documentIDs.length;\n    for (let k = 0; k < documentIDsLength; k++) {\n        const internalId = documentIDs[k];\n        if (whereFiltersIDs && !whereFiltersIDs.has(internalId)) {\n            continue;\n        }\n        // Track keyword matches per property\n        if (!keywordMatchesMap.has(internalId)) {\n            keywordMatchesMap.set(internalId, new Map());\n        }\n        const propertyMatches = keywordMatchesMap.get(internalId);\n        propertyMatches.set(prop, (propertyMatches.get(prop) || 0) + 1);\n        const tf = oramaFrequencies?.[internalId]?.[term] ?? 0;\n        const bm25 = (0,_algorithms_js__WEBPACK_IMPORTED_MODULE_7__.BM25)(tf, termOccurrences, docsCount, fieldLengths[internalId], avgFieldLength, bm25Relevance);\n        if (resultsMap.has(internalId)) {\n            resultsMap.set(internalId, resultsMap.get(internalId) + bm25 * boostPerProperty);\n        }\n        else {\n            resultsMap.set(internalId, bm25 * boostPerProperty);\n        }\n    }\n}\nfunction searchInProperty(index, tree, prop, tokens, exact, tolerance, resultsMap, boostPerProperty, bm25Relevance, docsCount, whereFiltersIDs, keywordMatchesMap) {\n    const tokenLength = tokens.length;\n    for (let i = 0; i < tokenLength; i++) {\n        const term = tokens[i];\n        const searchResult = tree.find({ term, exact, tolerance });\n        const termsFound = Object.keys(searchResult);\n        const termsFoundLength = termsFound.length;\n        for (let j = 0; j < termsFoundLength; j++) {\n            const word = termsFound[j];\n            const ids = searchResult[word];\n            calculateResultScores(index, prop, word, ids, docsCount, bm25Relevance, resultsMap, boostPerProperty, whereFiltersIDs, keywordMatchesMap);\n        }\n    }\n}\nfunction search(index, term, tokenizer, language, propertiesToSearch, exact, tolerance, boost, relevance, docsCount, whereFiltersIDs, threshold = 0) {\n    const tokens = tokenizer.tokenize(term, language);\n    const keywordsCount = tokens.length || 1;\n    // Track keyword matches per document and property\n    const keywordMatchesMap = new Map();\n    const resultsMap = new Map();\n    for (const prop of propertiesToSearch) {\n        if (!(prop in index.indexes)) {\n            continue;\n        }\n        const tree = index.indexes[prop];\n        const { type } = tree;\n        if (type !== 'Radix') {\n            throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_0__.createError)('WRONG_SEARCH_PROPERTY_TYPE', prop);\n        }\n        const boostPerProperty = boost[prop] ?? 1;\n        if (boostPerProperty <= 0) {\n            throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_0__.createError)('INVALID_BOOST_VALUE', boostPerProperty);\n        }\n        // if the tokenizer returns an empty array, we returns all the documents\n        if (tokens.length === 0 && !term) {\n            tokens.push('');\n        }\n        searchInProperty(index, tree.node, prop, tokens, exact, tolerance, resultsMap, boostPerProperty, relevance, docsCount, whereFiltersIDs, keywordMatchesMap);\n    }\n    // Convert to array and sort by score\n    const results = Array.from(resultsMap.entries())\n        .map(([id, score]) => [id, score])\n        .sort((a, b) => b[1] - a[1]);\n    if (results.length === 0) {\n        return [];\n    }\n    // If threshold is 1, return all results\n    if (threshold === 1) {\n        return results;\n    }\n    // Find documents that have all keywords in at least one property\n    const fullMatches = results.filter(([id]) => {\n        const propertyMatches = keywordMatchesMap.get(id);\n        if (!propertyMatches)\n            return false;\n        // Check if any property has all keywords\n        return Array.from(propertyMatches.values()).some(matches => matches === keywordsCount);\n    });\n    // If threshold is 0, return only full matches\n    if (threshold === 0) {\n        return fullMatches;\n    }\n    // If we have full matches and threshold < 1, return full matches plus a percentage of partial matches\n    if (fullMatches.length > 0) {\n        const remainingResults = results.filter(([id]) => !fullMatches.some(([fid]) => fid === id));\n        const additionalResults = Math.ceil(remainingResults.length * threshold);\n        return [...fullMatches, ...remainingResults.slice(0, additionalResults)];\n    }\n    // If no full matches, return all results\n    return results;\n}\nfunction searchByWhereClause(index, tokenizer, filters, language) {\n    const filterKeys = Object.keys(filters);\n    const filtersMap = filterKeys.reduce((acc, key) => ({\n        [key]: new Set(),\n        ...acc\n    }), {});\n    for (const param of filterKeys) {\n        const operation = filters[param];\n        if (typeof index.indexes[param] === 'undefined') {\n            throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_0__.createError)('UNKNOWN_FILTER_PROPERTY', param);\n        }\n        const { node, type, isArray } = index.indexes[param];\n        if (type === 'Bool') {\n            const idx = node;\n            const filteredIDs = operation ? idx.true : idx.false;\n            filtersMap[param] = (0,_utils_js__WEBPACK_IMPORTED_MODULE_6__.setUnion)(filtersMap[param], filteredIDs);\n            continue;\n        }\n        if (type === 'BKD') {\n            let reqOperation;\n            if ('radius' in operation) {\n                reqOperation = 'radius';\n            }\n            else if ('polygon' in operation) {\n                reqOperation = 'polygon';\n            }\n            else {\n                throw new Error(`Invalid operation ${operation}`);\n            }\n            if (reqOperation === 'radius') {\n                const { value, coordinates, unit = 'm', inside = true, highPrecision = false } = operation[reqOperation];\n                const distanceInMeters = (0,_utils_js__WEBPACK_IMPORTED_MODULE_6__.convertDistanceToMeters)(value, unit);\n                const ids = node.searchByRadius(coordinates, distanceInMeters, inside, undefined, highPrecision);\n                filtersMap[param] = addGeoResult(filtersMap[param], ids);\n            }\n            else {\n                const { coordinates, inside = true, highPrecision = false } = operation[reqOperation];\n                const ids = node.searchByPolygon(coordinates, inside, undefined, highPrecision);\n                filtersMap[param] = addGeoResult(filtersMap[param], ids);\n            }\n            continue;\n        }\n        if (type === 'Radix' && (typeof operation === 'string' || Array.isArray(operation))) {\n            for (const raw of [operation].flat()) {\n                const term = tokenizer.tokenize(raw, language, param);\n                for (const t of term) {\n                    const filteredIDsResults = node.find({ term: t, exact: true });\n                    filtersMap[param] = addFindResult(filtersMap[param], filteredIDsResults);\n                }\n            }\n            continue;\n        }\n        const operationKeys = Object.keys(operation);\n        if (operationKeys.length > 1) {\n            throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_0__.createError)('INVALID_FILTER_OPERATION', operationKeys.length);\n        }\n        if (type === 'Flat') {\n            const results = new Set(isArray\n                ? node.filterArr(operation)\n                : node.filter(operation));\n            filtersMap[param] = (0,_utils_js__WEBPACK_IMPORTED_MODULE_6__.setUnion)(filtersMap[param], results);\n            continue;\n        }\n        if (type === 'AVL') {\n            const operationOpt = operationKeys[0];\n            const operationValue = operation[operationOpt];\n            let filteredIDs;\n            switch (operationOpt) {\n                case 'gt': {\n                    filteredIDs = node.greaterThan(operationValue, false);\n                    break;\n                }\n                case 'gte': {\n                    filteredIDs = node.greaterThan(operationValue, true);\n                    break;\n                }\n                case 'lt': {\n                    filteredIDs = node.lessThan(operationValue, false);\n                    break;\n                }\n                case 'lte': {\n                    filteredIDs = node.lessThan(operationValue, true);\n                    break;\n                }\n                case 'eq': {\n                    const ret = node.find(operationValue);\n                    filteredIDs = ret ?? new Set();\n                    break;\n                }\n                case 'between': {\n                    const [min, max] = operationValue;\n                    filteredIDs = node.rangeSearch(min, max);\n                    break;\n                }\n                default:\n                    throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_0__.createError)('INVALID_FILTER_OPERATION', operationOpt);\n            }\n            filtersMap[param] = (0,_utils_js__WEBPACK_IMPORTED_MODULE_6__.setUnion)(filtersMap[param], filteredIDs);\n        }\n    }\n    // AND operation: calculate the intersection between all the IDs in filterMap\n    return (0,_utils_js__WEBPACK_IMPORTED_MODULE_6__.setIntersection)(...Object.values(filtersMap));\n}\nfunction getSearchableProperties(index) {\n    return index.searchableProperties;\n}\nfunction getSearchablePropertiesWithTypes(index) {\n    return index.searchablePropertiesWithTypes;\n}\nfunction load(sharedInternalDocumentStore, raw) {\n    const { indexes: rawIndexes, vectorIndexes: rawVectorIndexes, searchableProperties, searchablePropertiesWithTypes, frequencies, tokenOccurrences, avgFieldLength, fieldLengths } = raw;\n    const indexes = {};\n    const vectorIndexes = {};\n    for (const prop of Object.keys(rawIndexes)) {\n        const { node, type, isArray } = rawIndexes[prop];\n        switch (type) {\n            case 'Radix':\n                indexes[prop] = {\n                    type: 'Radix',\n                    node: _trees_radix_js__WEBPACK_IMPORTED_MODULE_3__.RadixTree.fromJSON(node),\n                    isArray\n                };\n                break;\n            case 'Flat':\n                indexes[prop] = {\n                    type: 'Flat',\n                    node: _trees_flat_js__WEBPACK_IMPORTED_MODULE_2__.FlatTree.fromJSON(node),\n                    isArray\n                };\n                break;\n            case 'AVL':\n                indexes[prop] = {\n                    type: 'AVL',\n                    node: _trees_avl_js__WEBPACK_IMPORTED_MODULE_1__.AVLTree.fromJSON(node),\n                    isArray\n                };\n                break;\n            case 'BKD':\n                indexes[prop] = {\n                    type: 'BKD',\n                    node: _trees_bkd_js__WEBPACK_IMPORTED_MODULE_4__.BKDTree.fromJSON(node),\n                    isArray\n                };\n                break;\n            case 'Bool':\n                indexes[prop] = {\n                    type: 'Bool',\n                    node: _trees_bool_js__WEBPACK_IMPORTED_MODULE_5__.BoolNode.fromJSON(node),\n                    isArray\n                };\n                break;\n            default:\n                indexes[prop] = rawIndexes[prop];\n        }\n    }\n    for (const idx of Object.keys(rawVectorIndexes)) {\n        vectorIndexes[idx] = {\n            type: 'Vector',\n            isArray: false,\n            node: _trees_vector_js__WEBPACK_IMPORTED_MODULE_10__.VectorIndex.fromJSON(rawVectorIndexes[idx])\n        };\n    }\n    return {\n        sharedInternalDocumentStore,\n        indexes,\n        vectorIndexes,\n        searchableProperties,\n        searchablePropertiesWithTypes,\n        frequencies,\n        tokenOccurrences,\n        avgFieldLength,\n        fieldLengths\n    };\n}\nfunction save(index) {\n    const { indexes, vectorIndexes, searchableProperties, searchablePropertiesWithTypes, frequencies, tokenOccurrences, avgFieldLength, fieldLengths } = index;\n    const dumpVectorIndexes = {};\n    for (const idx of Object.keys(vectorIndexes)) {\n        dumpVectorIndexes[idx] = vectorIndexes[idx].node.toJSON();\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const savedIndexes = {};\n    for (const name of Object.keys(indexes)) {\n        const { type, node, isArray } = indexes[name];\n        if (type === 'Flat'\n            || type === 'Radix'\n            || type === 'AVL'\n            || type === 'BKD'\n            || type === 'Bool') {\n            savedIndexes[name] = {\n                type,\n                node: node.toJSON(),\n                isArray\n            };\n        }\n        else {\n            savedIndexes[name] = indexes[name];\n            savedIndexes[name].node = savedIndexes[name].node.toJSON();\n        }\n    }\n    return {\n        indexes: savedIndexes,\n        vectorIndexes: dumpVectorIndexes,\n        searchableProperties,\n        searchablePropertiesWithTypes,\n        frequencies,\n        tokenOccurrences,\n        avgFieldLength,\n        fieldLengths\n    };\n}\nfunction createIndex() {\n    return {\n        create,\n        insert,\n        remove,\n        insertDocumentScoreParameters,\n        insertTokenScoreParameters,\n        removeDocumentScoreParameters,\n        removeTokenScoreParameters,\n        calculateResultScores,\n        search,\n        searchByWhereClause,\n        getSearchableProperties,\n        getSearchablePropertiesWithTypes,\n        load,\n        save\n    };\n}\nfunction addGeoResult(set, ids) {\n    if (!set) {\n        set = new Set();\n    }\n    const idsLength = ids.length;\n    for (let i = 0; i < idsLength; i++) {\n        const entry = ids[i].docIDs;\n        const idsLength = entry.length;\n        for (let j = 0; j < idsLength; j++) {\n            set.add(entry[j]);\n        }\n    }\n    return set;\n}\nfunction addFindResult(set, filteredIDsResults) {\n    if (!set) {\n        set = new Set();\n    }\n    const keys = Object.keys(filteredIDsResults);\n    const keysLength = keys.length;\n    for (let i = 0; i < keysLength; i++) {\n        const ids = filteredIDsResults[keys[i]];\n        const idsLength = ids.length;\n        for (let j = 0; j < idsLength; j++) {\n            set.add(ids[j]);\n        }\n    }\n    return set;\n}\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9icm93c2VyL2NvbXBvbmVudHMvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQTJDO0FBQ0Q7QUFDRTtBQUNFO0FBQ0o7QUFDRTtBQUNxQztBQUMxQztBQUNnRDtBQUNmO0FBQ3ZCO0FBQzFDO0FBQ1AsdUJBQXVCLHFGQUFxQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHFGQUFxQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCx1QkFBdUIscUZBQXFCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkIsNkJBQTZCO0FBQzdCO0FBQ0EsNkNBQTZDO0FBQzdDLDJCQUEyQjtBQUMzQixnQ0FBZ0M7QUFDaEMsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxLQUFLO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDBEQUFZO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLDBEQUFXLENBQUMsMkRBQWE7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0Qyx3QkFBd0Isb0RBQVE7QUFDNUU7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLHVCQUF1QixrREFBTztBQUMxRTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMseUJBQXlCLHNEQUFTO0FBQzlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLHdCQUF3QixvREFBUTtBQUM1RTtBQUNBO0FBQ0EsNENBQTRDLHVCQUF1QixrREFBTztBQUMxRTtBQUNBO0FBQ0EsMEJBQTBCLHVEQUFXO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixhQUFhO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsUUFBUSwwREFBWTtBQUNwQjtBQUNBO0FBQ0E7QUFDQSxTQUFTLHlEQUFXO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLG9CQUFvQjtBQUN4QztBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBLFFBQVEsMERBQVk7QUFDcEI7QUFDQTtBQUNBO0FBQ0EsWUFBWSxhQUFhO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxTQUFTLHlEQUFXO0FBQ3BCO0FBQ0E7QUFDQSw0QkFBNEIsMERBQVk7QUFDeEM7QUFDQTtBQUNBLG9CQUFvQixvQkFBb0I7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnRUFBZ0U7QUFDaEU7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHVCQUF1QjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLG9EQUFJO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGlCQUFpQjtBQUNyQztBQUNBLHlDQUF5Qyx3QkFBd0I7QUFDakU7QUFDQTtBQUNBLHdCQUF3QixzQkFBc0I7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixPQUFPO0FBQ3ZCO0FBQ0Esa0JBQWtCLHVEQUFXO0FBQzdCO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQix1REFBVztBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLEtBQUs7QUFDVjtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsdURBQVc7QUFDN0I7QUFDQSxnQkFBZ0Isc0JBQXNCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxtREFBUTtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFELFVBQVU7QUFDL0Q7QUFDQTtBQUNBLHdCQUF3Qix1RUFBdUU7QUFDL0YseUNBQXlDLGtFQUF1QjtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixvREFBb0Q7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJELHNCQUFzQjtBQUNqRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQix1REFBVztBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLG1EQUFRO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLHVEQUFXO0FBQ3JDO0FBQ0EsZ0NBQWdDLG1EQUFRO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBLFdBQVcsMERBQWU7QUFDMUI7QUFDTztBQUNQO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDTztBQUNQLFlBQVkseUtBQXlLO0FBQ3JMO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixzQkFBc0I7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsc0RBQVM7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLG9EQUFRO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixrREFBTztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsa0RBQU87QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLG9EQUFRO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsMERBQVc7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsWUFBWSwySUFBMkk7QUFDdko7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isc0JBQXNCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsZUFBZTtBQUNuQztBQUNBO0FBQ0Esd0JBQXdCLGVBQWU7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixnQkFBZ0I7QUFDcEM7QUFDQTtBQUNBLHdCQUF3QixlQUFlO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL2FyY2hpZW1ja2VuemllL0Rlc2t0b3AvZ3QtbGlicmFyaWVzL2RvY3Mvbm9kZV9tb2R1bGVzL0BvcmFtYS9vcmFtYS9kaXN0L2Jyb3dzZXIvY29tcG9uZW50cy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVFcnJvciB9IGZyb20gJy4uL2Vycm9ycy5qcyc7XG5pbXBvcnQgeyBBVkxUcmVlIH0gZnJvbSAnLi4vdHJlZXMvYXZsLmpzJztcbmltcG9ydCB7IEZsYXRUcmVlIH0gZnJvbSAnLi4vdHJlZXMvZmxhdC5qcyc7XG5pbXBvcnQgeyBSYWRpeFRyZWUgfSBmcm9tICcuLi90cmVlcy9yYWRpeC5qcyc7XG5pbXBvcnQgeyBCS0RUcmVlIH0gZnJvbSAnLi4vdHJlZXMvYmtkLmpzJztcbmltcG9ydCB7IEJvb2xOb2RlIH0gZnJvbSAnLi4vdHJlZXMvYm9vbC5qcyc7XG5pbXBvcnQgeyBjb252ZXJ0RGlzdGFuY2VUb01ldGVycywgc2V0SW50ZXJzZWN0aW9uLCBzZXRVbmlvbiB9IGZyb20gJy4uL3V0aWxzLmpzJztcbmltcG9ydCB7IEJNMjUgfSBmcm9tICcuL2FsZ29yaXRobXMuanMnO1xuaW1wb3J0IHsgZ2V0SW5uZXJUeXBlLCBnZXRWZWN0b3JTaXplLCBpc0FycmF5VHlwZSwgaXNWZWN0b3JUeXBlIH0gZnJvbSAnLi9kZWZhdWx0cy5qcyc7XG5pbXBvcnQgeyBnZXRJbnRlcm5hbERvY3VtZW50SWQgfSBmcm9tICcuL2ludGVybmFsLWRvY3VtZW50LWlkLXN0b3JlLmpzJztcbmltcG9ydCB7IFZlY3RvckluZGV4IH0gZnJvbSAnLi4vdHJlZXMvdmVjdG9yLmpzJztcbmV4cG9ydCBmdW5jdGlvbiBpbnNlcnREb2N1bWVudFNjb3JlUGFyYW1ldGVycyhpbmRleCwgcHJvcCwgaWQsIHRva2VucywgZG9jc0NvdW50KSB7XG4gICAgY29uc3QgaW50ZXJuYWxJZCA9IGdldEludGVybmFsRG9jdW1lbnRJZChpbmRleC5zaGFyZWRJbnRlcm5hbERvY3VtZW50U3RvcmUsIGlkKTtcbiAgICBpbmRleC5hdmdGaWVsZExlbmd0aFtwcm9wXSA9ICgoaW5kZXguYXZnRmllbGRMZW5ndGhbcHJvcF0gPz8gMCkgKiAoZG9jc0NvdW50IC0gMSkgKyB0b2tlbnMubGVuZ3RoKSAvIGRvY3NDb3VudDtcbiAgICBpbmRleC5maWVsZExlbmd0aHNbcHJvcF1baW50ZXJuYWxJZF0gPSB0b2tlbnMubGVuZ3RoO1xuICAgIGluZGV4LmZyZXF1ZW5jaWVzW3Byb3BdW2ludGVybmFsSWRdID0ge307XG59XG5leHBvcnQgZnVuY3Rpb24gaW5zZXJ0VG9rZW5TY29yZVBhcmFtZXRlcnMoaW5kZXgsIHByb3AsIGlkLCB0b2tlbnMsIHRva2VuKSB7XG4gICAgbGV0IHRva2VuRnJlcXVlbmN5ID0gMDtcbiAgICBmb3IgKGNvbnN0IHQgb2YgdG9rZW5zKSB7XG4gICAgICAgIGlmICh0ID09PSB0b2tlbikge1xuICAgICAgICAgICAgdG9rZW5GcmVxdWVuY3krKztcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBpbnRlcm5hbElkID0gZ2V0SW50ZXJuYWxEb2N1bWVudElkKGluZGV4LnNoYXJlZEludGVybmFsRG9jdW1lbnRTdG9yZSwgaWQpO1xuICAgIGNvbnN0IHRmID0gdG9rZW5GcmVxdWVuY3kgLyB0b2tlbnMubGVuZ3RoO1xuICAgIGluZGV4LmZyZXF1ZW5jaWVzW3Byb3BdW2ludGVybmFsSWRdW3Rva2VuXSA9IHRmO1xuICAgIGlmICghKHRva2VuIGluIGluZGV4LnRva2VuT2NjdXJyZW5jZXNbcHJvcF0pKSB7XG4gICAgICAgIGluZGV4LnRva2VuT2NjdXJyZW5jZXNbcHJvcF1bdG9rZW5dID0gMDtcbiAgICB9XG4gICAgLy8gaW5jcmVhc2UgYSB0b2tlbiBjb3VudGVyIHRoYXQgbWF5IG5vdCB5ZXQgZXhpc3RcbiAgICBpbmRleC50b2tlbk9jY3VycmVuY2VzW3Byb3BdW3Rva2VuXSA9IChpbmRleC50b2tlbk9jY3VycmVuY2VzW3Byb3BdW3Rva2VuXSA/PyAwKSArIDE7XG59XG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlRG9jdW1lbnRTY29yZVBhcmFtZXRlcnMoaW5kZXgsIHByb3AsIGlkLCBkb2NzQ291bnQpIHtcbiAgICBjb25zdCBpbnRlcm5hbElkID0gZ2V0SW50ZXJuYWxEb2N1bWVudElkKGluZGV4LnNoYXJlZEludGVybmFsRG9jdW1lbnRTdG9yZSwgaWQpO1xuICAgIGlmIChkb2NzQ291bnQgPiAxKSB7XG4gICAgICAgIGluZGV4LmF2Z0ZpZWxkTGVuZ3RoW3Byb3BdID1cbiAgICAgICAgICAgIChpbmRleC5hdmdGaWVsZExlbmd0aFtwcm9wXSAqIGRvY3NDb3VudCAtIGluZGV4LmZpZWxkTGVuZ3Roc1twcm9wXVtpbnRlcm5hbElkXSkgLyAoZG9jc0NvdW50IC0gMSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpbmRleC5hdmdGaWVsZExlbmd0aFtwcm9wXSA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaW5kZXguZmllbGRMZW5ndGhzW3Byb3BdW2ludGVybmFsSWRdID0gdW5kZWZpbmVkO1xuICAgIGluZGV4LmZyZXF1ZW5jaWVzW3Byb3BdW2ludGVybmFsSWRdID0gdW5kZWZpbmVkO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZVRva2VuU2NvcmVQYXJhbWV0ZXJzKGluZGV4LCBwcm9wLCB0b2tlbikge1xuICAgIGluZGV4LnRva2VuT2NjdXJyZW5jZXNbcHJvcF1bdG9rZW5dLS07XG59XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKG9yYW1hLCBzaGFyZWRJbnRlcm5hbERvY3VtZW50U3RvcmUsIHNjaGVtYSwgaW5kZXgsIHByZWZpeCA9ICcnKSB7XG4gICAgaWYgKCFpbmRleCkge1xuICAgICAgICBpbmRleCA9IHtcbiAgICAgICAgICAgIHNoYXJlZEludGVybmFsRG9jdW1lbnRTdG9yZSxcbiAgICAgICAgICAgIGluZGV4ZXM6IHt9LFxuICAgICAgICAgICAgdmVjdG9ySW5kZXhlczoge30sXG4gICAgICAgICAgICBzZWFyY2hhYmxlUHJvcGVydGllczogW10sXG4gICAgICAgICAgICBzZWFyY2hhYmxlUHJvcGVydGllc1dpdGhUeXBlczoge30sXG4gICAgICAgICAgICBmcmVxdWVuY2llczoge30sXG4gICAgICAgICAgICB0b2tlbk9jY3VycmVuY2VzOiB7fSxcbiAgICAgICAgICAgIGF2Z0ZpZWxkTGVuZ3RoOiB7fSxcbiAgICAgICAgICAgIGZpZWxkTGVuZ3Roczoge31cbiAgICAgICAgfTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBbcHJvcCwgdHlwZV0gb2YgT2JqZWN0LmVudHJpZXMoc2NoZW1hKSkge1xuICAgICAgICBjb25zdCBwYXRoID0gYCR7cHJlZml4fSR7cHJlZml4ID8gJy4nIDogJyd9JHtwcm9wfWA7XG4gICAgICAgIGlmICh0eXBlb2YgdHlwZSA9PT0gJ29iamVjdCcgJiYgIUFycmF5LmlzQXJyYXkodHlwZSkpIHtcbiAgICAgICAgICAgIC8vIE5lc3RlZFxuICAgICAgICAgICAgY3JlYXRlKG9yYW1hLCBzaGFyZWRJbnRlcm5hbERvY3VtZW50U3RvcmUsIHR5cGUsIGluZGV4LCBwYXRoKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1ZlY3RvclR5cGUodHlwZSkpIHtcbiAgICAgICAgICAgIGluZGV4LnNlYXJjaGFibGVQcm9wZXJ0aWVzLnB1c2gocGF0aCk7XG4gICAgICAgICAgICBpbmRleC5zZWFyY2hhYmxlUHJvcGVydGllc1dpdGhUeXBlc1twYXRoXSA9IHR5cGU7XG4gICAgICAgICAgICBpbmRleC52ZWN0b3JJbmRleGVzW3BhdGhdID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdWZWN0b3InLFxuICAgICAgICAgICAgICAgIG5vZGU6IG5ldyBWZWN0b3JJbmRleChnZXRWZWN0b3JTaXplKHR5cGUpKSxcbiAgICAgICAgICAgICAgICBpc0FycmF5OiBmYWxzZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBpc0FycmF5ID0gL1xcWy8udGVzdCh0eXBlKTtcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgICAgICAgICAgIGNhc2UgJ2Jvb2xlYW5bXSc6XG4gICAgICAgICAgICAgICAgICAgIGluZGV4LmluZGV4ZXNbcGF0aF0gPSB7IHR5cGU6ICdCb29sJywgbm9kZTogbmV3IEJvb2xOb2RlKCksIGlzQXJyYXkgfTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgICAgICAgICAgICBjYXNlICdudW1iZXJbXSc6XG4gICAgICAgICAgICAgICAgICAgIGluZGV4LmluZGV4ZXNbcGF0aF0gPSB7IHR5cGU6ICdBVkwnLCBub2RlOiBuZXcgQVZMVHJlZSgwLCBbXSksIGlzQXJyYXkgfTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgICAgICAgICBjYXNlICdzdHJpbmdbXSc6XG4gICAgICAgICAgICAgICAgICAgIGluZGV4LmluZGV4ZXNbcGF0aF0gPSB7IHR5cGU6ICdSYWRpeCcsIG5vZGU6IG5ldyBSYWRpeFRyZWUoKSwgaXNBcnJheSB9O1xuICAgICAgICAgICAgICAgICAgICBpbmRleC5hdmdGaWVsZExlbmd0aFtwYXRoXSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGluZGV4LmZyZXF1ZW5jaWVzW3BhdGhdID0ge307XG4gICAgICAgICAgICAgICAgICAgIGluZGV4LnRva2VuT2NjdXJyZW5jZXNbcGF0aF0gPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXguZmllbGRMZW5ndGhzW3BhdGhdID0ge307XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2VudW0nOlxuICAgICAgICAgICAgICAgIGNhc2UgJ2VudW1bXSc6XG4gICAgICAgICAgICAgICAgICAgIGluZGV4LmluZGV4ZXNbcGF0aF0gPSB7IHR5cGU6ICdGbGF0Jywgbm9kZTogbmV3IEZsYXRUcmVlKCksIGlzQXJyYXkgfTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZ2VvcG9pbnQnOlxuICAgICAgICAgICAgICAgICAgICBpbmRleC5pbmRleGVzW3BhdGhdID0geyB0eXBlOiAnQktEJywgbm9kZTogbmV3IEJLRFRyZWUoKSwgaXNBcnJheSB9O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignSU5WQUxJRF9TQ0hFTUFfVFlQRScsIEFycmF5LmlzQXJyYXkodHlwZSkgPyAnYXJyYXknIDogdHlwZSwgcGF0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbmRleC5zZWFyY2hhYmxlUHJvcGVydGllcy5wdXNoKHBhdGgpO1xuICAgICAgICAgICAgaW5kZXguc2VhcmNoYWJsZVByb3BlcnRpZXNXaXRoVHlwZXNbcGF0aF0gPSB0eXBlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpbmRleDtcbn1cbmZ1bmN0aW9uIGluc2VydFNjYWxhckJ1aWxkZXIoaW1wbGVtZW50YXRpb24sIGluZGV4LCBwcm9wLCBpbnRlcm5hbElkLCBsYW5ndWFnZSwgdG9rZW5pemVyLCBkb2NzQ291bnQsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gKHZhbHVlKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgdHlwZSwgbm9kZSB9ID0gaW5kZXguaW5kZXhlc1twcm9wXTtcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlICdCb29sJzoge1xuICAgICAgICAgICAgICAgIG5vZGVbdmFsdWUgPyAndHJ1ZScgOiAnZmFsc2UnXS5hZGQoaW50ZXJuYWxJZCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdBVkwnOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYXZsUmViYWxhbmNlVGhyZXNob2xkID0gb3B0aW9ucz8uYXZsUmViYWxhbmNlVGhyZXNob2xkID8/IDE7XG4gICAgICAgICAgICAgICAgbm9kZS5pbnNlcnQodmFsdWUsIGludGVybmFsSWQsIGF2bFJlYmFsYW5jZVRocmVzaG9sZCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdSYWRpeCc6IHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b2tlbnMgPSB0b2tlbml6ZXIudG9rZW5pemUodmFsdWUsIGxhbmd1YWdlLCBwcm9wLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgaW1wbGVtZW50YXRpb24uaW5zZXJ0RG9jdW1lbnRTY29yZVBhcmFtZXRlcnMoaW5kZXgsIHByb3AsIGludGVybmFsSWQsIHRva2VucywgZG9jc0NvdW50KTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHRva2VuIG9mIHRva2Vucykge1xuICAgICAgICAgICAgICAgICAgICBpbXBsZW1lbnRhdGlvbi5pbnNlcnRUb2tlblNjb3JlUGFyYW1ldGVycyhpbmRleCwgcHJvcCwgaW50ZXJuYWxJZCwgdG9rZW5zLCB0b2tlbik7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUuaW5zZXJ0KHRva2VuLCBpbnRlcm5hbElkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdGbGF0Jzoge1xuICAgICAgICAgICAgICAgIG5vZGUuaW5zZXJ0KHZhbHVlLCBpbnRlcm5hbElkKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ0JLRCc6IHtcbiAgICAgICAgICAgICAgICBub2RlLmluc2VydCh2YWx1ZSwgW2ludGVybmFsSWRdKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gaW5zZXJ0KGltcGxlbWVudGF0aW9uLCBpbmRleCwgcHJvcCwgaWQsIGludGVybmFsSWQsIHZhbHVlLCBzY2hlbWFUeXBlLCBsYW5ndWFnZSwgdG9rZW5pemVyLCBkb2NzQ291bnQsIG9wdGlvbnMpIHtcbiAgICBpZiAoaXNWZWN0b3JUeXBlKHNjaGVtYVR5cGUpKSB7XG4gICAgICAgIHJldHVybiBpbnNlcnRWZWN0b3IoaW5kZXgsIHByb3AsIHZhbHVlLCBpZCwgaW50ZXJuYWxJZCk7XG4gICAgfVxuICAgIGNvbnN0IGluc2VydFNjYWxhciA9IGluc2VydFNjYWxhckJ1aWxkZXIoaW1wbGVtZW50YXRpb24sIGluZGV4LCBwcm9wLCBpbnRlcm5hbElkLCBsYW5ndWFnZSwgdG9rZW5pemVyLCBkb2NzQ291bnQsIG9wdGlvbnMpO1xuICAgIGlmICghaXNBcnJheVR5cGUoc2NoZW1hVHlwZSkpIHtcbiAgICAgICAgcmV0dXJuIGluc2VydFNjYWxhcih2YWx1ZSk7XG4gICAgfVxuICAgIGNvbnN0IGVsZW1lbnRzID0gdmFsdWU7XG4gICAgY29uc3QgZWxlbWVudHNMZW5ndGggPSBlbGVtZW50cy5sZW5ndGg7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbGVtZW50c0xlbmd0aDsgaSsrKSB7XG4gICAgICAgIGluc2VydFNjYWxhcihlbGVtZW50c1tpXSk7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGluc2VydFZlY3RvcihpbmRleCwgcHJvcCwgdmFsdWUsIGlkLCBpbnRlcm5hbERvY3VtZW50SWQpIHtcbiAgICBpbmRleC52ZWN0b3JJbmRleGVzW3Byb3BdLm5vZGUuYWRkKGludGVybmFsRG9jdW1lbnRJZCwgdmFsdWUpO1xufVxuZnVuY3Rpb24gcmVtb3ZlU2NhbGFyKGltcGxlbWVudGF0aW9uLCBpbmRleCwgcHJvcCwgaWQsIGludGVybmFsSWQsIHZhbHVlLCBzY2hlbWFUeXBlLCBsYW5ndWFnZSwgdG9rZW5pemVyLCBkb2NzQ291bnQpIHtcbiAgICBpZiAoaXNWZWN0b3JUeXBlKHNjaGVtYVR5cGUpKSB7XG4gICAgICAgIGluZGV4LnZlY3RvckluZGV4ZXNbcHJvcF0ubm9kZS5yZW1vdmUoaW50ZXJuYWxJZCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBjb25zdCB7IHR5cGUsIG5vZGUgfSA9IGluZGV4LmluZGV4ZXNbcHJvcF07XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgJ0FWTCc6IHtcbiAgICAgICAgICAgIG5vZGUucmVtb3ZlRG9jdW1lbnQodmFsdWUsIGludGVybmFsSWQpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnQm9vbCc6IHtcbiAgICAgICAgICAgIG5vZGVbdmFsdWUgPyAndHJ1ZScgOiAnZmFsc2UnXS5kZWxldGUoaW50ZXJuYWxJZCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlICdSYWRpeCc6IHtcbiAgICAgICAgICAgIGNvbnN0IHRva2VucyA9IHRva2VuaXplci50b2tlbml6ZSh2YWx1ZSwgbGFuZ3VhZ2UsIHByb3ApO1xuICAgICAgICAgICAgaW1wbGVtZW50YXRpb24ucmVtb3ZlRG9jdW1lbnRTY29yZVBhcmFtZXRlcnMoaW5kZXgsIHByb3AsIGlkLCBkb2NzQ291bnQpO1xuICAgICAgICAgICAgZm9yIChjb25zdCB0b2tlbiBvZiB0b2tlbnMpIHtcbiAgICAgICAgICAgICAgICBpbXBsZW1lbnRhdGlvbi5yZW1vdmVUb2tlblNjb3JlUGFyYW1ldGVycyhpbmRleCwgcHJvcCwgdG9rZW4pO1xuICAgICAgICAgICAgICAgIG5vZGUucmVtb3ZlRG9jdW1lbnRCeVdvcmQodG9rZW4sIGludGVybmFsSWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnRmxhdCc6IHtcbiAgICAgICAgICAgIG5vZGUucmVtb3ZlRG9jdW1lbnQoaW50ZXJuYWxJZCwgdmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAnQktEJzoge1xuICAgICAgICAgICAgbm9kZS5yZW1vdmVEb2NCeUlEKHZhbHVlLCBpbnRlcm5hbElkKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmUoaW1wbGVtZW50YXRpb24sIGluZGV4LCBwcm9wLCBpZCwgaW50ZXJuYWxJZCwgdmFsdWUsIHNjaGVtYVR5cGUsIGxhbmd1YWdlLCB0b2tlbml6ZXIsIGRvY3NDb3VudCkge1xuICAgIGlmICghaXNBcnJheVR5cGUoc2NoZW1hVHlwZSkpIHtcbiAgICAgICAgcmV0dXJuIHJlbW92ZVNjYWxhcihpbXBsZW1lbnRhdGlvbiwgaW5kZXgsIHByb3AsIGlkLCBpbnRlcm5hbElkLCB2YWx1ZSwgc2NoZW1hVHlwZSwgbGFuZ3VhZ2UsIHRva2VuaXplciwgZG9jc0NvdW50KTtcbiAgICB9XG4gICAgY29uc3QgaW5uZXJTY2hlbWFUeXBlID0gZ2V0SW5uZXJUeXBlKHNjaGVtYVR5cGUpO1xuICAgIGNvbnN0IGVsZW1lbnRzID0gdmFsdWU7XG4gICAgY29uc3QgZWxlbWVudHNMZW5ndGggPSBlbGVtZW50cy5sZW5ndGg7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbGVtZW50c0xlbmd0aDsgaSsrKSB7XG4gICAgICAgIHJlbW92ZVNjYWxhcihpbXBsZW1lbnRhdGlvbiwgaW5kZXgsIHByb3AsIGlkLCBpbnRlcm5hbElkLCBlbGVtZW50c1tpXSwgaW5uZXJTY2hlbWFUeXBlLCBsYW5ndWFnZSwgdG9rZW5pemVyLCBkb2NzQ291bnQpO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVSZXN1bHRTY29yZXMoaW5kZXgsIHByb3AsIHRlcm0sIGlkcywgZG9jc0NvdW50LCBibTI1UmVsZXZhbmNlLCByZXN1bHRzTWFwLCBib29zdFBlclByb3BlcnR5LCB3aGVyZUZpbHRlcnNJRHMsIGtleXdvcmRNYXRjaGVzTWFwKSB7XG4gICAgY29uc3QgZG9jdW1lbnRJRHMgPSBBcnJheS5mcm9tKGlkcyk7XG4gICAgY29uc3QgYXZnRmllbGRMZW5ndGggPSBpbmRleC5hdmdGaWVsZExlbmd0aFtwcm9wXTtcbiAgICBjb25zdCBmaWVsZExlbmd0aHMgPSBpbmRleC5maWVsZExlbmd0aHNbcHJvcF07XG4gICAgY29uc3Qgb3JhbWFPY2N1cnJlbmNlcyA9IGluZGV4LnRva2VuT2NjdXJyZW5jZXNbcHJvcF07XG4gICAgY29uc3Qgb3JhbWFGcmVxdWVuY2llcyA9IGluZGV4LmZyZXF1ZW5jaWVzW3Byb3BdO1xuICAgIC8vIG9yYW1hT2NjdXJyZW5jZXNbdGVybV0gY2FuIGJlIHVuZGVmaW5lZCwgMCwgc3RyaW5nLCBvciB7IFtrOiBzdHJpbmddOiBudW1iZXIgfVxuICAgIGNvbnN0IHRlcm1PY2N1cnJlbmNlcyA9IHR5cGVvZiBvcmFtYU9jY3VycmVuY2VzW3Rlcm1dID09PSAnbnVtYmVyJyA/IG9yYW1hT2NjdXJyZW5jZXNbdGVybV0gPz8gMCA6IDA7XG4gICAgLy8gQ2FsY3VsYXRlIFRGLUlERiB2YWx1ZSBmb3IgZWFjaCB0ZXJtLCBpbiBlYWNoIGRvY3VtZW50LCBmb3IgZWFjaCBpbmRleC5cbiAgICBjb25zdCBkb2N1bWVudElEc0xlbmd0aCA9IGRvY3VtZW50SURzLmxlbmd0aDtcbiAgICBmb3IgKGxldCBrID0gMDsgayA8IGRvY3VtZW50SURzTGVuZ3RoOyBrKyspIHtcbiAgICAgICAgY29uc3QgaW50ZXJuYWxJZCA9IGRvY3VtZW50SURzW2tdO1xuICAgICAgICBpZiAod2hlcmVGaWx0ZXJzSURzICYmICF3aGVyZUZpbHRlcnNJRHMuaGFzKGludGVybmFsSWQpKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUcmFjayBrZXl3b3JkIG1hdGNoZXMgcGVyIHByb3BlcnR5XG4gICAgICAgIGlmICgha2V5d29yZE1hdGNoZXNNYXAuaGFzKGludGVybmFsSWQpKSB7XG4gICAgICAgICAgICBrZXl3b3JkTWF0Y2hlc01hcC5zZXQoaW50ZXJuYWxJZCwgbmV3IE1hcCgpKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwcm9wZXJ0eU1hdGNoZXMgPSBrZXl3b3JkTWF0Y2hlc01hcC5nZXQoaW50ZXJuYWxJZCk7XG4gICAgICAgIHByb3BlcnR5TWF0Y2hlcy5zZXQocHJvcCwgKHByb3BlcnR5TWF0Y2hlcy5nZXQocHJvcCkgfHwgMCkgKyAxKTtcbiAgICAgICAgY29uc3QgdGYgPSBvcmFtYUZyZXF1ZW5jaWVzPy5baW50ZXJuYWxJZF0/Llt0ZXJtXSA/PyAwO1xuICAgICAgICBjb25zdCBibTI1ID0gQk0yNSh0ZiwgdGVybU9jY3VycmVuY2VzLCBkb2NzQ291bnQsIGZpZWxkTGVuZ3Roc1tpbnRlcm5hbElkXSwgYXZnRmllbGRMZW5ndGgsIGJtMjVSZWxldmFuY2UpO1xuICAgICAgICBpZiAocmVzdWx0c01hcC5oYXMoaW50ZXJuYWxJZCkpIHtcbiAgICAgICAgICAgIHJlc3VsdHNNYXAuc2V0KGludGVybmFsSWQsIHJlc3VsdHNNYXAuZ2V0KGludGVybmFsSWQpICsgYm0yNSAqIGJvb3N0UGVyUHJvcGVydHkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0c01hcC5zZXQoaW50ZXJuYWxJZCwgYm0yNSAqIGJvb3N0UGVyUHJvcGVydHkpO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gc2VhcmNoSW5Qcm9wZXJ0eShpbmRleCwgdHJlZSwgcHJvcCwgdG9rZW5zLCBleGFjdCwgdG9sZXJhbmNlLCByZXN1bHRzTWFwLCBib29zdFBlclByb3BlcnR5LCBibTI1UmVsZXZhbmNlLCBkb2NzQ291bnQsIHdoZXJlRmlsdGVyc0lEcywga2V5d29yZE1hdGNoZXNNYXApIHtcbiAgICBjb25zdCB0b2tlbkxlbmd0aCA9IHRva2Vucy5sZW5ndGg7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b2tlbkxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHRlcm0gPSB0b2tlbnNbaV07XG4gICAgICAgIGNvbnN0IHNlYXJjaFJlc3VsdCA9IHRyZWUuZmluZCh7IHRlcm0sIGV4YWN0LCB0b2xlcmFuY2UgfSk7XG4gICAgICAgIGNvbnN0IHRlcm1zRm91bmQgPSBPYmplY3Qua2V5cyhzZWFyY2hSZXN1bHQpO1xuICAgICAgICBjb25zdCB0ZXJtc0ZvdW5kTGVuZ3RoID0gdGVybXNGb3VuZC5sZW5ndGg7XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGVybXNGb3VuZExlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBjb25zdCB3b3JkID0gdGVybXNGb3VuZFtqXTtcbiAgICAgICAgICAgIGNvbnN0IGlkcyA9IHNlYXJjaFJlc3VsdFt3b3JkXTtcbiAgICAgICAgICAgIGNhbGN1bGF0ZVJlc3VsdFNjb3JlcyhpbmRleCwgcHJvcCwgd29yZCwgaWRzLCBkb2NzQ291bnQsIGJtMjVSZWxldmFuY2UsIHJlc3VsdHNNYXAsIGJvb3N0UGVyUHJvcGVydHksIHdoZXJlRmlsdGVyc0lEcywga2V5d29yZE1hdGNoZXNNYXApO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIHNlYXJjaChpbmRleCwgdGVybSwgdG9rZW5pemVyLCBsYW5ndWFnZSwgcHJvcGVydGllc1RvU2VhcmNoLCBleGFjdCwgdG9sZXJhbmNlLCBib29zdCwgcmVsZXZhbmNlLCBkb2NzQ291bnQsIHdoZXJlRmlsdGVyc0lEcywgdGhyZXNob2xkID0gMCkge1xuICAgIGNvbnN0IHRva2VucyA9IHRva2VuaXplci50b2tlbml6ZSh0ZXJtLCBsYW5ndWFnZSk7XG4gICAgY29uc3Qga2V5d29yZHNDb3VudCA9IHRva2Vucy5sZW5ndGggfHwgMTtcbiAgICAvLyBUcmFjayBrZXl3b3JkIG1hdGNoZXMgcGVyIGRvY3VtZW50IGFuZCBwcm9wZXJ0eVxuICAgIGNvbnN0IGtleXdvcmRNYXRjaGVzTWFwID0gbmV3IE1hcCgpO1xuICAgIGNvbnN0IHJlc3VsdHNNYXAgPSBuZXcgTWFwKCk7XG4gICAgZm9yIChjb25zdCBwcm9wIG9mIHByb3BlcnRpZXNUb1NlYXJjaCkge1xuICAgICAgICBpZiAoIShwcm9wIGluIGluZGV4LmluZGV4ZXMpKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0cmVlID0gaW5kZXguaW5kZXhlc1twcm9wXTtcbiAgICAgICAgY29uc3QgeyB0eXBlIH0gPSB0cmVlO1xuICAgICAgICBpZiAodHlwZSAhPT0gJ1JhZGl4Jykge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoJ1dST05HX1NFQVJDSF9QUk9QRVJUWV9UWVBFJywgcHJvcCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYm9vc3RQZXJQcm9wZXJ0eSA9IGJvb3N0W3Byb3BdID8/IDE7XG4gICAgICAgIGlmIChib29zdFBlclByb3BlcnR5IDw9IDApIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUVycm9yKCdJTlZBTElEX0JPT1NUX1ZBTFVFJywgYm9vc3RQZXJQcm9wZXJ0eSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgdGhlIHRva2VuaXplciByZXR1cm5zIGFuIGVtcHR5IGFycmF5LCB3ZSByZXR1cm5zIGFsbCB0aGUgZG9jdW1lbnRzXG4gICAgICAgIGlmICh0b2tlbnMubGVuZ3RoID09PSAwICYmICF0ZXJtKSB7XG4gICAgICAgICAgICB0b2tlbnMucHVzaCgnJyk7XG4gICAgICAgIH1cbiAgICAgICAgc2VhcmNoSW5Qcm9wZXJ0eShpbmRleCwgdHJlZS5ub2RlLCBwcm9wLCB0b2tlbnMsIGV4YWN0LCB0b2xlcmFuY2UsIHJlc3VsdHNNYXAsIGJvb3N0UGVyUHJvcGVydHksIHJlbGV2YW5jZSwgZG9jc0NvdW50LCB3aGVyZUZpbHRlcnNJRHMsIGtleXdvcmRNYXRjaGVzTWFwKTtcbiAgICB9XG4gICAgLy8gQ29udmVydCB0byBhcnJheSBhbmQgc29ydCBieSBzY29yZVxuICAgIGNvbnN0IHJlc3VsdHMgPSBBcnJheS5mcm9tKHJlc3VsdHNNYXAuZW50cmllcygpKVxuICAgICAgICAubWFwKChbaWQsIHNjb3JlXSkgPT4gW2lkLCBzY29yZV0pXG4gICAgICAgIC5zb3J0KChhLCBiKSA9PiBiWzFdIC0gYVsxXSk7XG4gICAgaWYgKHJlc3VsdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgLy8gSWYgdGhyZXNob2xkIGlzIDEsIHJldHVybiBhbGwgcmVzdWx0c1xuICAgIGlmICh0aHJlc2hvbGQgPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgfVxuICAgIC8vIEZpbmQgZG9jdW1lbnRzIHRoYXQgaGF2ZSBhbGwga2V5d29yZHMgaW4gYXQgbGVhc3Qgb25lIHByb3BlcnR5XG4gICAgY29uc3QgZnVsbE1hdGNoZXMgPSByZXN1bHRzLmZpbHRlcigoW2lkXSkgPT4ge1xuICAgICAgICBjb25zdCBwcm9wZXJ0eU1hdGNoZXMgPSBrZXl3b3JkTWF0Y2hlc01hcC5nZXQoaWQpO1xuICAgICAgICBpZiAoIXByb3BlcnR5TWF0Y2hlcylcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgLy8gQ2hlY2sgaWYgYW55IHByb3BlcnR5IGhhcyBhbGwga2V5d29yZHNcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20ocHJvcGVydHlNYXRjaGVzLnZhbHVlcygpKS5zb21lKG1hdGNoZXMgPT4gbWF0Y2hlcyA9PT0ga2V5d29yZHNDb3VudCk7XG4gICAgfSk7XG4gICAgLy8gSWYgdGhyZXNob2xkIGlzIDAsIHJldHVybiBvbmx5IGZ1bGwgbWF0Y2hlc1xuICAgIGlmICh0aHJlc2hvbGQgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGZ1bGxNYXRjaGVzO1xuICAgIH1cbiAgICAvLyBJZiB3ZSBoYXZlIGZ1bGwgbWF0Y2hlcyBhbmQgdGhyZXNob2xkIDwgMSwgcmV0dXJuIGZ1bGwgbWF0Y2hlcyBwbHVzIGEgcGVyY2VudGFnZSBvZiBwYXJ0aWFsIG1hdGNoZXNcbiAgICBpZiAoZnVsbE1hdGNoZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCByZW1haW5pbmdSZXN1bHRzID0gcmVzdWx0cy5maWx0ZXIoKFtpZF0pID0+ICFmdWxsTWF0Y2hlcy5zb21lKChbZmlkXSkgPT4gZmlkID09PSBpZCkpO1xuICAgICAgICBjb25zdCBhZGRpdGlvbmFsUmVzdWx0cyA9IE1hdGguY2VpbChyZW1haW5pbmdSZXN1bHRzLmxlbmd0aCAqIHRocmVzaG9sZCk7XG4gICAgICAgIHJldHVybiBbLi4uZnVsbE1hdGNoZXMsIC4uLnJlbWFpbmluZ1Jlc3VsdHMuc2xpY2UoMCwgYWRkaXRpb25hbFJlc3VsdHMpXTtcbiAgICB9XG4gICAgLy8gSWYgbm8gZnVsbCBtYXRjaGVzLCByZXR1cm4gYWxsIHJlc3VsdHNcbiAgICByZXR1cm4gcmVzdWx0cztcbn1cbmV4cG9ydCBmdW5jdGlvbiBzZWFyY2hCeVdoZXJlQ2xhdXNlKGluZGV4LCB0b2tlbml6ZXIsIGZpbHRlcnMsIGxhbmd1YWdlKSB7XG4gICAgY29uc3QgZmlsdGVyS2V5cyA9IE9iamVjdC5rZXlzKGZpbHRlcnMpO1xuICAgIGNvbnN0IGZpbHRlcnNNYXAgPSBmaWx0ZXJLZXlzLnJlZHVjZSgoYWNjLCBrZXkpID0+ICh7XG4gICAgICAgIFtrZXldOiBuZXcgU2V0KCksXG4gICAgICAgIC4uLmFjY1xuICAgIH0pLCB7fSk7XG4gICAgZm9yIChjb25zdCBwYXJhbSBvZiBmaWx0ZXJLZXlzKSB7XG4gICAgICAgIGNvbnN0IG9wZXJhdGlvbiA9IGZpbHRlcnNbcGFyYW1dO1xuICAgICAgICBpZiAodHlwZW9mIGluZGV4LmluZGV4ZXNbcGFyYW1dID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoJ1VOS05PV05fRklMVEVSX1BST1BFUlRZJywgcGFyYW0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgbm9kZSwgdHlwZSwgaXNBcnJheSB9ID0gaW5kZXguaW5kZXhlc1twYXJhbV07XG4gICAgICAgIGlmICh0eXBlID09PSAnQm9vbCcpIHtcbiAgICAgICAgICAgIGNvbnN0IGlkeCA9IG5vZGU7XG4gICAgICAgICAgICBjb25zdCBmaWx0ZXJlZElEcyA9IG9wZXJhdGlvbiA/IGlkeC50cnVlIDogaWR4LmZhbHNlO1xuICAgICAgICAgICAgZmlsdGVyc01hcFtwYXJhbV0gPSBzZXRVbmlvbihmaWx0ZXJzTWFwW3BhcmFtXSwgZmlsdGVyZWRJRHMpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGUgPT09ICdCS0QnKSB7XG4gICAgICAgICAgICBsZXQgcmVxT3BlcmF0aW9uO1xuICAgICAgICAgICAgaWYgKCdyYWRpdXMnIGluIG9wZXJhdGlvbikge1xuICAgICAgICAgICAgICAgIHJlcU9wZXJhdGlvbiA9ICdyYWRpdXMnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoJ3BvbHlnb24nIGluIG9wZXJhdGlvbikge1xuICAgICAgICAgICAgICAgIHJlcU9wZXJhdGlvbiA9ICdwb2x5Z29uJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBvcGVyYXRpb24gJHtvcGVyYXRpb259YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVxT3BlcmF0aW9uID09PSAncmFkaXVzJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgdmFsdWUsIGNvb3JkaW5hdGVzLCB1bml0ID0gJ20nLCBpbnNpZGUgPSB0cnVlLCBoaWdoUHJlY2lzaW9uID0gZmFsc2UgfSA9IG9wZXJhdGlvbltyZXFPcGVyYXRpb25dO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRpc3RhbmNlSW5NZXRlcnMgPSBjb252ZXJ0RGlzdGFuY2VUb01ldGVycyh2YWx1ZSwgdW5pdCk7XG4gICAgICAgICAgICAgICAgY29uc3QgaWRzID0gbm9kZS5zZWFyY2hCeVJhZGl1cyhjb29yZGluYXRlcywgZGlzdGFuY2VJbk1ldGVycywgaW5zaWRlLCB1bmRlZmluZWQsIGhpZ2hQcmVjaXNpb24pO1xuICAgICAgICAgICAgICAgIGZpbHRlcnNNYXBbcGFyYW1dID0gYWRkR2VvUmVzdWx0KGZpbHRlcnNNYXBbcGFyYW1dLCBpZHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBjb29yZGluYXRlcywgaW5zaWRlID0gdHJ1ZSwgaGlnaFByZWNpc2lvbiA9IGZhbHNlIH0gPSBvcGVyYXRpb25bcmVxT3BlcmF0aW9uXTtcbiAgICAgICAgICAgICAgICBjb25zdCBpZHMgPSBub2RlLnNlYXJjaEJ5UG9seWdvbihjb29yZGluYXRlcywgaW5zaWRlLCB1bmRlZmluZWQsIGhpZ2hQcmVjaXNpb24pO1xuICAgICAgICAgICAgICAgIGZpbHRlcnNNYXBbcGFyYW1dID0gYWRkR2VvUmVzdWx0KGZpbHRlcnNNYXBbcGFyYW1dLCBpZHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGUgPT09ICdSYWRpeCcgJiYgKHR5cGVvZiBvcGVyYXRpb24gPT09ICdzdHJpbmcnIHx8IEFycmF5LmlzQXJyYXkob3BlcmF0aW9uKSkpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcmF3IG9mIFtvcGVyYXRpb25dLmZsYXQoKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRlcm0gPSB0b2tlbml6ZXIudG9rZW5pemUocmF3LCBsYW5ndWFnZSwgcGFyYW0pO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdCBvZiB0ZXJtKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbHRlcmVkSURzUmVzdWx0cyA9IG5vZGUuZmluZCh7IHRlcm06IHQsIGV4YWN0OiB0cnVlIH0pO1xuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJzTWFwW3BhcmFtXSA9IGFkZEZpbmRSZXN1bHQoZmlsdGVyc01hcFtwYXJhbV0sIGZpbHRlcmVkSURzUmVzdWx0cyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb3BlcmF0aW9uS2V5cyA9IE9iamVjdC5rZXlzKG9wZXJhdGlvbik7XG4gICAgICAgIGlmIChvcGVyYXRpb25LZXlzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUVycm9yKCdJTlZBTElEX0ZJTFRFUl9PUEVSQVRJT04nLCBvcGVyYXRpb25LZXlzLmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGUgPT09ICdGbGF0Jykge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0cyA9IG5ldyBTZXQoaXNBcnJheVxuICAgICAgICAgICAgICAgID8gbm9kZS5maWx0ZXJBcnIob3BlcmF0aW9uKVxuICAgICAgICAgICAgICAgIDogbm9kZS5maWx0ZXIob3BlcmF0aW9uKSk7XG4gICAgICAgICAgICBmaWx0ZXJzTWFwW3BhcmFtXSA9IHNldFVuaW9uKGZpbHRlcnNNYXBbcGFyYW1dLCByZXN1bHRzKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlID09PSAnQVZMJykge1xuICAgICAgICAgICAgY29uc3Qgb3BlcmF0aW9uT3B0ID0gb3BlcmF0aW9uS2V5c1swXTtcbiAgICAgICAgICAgIGNvbnN0IG9wZXJhdGlvblZhbHVlID0gb3BlcmF0aW9uW29wZXJhdGlvbk9wdF07XG4gICAgICAgICAgICBsZXQgZmlsdGVyZWRJRHM7XG4gICAgICAgICAgICBzd2l0Y2ggKG9wZXJhdGlvbk9wdCkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ2d0Jzoge1xuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZElEcyA9IG5vZGUuZ3JlYXRlclRoYW4ob3BlcmF0aW9uVmFsdWUsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJ2d0ZSc6IHtcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyZWRJRHMgPSBub2RlLmdyZWF0ZXJUaGFuKG9wZXJhdGlvblZhbHVlLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJ2x0Jzoge1xuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZElEcyA9IG5vZGUubGVzc1RoYW4ob3BlcmF0aW9uVmFsdWUsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJ2x0ZSc6IHtcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyZWRJRHMgPSBub2RlLmxlc3NUaGFuKG9wZXJhdGlvblZhbHVlLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJ2VxJzoge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXQgPSBub2RlLmZpbmQob3BlcmF0aW9uVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZElEcyA9IHJldCA/PyBuZXcgU2V0KCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICdiZXR3ZWVuJzoge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBbbWluLCBtYXhdID0gb3BlcmF0aW9uVmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkSURzID0gbm9kZS5yYW5nZVNlYXJjaChtaW4sIG1heCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignSU5WQUxJRF9GSUxURVJfT1BFUkFUSU9OJywgb3BlcmF0aW9uT3B0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbHRlcnNNYXBbcGFyYW1dID0gc2V0VW5pb24oZmlsdGVyc01hcFtwYXJhbV0sIGZpbHRlcmVkSURzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBBTkQgb3BlcmF0aW9uOiBjYWxjdWxhdGUgdGhlIGludGVyc2VjdGlvbiBiZXR3ZWVuIGFsbCB0aGUgSURzIGluIGZpbHRlck1hcFxuICAgIHJldHVybiBzZXRJbnRlcnNlY3Rpb24oLi4uT2JqZWN0LnZhbHVlcyhmaWx0ZXJzTWFwKSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0U2VhcmNoYWJsZVByb3BlcnRpZXMoaW5kZXgpIHtcbiAgICByZXR1cm4gaW5kZXguc2VhcmNoYWJsZVByb3BlcnRpZXM7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0U2VhcmNoYWJsZVByb3BlcnRpZXNXaXRoVHlwZXMoaW5kZXgpIHtcbiAgICByZXR1cm4gaW5kZXguc2VhcmNoYWJsZVByb3BlcnRpZXNXaXRoVHlwZXM7XG59XG5leHBvcnQgZnVuY3Rpb24gbG9hZChzaGFyZWRJbnRlcm5hbERvY3VtZW50U3RvcmUsIHJhdykge1xuICAgIGNvbnN0IHsgaW5kZXhlczogcmF3SW5kZXhlcywgdmVjdG9ySW5kZXhlczogcmF3VmVjdG9ySW5kZXhlcywgc2VhcmNoYWJsZVByb3BlcnRpZXMsIHNlYXJjaGFibGVQcm9wZXJ0aWVzV2l0aFR5cGVzLCBmcmVxdWVuY2llcywgdG9rZW5PY2N1cnJlbmNlcywgYXZnRmllbGRMZW5ndGgsIGZpZWxkTGVuZ3RocyB9ID0gcmF3O1xuICAgIGNvbnN0IGluZGV4ZXMgPSB7fTtcbiAgICBjb25zdCB2ZWN0b3JJbmRleGVzID0ge307XG4gICAgZm9yIChjb25zdCBwcm9wIG9mIE9iamVjdC5rZXlzKHJhd0luZGV4ZXMpKSB7XG4gICAgICAgIGNvbnN0IHsgbm9kZSwgdHlwZSwgaXNBcnJheSB9ID0gcmF3SW5kZXhlc1twcm9wXTtcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlICdSYWRpeCc6XG4gICAgICAgICAgICAgICAgaW5kZXhlc1twcm9wXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ1JhZGl4JyxcbiAgICAgICAgICAgICAgICAgICAgbm9kZTogUmFkaXhUcmVlLmZyb21KU09OKG5vZGUpLFxuICAgICAgICAgICAgICAgICAgICBpc0FycmF5XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0ZsYXQnOlxuICAgICAgICAgICAgICAgIGluZGV4ZXNbcHJvcF0gPSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdGbGF0JyxcbiAgICAgICAgICAgICAgICAgICAgbm9kZTogRmxhdFRyZWUuZnJvbUpTT04obm9kZSksXG4gICAgICAgICAgICAgICAgICAgIGlzQXJyYXlcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnQVZMJzpcbiAgICAgICAgICAgICAgICBpbmRleGVzW3Byb3BdID0ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnQVZMJyxcbiAgICAgICAgICAgICAgICAgICAgbm9kZTogQVZMVHJlZS5mcm9tSlNPTihub2RlKSxcbiAgICAgICAgICAgICAgICAgICAgaXNBcnJheVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdCS0QnOlxuICAgICAgICAgICAgICAgIGluZGV4ZXNbcHJvcF0gPSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdCS0QnLFxuICAgICAgICAgICAgICAgICAgICBub2RlOiBCS0RUcmVlLmZyb21KU09OKG5vZGUpLFxuICAgICAgICAgICAgICAgICAgICBpc0FycmF5XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0Jvb2wnOlxuICAgICAgICAgICAgICAgIGluZGV4ZXNbcHJvcF0gPSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdCb29sJyxcbiAgICAgICAgICAgICAgICAgICAgbm9kZTogQm9vbE5vZGUuZnJvbUpTT04obm9kZSksXG4gICAgICAgICAgICAgICAgICAgIGlzQXJyYXlcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBpbmRleGVzW3Byb3BdID0gcmF3SW5kZXhlc1twcm9wXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGNvbnN0IGlkeCBvZiBPYmplY3Qua2V5cyhyYXdWZWN0b3JJbmRleGVzKSkge1xuICAgICAgICB2ZWN0b3JJbmRleGVzW2lkeF0gPSB7XG4gICAgICAgICAgICB0eXBlOiAnVmVjdG9yJyxcbiAgICAgICAgICAgIGlzQXJyYXk6IGZhbHNlLFxuICAgICAgICAgICAgbm9kZTogVmVjdG9ySW5kZXguZnJvbUpTT04ocmF3VmVjdG9ySW5kZXhlc1tpZHhdKVxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBzaGFyZWRJbnRlcm5hbERvY3VtZW50U3RvcmUsXG4gICAgICAgIGluZGV4ZXMsXG4gICAgICAgIHZlY3RvckluZGV4ZXMsXG4gICAgICAgIHNlYXJjaGFibGVQcm9wZXJ0aWVzLFxuICAgICAgICBzZWFyY2hhYmxlUHJvcGVydGllc1dpdGhUeXBlcyxcbiAgICAgICAgZnJlcXVlbmNpZXMsXG4gICAgICAgIHRva2VuT2NjdXJyZW5jZXMsXG4gICAgICAgIGF2Z0ZpZWxkTGVuZ3RoLFxuICAgICAgICBmaWVsZExlbmd0aHNcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNhdmUoaW5kZXgpIHtcbiAgICBjb25zdCB7IGluZGV4ZXMsIHZlY3RvckluZGV4ZXMsIHNlYXJjaGFibGVQcm9wZXJ0aWVzLCBzZWFyY2hhYmxlUHJvcGVydGllc1dpdGhUeXBlcywgZnJlcXVlbmNpZXMsIHRva2VuT2NjdXJyZW5jZXMsIGF2Z0ZpZWxkTGVuZ3RoLCBmaWVsZExlbmd0aHMgfSA9IGluZGV4O1xuICAgIGNvbnN0IGR1bXBWZWN0b3JJbmRleGVzID0ge307XG4gICAgZm9yIChjb25zdCBpZHggb2YgT2JqZWN0LmtleXModmVjdG9ySW5kZXhlcykpIHtcbiAgICAgICAgZHVtcFZlY3RvckluZGV4ZXNbaWR4XSA9IHZlY3RvckluZGV4ZXNbaWR4XS5ub2RlLnRvSlNPTigpO1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGNvbnN0IHNhdmVkSW5kZXhlcyA9IHt9O1xuICAgIGZvciAoY29uc3QgbmFtZSBvZiBPYmplY3Qua2V5cyhpbmRleGVzKSkge1xuICAgICAgICBjb25zdCB7IHR5cGUsIG5vZGUsIGlzQXJyYXkgfSA9IGluZGV4ZXNbbmFtZV07XG4gICAgICAgIGlmICh0eXBlID09PSAnRmxhdCdcbiAgICAgICAgICAgIHx8IHR5cGUgPT09ICdSYWRpeCdcbiAgICAgICAgICAgIHx8IHR5cGUgPT09ICdBVkwnXG4gICAgICAgICAgICB8fCB0eXBlID09PSAnQktEJ1xuICAgICAgICAgICAgfHwgdHlwZSA9PT0gJ0Jvb2wnKSB7XG4gICAgICAgICAgICBzYXZlZEluZGV4ZXNbbmFtZV0gPSB7XG4gICAgICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgICAgICBub2RlOiBub2RlLnRvSlNPTigpLFxuICAgICAgICAgICAgICAgIGlzQXJyYXlcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzYXZlZEluZGV4ZXNbbmFtZV0gPSBpbmRleGVzW25hbWVdO1xuICAgICAgICAgICAgc2F2ZWRJbmRleGVzW25hbWVdLm5vZGUgPSBzYXZlZEluZGV4ZXNbbmFtZV0ubm9kZS50b0pTT04oKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBpbmRleGVzOiBzYXZlZEluZGV4ZXMsXG4gICAgICAgIHZlY3RvckluZGV4ZXM6IGR1bXBWZWN0b3JJbmRleGVzLFxuICAgICAgICBzZWFyY2hhYmxlUHJvcGVydGllcyxcbiAgICAgICAgc2VhcmNoYWJsZVByb3BlcnRpZXNXaXRoVHlwZXMsXG4gICAgICAgIGZyZXF1ZW5jaWVzLFxuICAgICAgICB0b2tlbk9jY3VycmVuY2VzLFxuICAgICAgICBhdmdGaWVsZExlbmd0aCxcbiAgICAgICAgZmllbGRMZW5ndGhzXG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVJbmRleCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBjcmVhdGUsXG4gICAgICAgIGluc2VydCxcbiAgICAgICAgcmVtb3ZlLFxuICAgICAgICBpbnNlcnREb2N1bWVudFNjb3JlUGFyYW1ldGVycyxcbiAgICAgICAgaW5zZXJ0VG9rZW5TY29yZVBhcmFtZXRlcnMsXG4gICAgICAgIHJlbW92ZURvY3VtZW50U2NvcmVQYXJhbWV0ZXJzLFxuICAgICAgICByZW1vdmVUb2tlblNjb3JlUGFyYW1ldGVycyxcbiAgICAgICAgY2FsY3VsYXRlUmVzdWx0U2NvcmVzLFxuICAgICAgICBzZWFyY2gsXG4gICAgICAgIHNlYXJjaEJ5V2hlcmVDbGF1c2UsXG4gICAgICAgIGdldFNlYXJjaGFibGVQcm9wZXJ0aWVzLFxuICAgICAgICBnZXRTZWFyY2hhYmxlUHJvcGVydGllc1dpdGhUeXBlcyxcbiAgICAgICAgbG9hZCxcbiAgICAgICAgc2F2ZVxuICAgIH07XG59XG5mdW5jdGlvbiBhZGRHZW9SZXN1bHQoc2V0LCBpZHMpIHtcbiAgICBpZiAoIXNldCkge1xuICAgICAgICBzZXQgPSBuZXcgU2V0KCk7XG4gICAgfVxuICAgIGNvbnN0IGlkc0xlbmd0aCA9IGlkcy5sZW5ndGg7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpZHNMZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBlbnRyeSA9IGlkc1tpXS5kb2NJRHM7XG4gICAgICAgIGNvbnN0IGlkc0xlbmd0aCA9IGVudHJ5Lmxlbmd0aDtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBpZHNMZW5ndGg7IGorKykge1xuICAgICAgICAgICAgc2V0LmFkZChlbnRyeVtqXSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNldDtcbn1cbmZ1bmN0aW9uIGFkZEZpbmRSZXN1bHQoc2V0LCBmaWx0ZXJlZElEc1Jlc3VsdHMpIHtcbiAgICBpZiAoIXNldCkge1xuICAgICAgICBzZXQgPSBuZXcgU2V0KCk7XG4gICAgfVxuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhmaWx0ZXJlZElEc1Jlc3VsdHMpO1xuICAgIGNvbnN0IGtleXNMZW5ndGggPSBrZXlzLmxlbmd0aDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtleXNMZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBpZHMgPSBmaWx0ZXJlZElEc1Jlc3VsdHNba2V5c1tpXV07XG4gICAgICAgIGNvbnN0IGlkc0xlbmd0aCA9IGlkcy5sZW5ndGg7XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgaWRzTGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIHNldC5hZGQoaWRzW2pdKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc2V0O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/internal-document-id-store.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@orama/orama/dist/browser/components/internal-document-id-store.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createInternalDocumentIDStore: () => (/* binding */ createInternalDocumentIDStore),\n/* harmony export */   getDocumentIdFromInternalId: () => (/* binding */ getDocumentIdFromInternalId),\n/* harmony export */   getInternalDocumentId: () => (/* binding */ getInternalDocumentId),\n/* harmony export */   load: () => (/* binding */ load),\n/* harmony export */   save: () => (/* binding */ save)\n/* harmony export */ });\nfunction createInternalDocumentIDStore() {\n    return {\n        idToInternalId: new Map(),\n        internalIdToId: [],\n        save,\n        load\n    };\n}\nfunction save(store) {\n    return {\n        internalIdToId: store.internalIdToId\n    };\n}\nfunction load(orama, raw) {\n    const { internalIdToId } = raw;\n    orama.internalDocumentIDStore.idToInternalId.clear();\n    orama.internalDocumentIDStore.internalIdToId = [];\n    const internalIdToIdLength = internalIdToId.length;\n    for (let i = 0; i < internalIdToIdLength; i++) {\n        const internalIdItem = internalIdToId[i];\n        orama.internalDocumentIDStore.idToInternalId.set(internalIdItem, i + 1);\n        orama.internalDocumentIDStore.internalIdToId.push(internalIdItem);\n    }\n}\nfunction getInternalDocumentId(store, id) {\n    if (typeof id === 'string') {\n        const internalId = store.idToInternalId.get(id);\n        if (internalId) {\n            return internalId;\n        }\n        const currentId = store.idToInternalId.size + 1;\n        store.idToInternalId.set(id, currentId);\n        store.internalIdToId.push(id);\n        return currentId;\n    }\n    if (id > store.internalIdToId.length) {\n        return getInternalDocumentId(store, id.toString());\n    }\n    return id;\n}\nfunction getDocumentIdFromInternalId(store, internalId) {\n    if (store.internalIdToId.length < internalId) {\n        throw new Error(`Invalid internalId ${internalId}`);\n    }\n    return store.internalIdToId[internalId - 1];\n}\n//# sourceMappingURL=internal-document-id-store.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9icm93c2VyL2NvbXBvbmVudHMvaW50ZXJuYWwtZG9jdW1lbnQtaWQtc3RvcmUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsWUFBWSxpQkFBaUI7QUFDN0I7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDBCQUEwQjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0EsOENBQThDLFdBQVc7QUFDekQ7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy9hcmNoaWVtY2tlbnppZS9EZXNrdG9wL2d0LWxpYnJhcmllcy9kb2NzL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9icm93c2VyL2NvbXBvbmVudHMvaW50ZXJuYWwtZG9jdW1lbnQtaWQtc3RvcmUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUludGVybmFsRG9jdW1lbnRJRFN0b3JlKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGlkVG9JbnRlcm5hbElkOiBuZXcgTWFwKCksXG4gICAgICAgIGludGVybmFsSWRUb0lkOiBbXSxcbiAgICAgICAgc2F2ZSxcbiAgICAgICAgbG9hZFxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gc2F2ZShzdG9yZSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGludGVybmFsSWRUb0lkOiBzdG9yZS5pbnRlcm5hbElkVG9JZFxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gbG9hZChvcmFtYSwgcmF3KSB7XG4gICAgY29uc3QgeyBpbnRlcm5hbElkVG9JZCB9ID0gcmF3O1xuICAgIG9yYW1hLmludGVybmFsRG9jdW1lbnRJRFN0b3JlLmlkVG9JbnRlcm5hbElkLmNsZWFyKCk7XG4gICAgb3JhbWEuaW50ZXJuYWxEb2N1bWVudElEU3RvcmUuaW50ZXJuYWxJZFRvSWQgPSBbXTtcbiAgICBjb25zdCBpbnRlcm5hbElkVG9JZExlbmd0aCA9IGludGVybmFsSWRUb0lkLmxlbmd0aDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGludGVybmFsSWRUb0lkTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgaW50ZXJuYWxJZEl0ZW0gPSBpbnRlcm5hbElkVG9JZFtpXTtcbiAgICAgICAgb3JhbWEuaW50ZXJuYWxEb2N1bWVudElEU3RvcmUuaWRUb0ludGVybmFsSWQuc2V0KGludGVybmFsSWRJdGVtLCBpICsgMSk7XG4gICAgICAgIG9yYW1hLmludGVybmFsRG9jdW1lbnRJRFN0b3JlLmludGVybmFsSWRUb0lkLnB1c2goaW50ZXJuYWxJZEl0ZW0pO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRJbnRlcm5hbERvY3VtZW50SWQoc3RvcmUsIGlkKSB7XG4gICAgaWYgKHR5cGVvZiBpZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgY29uc3QgaW50ZXJuYWxJZCA9IHN0b3JlLmlkVG9JbnRlcm5hbElkLmdldChpZCk7XG4gICAgICAgIGlmIChpbnRlcm5hbElkKSB7XG4gICAgICAgICAgICByZXR1cm4gaW50ZXJuYWxJZDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjdXJyZW50SWQgPSBzdG9yZS5pZFRvSW50ZXJuYWxJZC5zaXplICsgMTtcbiAgICAgICAgc3RvcmUuaWRUb0ludGVybmFsSWQuc2V0KGlkLCBjdXJyZW50SWQpO1xuICAgICAgICBzdG9yZS5pbnRlcm5hbElkVG9JZC5wdXNoKGlkKTtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRJZDtcbiAgICB9XG4gICAgaWYgKGlkID4gc3RvcmUuaW50ZXJuYWxJZFRvSWQubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBnZXRJbnRlcm5hbERvY3VtZW50SWQoc3RvcmUsIGlkLnRvU3RyaW5nKCkpO1xuICAgIH1cbiAgICByZXR1cm4gaWQ7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0RG9jdW1lbnRJZEZyb21JbnRlcm5hbElkKHN0b3JlLCBpbnRlcm5hbElkKSB7XG4gICAgaWYgKHN0b3JlLmludGVybmFsSWRUb0lkLmxlbmd0aCA8IGludGVybmFsSWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGludGVybmFsSWQgJHtpbnRlcm5hbElkfWApO1xuICAgIH1cbiAgICByZXR1cm4gc3RvcmUuaW50ZXJuYWxJZFRvSWRbaW50ZXJuYWxJZCAtIDFdO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW50ZXJuYWwtZG9jdW1lbnQtaWQtc3RvcmUuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/internal-document-id-store.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/levenshtein.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@orama/orama/dist/browser/components/levenshtein.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   boundedLevenshtein: () => (/* binding */ boundedLevenshtein),\n/* harmony export */   levenshtein: () => (/* binding */ levenshtein),\n/* harmony export */   syncBoundedLevenshtein: () => (/* binding */ syncBoundedLevenshtein)\n/* harmony export */ });\n/**\n * Inspired by:\n * https://github.com/Yomguithereal/talisman/blob/86ae55cbd040ff021d05e282e0e6c71f2dde21f8/src/metrics/levenshtein.js#L218-L340\n */\nfunction _boundedLevenshtein(term, word, tolerance) {\n    // Handle base cases\n    if (tolerance < 0)\n        return -1;\n    if (term === word)\n        return 0;\n    const m = term.length;\n    const n = word.length;\n    // Special case for empty strings\n    if (m === 0)\n        return n <= tolerance ? n : -1;\n    if (n === 0)\n        return m <= tolerance ? m : -1;\n    // term = term.toLowerCase()\n    // word = word.toLowerCase()\n    const diff = Math.abs(m - n);\n    // Special case for prefixes\n    // If the searching word starts with the indexed word, return early.\n    if (term.startsWith(word)) {\n        // We just check if the remaining characters are within the tolerance\n        return diff <= tolerance ? diff : -1;\n    }\n    // If the indexed word starts with the searching word, return early.\n    if (word.startsWith(term)) {\n        // any prefixed word is within the tolerance\n        return 0;\n    }\n    // If the length difference is greater than the tolerance, return early\n    if (diff > tolerance)\n        return -1;\n    // Initialize the matrix\n    const matrix = [];\n    for (let i = 0; i <= m; i++) {\n        matrix[i] = [i];\n        for (let j = 1; j <= n; j++) {\n            matrix[i][j] = i === 0 ? j : 0;\n        }\n    }\n    // Fill the matrix\n    for (let i = 1; i <= m; i++) {\n        let rowMin = Infinity;\n        for (let j = 1; j <= n; j++) {\n            if (term[i - 1] === word[j - 1]) {\n                matrix[i][j] = matrix[i - 1][j - 1];\n            }\n            else {\n                matrix[i][j] = Math.min(matrix[i - 1][j] + 1, // deletion\n                matrix[i][j - 1] + 1, // insertion\n                matrix[i - 1][j - 1] + 1 // substitution\n                );\n            }\n            rowMin = Math.min(rowMin, matrix[i][j]);\n        }\n        // Early termination if all values in this row exceed tolerance\n        if (rowMin > tolerance) {\n            return -1;\n        }\n    }\n    return matrix[m][n] <= tolerance ? matrix[m][n] : -1;\n}\n/**\n * Computes the Levenshtein distance between two strings (a, b), returning early with -1 if the distance\n * is greater than the given tolerance.\n * It assumes that:\n * - tolerance >= ||a| - |b|| >= 0\n */\nfunction boundedLevenshtein(term, w, tolerance) {\n    const distance = _boundedLevenshtein(term, w, tolerance);\n    return {\n        distance,\n        isBounded: distance >= 0\n    };\n}\n// This is only used internally, keep in sync with the previous one\nfunction syncBoundedLevenshtein(term, w, tolerance) {\n    const distance = _boundedLevenshtein(term, w, tolerance);\n    return {\n        distance,\n        isBounded: distance >= 0\n    };\n}\nfunction levenshtein(a, b) {\n    /* c8 ignore next 3 */\n    if (!a.length) {\n        return b.length;\n    }\n    /* c8 ignore next 3 */\n    if (!b.length) {\n        return a.length;\n    }\n    const swap = a;\n    if (a.length > b.length) {\n        a = b;\n        b = swap;\n    }\n    const row = Array.from({ length: a.length + 1 }, (_, i) => i);\n    let val = 0;\n    for (let i = 1; i <= b.length; i++) {\n        let prev = i;\n        for (let j = 1; j <= a.length; j++) {\n            if (b[i - 1] === a[j - 1]) {\n                val = row[j - 1];\n            }\n            else {\n                val = Math.min(row[j - 1] + 1, Math.min(prev + 1, row[j] + 1));\n            }\n            row[j - 1] = prev;\n            prev = val;\n        }\n        row[a.length] = prev;\n    }\n    return row[a.length];\n}\n//# sourceMappingURL=levenshtein.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9icm93c2VyL2NvbXBvbmVudHMvbGV2ZW5zaHRlaW4uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFFBQVE7QUFDNUI7QUFDQSx3QkFBd0IsUUFBUTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixRQUFRO0FBQzVCO0FBQ0Esd0JBQXdCLFFBQVE7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixzQkFBc0I7QUFDbkQ7QUFDQSxvQkFBb0IsZUFBZTtBQUNuQztBQUNBLHdCQUF3QixlQUFlO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy9hcmNoaWVtY2tlbnppZS9EZXNrdG9wL2d0LWxpYnJhcmllcy9kb2NzL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9icm93c2VyL2NvbXBvbmVudHMvbGV2ZW5zaHRlaW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBJbnNwaXJlZCBieTpcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9Zb21ndWl0aGVyZWFsL3RhbGlzbWFuL2Jsb2IvODZhZTU1Y2JkMDQwZmYwMjFkMDVlMjgyZTBlNmM3MWYyZGRlMjFmOC9zcmMvbWV0cmljcy9sZXZlbnNodGVpbi5qcyNMMjE4LUwzNDBcbiAqL1xuZnVuY3Rpb24gX2JvdW5kZWRMZXZlbnNodGVpbih0ZXJtLCB3b3JkLCB0b2xlcmFuY2UpIHtcbiAgICAvLyBIYW5kbGUgYmFzZSBjYXNlc1xuICAgIGlmICh0b2xlcmFuY2UgPCAwKVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgaWYgKHRlcm0gPT09IHdvcmQpXG4gICAgICAgIHJldHVybiAwO1xuICAgIGNvbnN0IG0gPSB0ZXJtLmxlbmd0aDtcbiAgICBjb25zdCBuID0gd29yZC5sZW5ndGg7XG4gICAgLy8gU3BlY2lhbCBjYXNlIGZvciBlbXB0eSBzdHJpbmdzXG4gICAgaWYgKG0gPT09IDApXG4gICAgICAgIHJldHVybiBuIDw9IHRvbGVyYW5jZSA/IG4gOiAtMTtcbiAgICBpZiAobiA9PT0gMClcbiAgICAgICAgcmV0dXJuIG0gPD0gdG9sZXJhbmNlID8gbSA6IC0xO1xuICAgIC8vIHRlcm0gPSB0ZXJtLnRvTG93ZXJDYXNlKClcbiAgICAvLyB3b3JkID0gd29yZC50b0xvd2VyQ2FzZSgpXG4gICAgY29uc3QgZGlmZiA9IE1hdGguYWJzKG0gLSBuKTtcbiAgICAvLyBTcGVjaWFsIGNhc2UgZm9yIHByZWZpeGVzXG4gICAgLy8gSWYgdGhlIHNlYXJjaGluZyB3b3JkIHN0YXJ0cyB3aXRoIHRoZSBpbmRleGVkIHdvcmQsIHJldHVybiBlYXJseS5cbiAgICBpZiAodGVybS5zdGFydHNXaXRoKHdvcmQpKSB7XG4gICAgICAgIC8vIFdlIGp1c3QgY2hlY2sgaWYgdGhlIHJlbWFpbmluZyBjaGFyYWN0ZXJzIGFyZSB3aXRoaW4gdGhlIHRvbGVyYW5jZVxuICAgICAgICByZXR1cm4gZGlmZiA8PSB0b2xlcmFuY2UgPyBkaWZmIDogLTE7XG4gICAgfVxuICAgIC8vIElmIHRoZSBpbmRleGVkIHdvcmQgc3RhcnRzIHdpdGggdGhlIHNlYXJjaGluZyB3b3JkLCByZXR1cm4gZWFybHkuXG4gICAgaWYgKHdvcmQuc3RhcnRzV2l0aCh0ZXJtKSkge1xuICAgICAgICAvLyBhbnkgcHJlZml4ZWQgd29yZCBpcyB3aXRoaW4gdGhlIHRvbGVyYW5jZVxuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgLy8gSWYgdGhlIGxlbmd0aCBkaWZmZXJlbmNlIGlzIGdyZWF0ZXIgdGhhbiB0aGUgdG9sZXJhbmNlLCByZXR1cm4gZWFybHlcbiAgICBpZiAoZGlmZiA+IHRvbGVyYW5jZSlcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIC8vIEluaXRpYWxpemUgdGhlIG1hdHJpeFxuICAgIGNvbnN0IG1hdHJpeCA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IG07IGkrKykge1xuICAgICAgICBtYXRyaXhbaV0gPSBbaV07XG4gICAgICAgIGZvciAobGV0IGogPSAxOyBqIDw9IG47IGorKykge1xuICAgICAgICAgICAgbWF0cml4W2ldW2pdID0gaSA9PT0gMCA/IGogOiAwO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIEZpbGwgdGhlIG1hdHJpeFxuICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IG07IGkrKykge1xuICAgICAgICBsZXQgcm93TWluID0gSW5maW5pdHk7XG4gICAgICAgIGZvciAobGV0IGogPSAxOyBqIDw9IG47IGorKykge1xuICAgICAgICAgICAgaWYgKHRlcm1baSAtIDFdID09PSB3b3JkW2ogLSAxXSkge1xuICAgICAgICAgICAgICAgIG1hdHJpeFtpXVtqXSA9IG1hdHJpeFtpIC0gMV1baiAtIDFdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbWF0cml4W2ldW2pdID0gTWF0aC5taW4obWF0cml4W2kgLSAxXVtqXSArIDEsIC8vIGRlbGV0aW9uXG4gICAgICAgICAgICAgICAgbWF0cml4W2ldW2ogLSAxXSArIDEsIC8vIGluc2VydGlvblxuICAgICAgICAgICAgICAgIG1hdHJpeFtpIC0gMV1baiAtIDFdICsgMSAvLyBzdWJzdGl0dXRpb25cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcm93TWluID0gTWF0aC5taW4ocm93TWluLCBtYXRyaXhbaV1bal0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIEVhcmx5IHRlcm1pbmF0aW9uIGlmIGFsbCB2YWx1ZXMgaW4gdGhpcyByb3cgZXhjZWVkIHRvbGVyYW5jZVxuICAgICAgICBpZiAocm93TWluID4gdG9sZXJhbmNlKSB7XG4gICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1hdHJpeFttXVtuXSA8PSB0b2xlcmFuY2UgPyBtYXRyaXhbbV1bbl0gOiAtMTtcbn1cbi8qKlxuICogQ29tcHV0ZXMgdGhlIExldmVuc2h0ZWluIGRpc3RhbmNlIGJldHdlZW4gdHdvIHN0cmluZ3MgKGEsIGIpLCByZXR1cm5pbmcgZWFybHkgd2l0aCAtMSBpZiB0aGUgZGlzdGFuY2VcbiAqIGlzIGdyZWF0ZXIgdGhhbiB0aGUgZ2l2ZW4gdG9sZXJhbmNlLlxuICogSXQgYXNzdW1lcyB0aGF0OlxuICogLSB0b2xlcmFuY2UgPj0gfHxhfCAtIHxifHwgPj0gMFxuICovXG5leHBvcnQgZnVuY3Rpb24gYm91bmRlZExldmVuc2h0ZWluKHRlcm0sIHcsIHRvbGVyYW5jZSkge1xuICAgIGNvbnN0IGRpc3RhbmNlID0gX2JvdW5kZWRMZXZlbnNodGVpbih0ZXJtLCB3LCB0b2xlcmFuY2UpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGRpc3RhbmNlLFxuICAgICAgICBpc0JvdW5kZWQ6IGRpc3RhbmNlID49IDBcbiAgICB9O1xufVxuLy8gVGhpcyBpcyBvbmx5IHVzZWQgaW50ZXJuYWxseSwga2VlcCBpbiBzeW5jIHdpdGggdGhlIHByZXZpb3VzIG9uZVxuZXhwb3J0IGZ1bmN0aW9uIHN5bmNCb3VuZGVkTGV2ZW5zaHRlaW4odGVybSwgdywgdG9sZXJhbmNlKSB7XG4gICAgY29uc3QgZGlzdGFuY2UgPSBfYm91bmRlZExldmVuc2h0ZWluKHRlcm0sIHcsIHRvbGVyYW5jZSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZGlzdGFuY2UsXG4gICAgICAgIGlzQm91bmRlZDogZGlzdGFuY2UgPj0gMFxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gbGV2ZW5zaHRlaW4oYSwgYikge1xuICAgIC8qIGM4IGlnbm9yZSBuZXh0IDMgKi9cbiAgICBpZiAoIWEubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBiLmxlbmd0aDtcbiAgICB9XG4gICAgLyogYzggaWdub3JlIG5leHQgMyAqL1xuICAgIGlmICghYi5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGEubGVuZ3RoO1xuICAgIH1cbiAgICBjb25zdCBzd2FwID0gYTtcbiAgICBpZiAoYS5sZW5ndGggPiBiLmxlbmd0aCkge1xuICAgICAgICBhID0gYjtcbiAgICAgICAgYiA9IHN3YXA7XG4gICAgfVxuICAgIGNvbnN0IHJvdyA9IEFycmF5LmZyb20oeyBsZW5ndGg6IGEubGVuZ3RoICsgMSB9LCAoXywgaSkgPT4gaSk7XG4gICAgbGV0IHZhbCA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gYi5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgcHJldiA9IGk7XG4gICAgICAgIGZvciAobGV0IGogPSAxOyBqIDw9IGEubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGlmIChiW2kgLSAxXSA9PT0gYVtqIC0gMV0pIHtcbiAgICAgICAgICAgICAgICB2YWwgPSByb3dbaiAtIDFdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFsID0gTWF0aC5taW4ocm93W2ogLSAxXSArIDEsIE1hdGgubWluKHByZXYgKyAxLCByb3dbal0gKyAxKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByb3dbaiAtIDFdID0gcHJldjtcbiAgICAgICAgICAgIHByZXYgPSB2YWw7XG4gICAgICAgIH1cbiAgICAgICAgcm93W2EubGVuZ3RoXSA9IHByZXY7XG4gICAgfVxuICAgIHJldHVybiByb3dbYS5sZW5ndGhdO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGV2ZW5zaHRlaW4uanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/levenshtein.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/plugins.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@orama/orama/dist/browser/components/plugins.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AVAILABLE_PLUGIN_HOOKS: () => (/* binding */ AVAILABLE_PLUGIN_HOOKS),\n/* harmony export */   getAllPluginsByHook: () => (/* binding */ getAllPluginsByHook)\n/* harmony export */ });\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../errors.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/errors.js\");\n\nconst AVAILABLE_PLUGIN_HOOKS = [\n    'beforeInsert',\n    'afterInsert',\n    'beforeRemove',\n    'afterRemove',\n    'beforeUpdate',\n    'afterUpdate',\n    'beforeSearch',\n    'afterSearch',\n    'beforeInsertMultiple',\n    'afterInsertMultiple',\n    'beforeRemoveMultiple',\n    'afterRemoveMultiple',\n    'beforeUpdateMultiple',\n    'afterUpdateMultiple',\n    'beforeLoad',\n    'afterLoad',\n    'afterCreate'\n];\nfunction getAllPluginsByHook(orama, hook) {\n    const pluginsToRun = [];\n    const pluginsLength = orama.plugins?.length;\n    if (!pluginsLength) {\n        return pluginsToRun;\n    }\n    for (let i = 0; i < pluginsLength; i++) {\n        try {\n            const plugin = orama.plugins[i];\n            if (typeof plugin[hook] === 'function') {\n                pluginsToRun.push(plugin[hook]);\n            }\n        }\n        catch (error) {\n            console.error('Caught error in getAllPluginsByHook:', error);\n            throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_0__.createError)('PLUGIN_CRASHED');\n        }\n    }\n    return pluginsToRun;\n}\n//# sourceMappingURL=plugins.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9icm93c2VyL2NvbXBvbmVudHMvcGx1Z2lucy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBMkM7QUFDcEM7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsbUJBQW1CO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsdURBQVc7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL2FyY2hpZW1ja2VuemllL0Rlc2t0b3AvZ3QtbGlicmFyaWVzL2RvY3Mvbm9kZV9tb2R1bGVzL0BvcmFtYS9vcmFtYS9kaXN0L2Jyb3dzZXIvY29tcG9uZW50cy9wbHVnaW5zLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUVycm9yIH0gZnJvbSAnLi4vZXJyb3JzLmpzJztcbmV4cG9ydCBjb25zdCBBVkFJTEFCTEVfUExVR0lOX0hPT0tTID0gW1xuICAgICdiZWZvcmVJbnNlcnQnLFxuICAgICdhZnRlckluc2VydCcsXG4gICAgJ2JlZm9yZVJlbW92ZScsXG4gICAgJ2FmdGVyUmVtb3ZlJyxcbiAgICAnYmVmb3JlVXBkYXRlJyxcbiAgICAnYWZ0ZXJVcGRhdGUnLFxuICAgICdiZWZvcmVTZWFyY2gnLFxuICAgICdhZnRlclNlYXJjaCcsXG4gICAgJ2JlZm9yZUluc2VydE11bHRpcGxlJyxcbiAgICAnYWZ0ZXJJbnNlcnRNdWx0aXBsZScsXG4gICAgJ2JlZm9yZVJlbW92ZU11bHRpcGxlJyxcbiAgICAnYWZ0ZXJSZW1vdmVNdWx0aXBsZScsXG4gICAgJ2JlZm9yZVVwZGF0ZU11bHRpcGxlJyxcbiAgICAnYWZ0ZXJVcGRhdGVNdWx0aXBsZScsXG4gICAgJ2JlZm9yZUxvYWQnLFxuICAgICdhZnRlckxvYWQnLFxuICAgICdhZnRlckNyZWF0ZSdcbl07XG5leHBvcnQgZnVuY3Rpb24gZ2V0QWxsUGx1Z2luc0J5SG9vayhvcmFtYSwgaG9vaykge1xuICAgIGNvbnN0IHBsdWdpbnNUb1J1biA9IFtdO1xuICAgIGNvbnN0IHBsdWdpbnNMZW5ndGggPSBvcmFtYS5wbHVnaW5zPy5sZW5ndGg7XG4gICAgaWYgKCFwbHVnaW5zTGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBwbHVnaW5zVG9SdW47XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGx1Z2luc0xlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBwbHVnaW4gPSBvcmFtYS5wbHVnaW5zW2ldO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBwbHVnaW5baG9va10gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICBwbHVnaW5zVG9SdW4ucHVzaChwbHVnaW5baG9va10pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignQ2F1Z2h0IGVycm9yIGluIGdldEFsbFBsdWdpbnNCeUhvb2s6JywgZXJyb3IpO1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoJ1BMVUdJTl9DUkFTSEVEJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHBsdWdpbnNUb1J1bjtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBsdWdpbnMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/plugins.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/sorter.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@orama/orama/dist/browser/components/sorter.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createSorter: () => (/* binding */ createSorter),\n/* harmony export */   load: () => (/* binding */ load),\n/* harmony export */   save: () => (/* binding */ save)\n/* harmony export */ });\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../errors.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/errors.js\");\n/* harmony import */ var _defaults_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./defaults.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/defaults.js\");\n/* harmony import */ var _internal_document_id_store_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./internal-document-id-store.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/internal-document-id-store.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/utils.js\");\n/* harmony import */ var _tokenizer_languages_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./tokenizer/languages.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/tokenizer/languages.js\");\n\n\n\n\n\nfunction innerCreate(orama, sharedInternalDocumentStore, schema, sortableDeniedProperties, prefix) {\n    const sorter = {\n        language: orama.tokenizer.language,\n        sharedInternalDocumentStore,\n        enabled: true,\n        isSorted: true,\n        sortableProperties: [],\n        sortablePropertiesWithTypes: {},\n        sorts: {}\n    };\n    for (const [prop, type] of Object.entries(schema)) {\n        const path = `${prefix}${prefix ? '.' : ''}${prop}`;\n        if (sortableDeniedProperties.includes(path)) {\n            continue;\n        }\n        if (typeof type === 'object' && !Array.isArray(type)) {\n            // Nested\n            const ret = innerCreate(orama, sharedInternalDocumentStore, type, sortableDeniedProperties, path);\n            (0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.safeArrayPush)(sorter.sortableProperties, ret.sortableProperties);\n            sorter.sorts = {\n                ...sorter.sorts,\n                ...ret.sorts\n            };\n            sorter.sortablePropertiesWithTypes = {\n                ...sorter.sortablePropertiesWithTypes,\n                ...ret.sortablePropertiesWithTypes\n            };\n            continue;\n        }\n        if (!(0,_defaults_js__WEBPACK_IMPORTED_MODULE_1__.isVectorType)(type)) {\n            switch (type) {\n                case 'boolean':\n                case 'number':\n                case 'string':\n                    sorter.sortableProperties.push(path);\n                    sorter.sortablePropertiesWithTypes[path] = type;\n                    sorter.sorts[path] = {\n                        docs: new Map(),\n                        orderedDocsToRemove: new Map(),\n                        orderedDocs: [],\n                        type: type\n                    };\n                    break;\n                case 'geopoint':\n                case 'enum':\n                    // We don't allow to sort by enums or geopoints\n                    continue;\n                case 'enum[]':\n                case 'boolean[]':\n                case 'number[]':\n                case 'string[]':\n                    // We don't allow to sort by arrays\n                    continue;\n                default:\n                    throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_0__.createError)('INVALID_SORT_SCHEMA_TYPE', Array.isArray(type) ? 'array' : type, path);\n            }\n        }\n    }\n    return sorter;\n}\nfunction create(orama, sharedInternalDocumentStore, schema, config) {\n    const isSortEnabled = config?.enabled !== false;\n    if (!isSortEnabled) {\n        return {\n            disabled: true\n        };\n    }\n    return innerCreate(orama, sharedInternalDocumentStore, schema, (config || {}).unsortableProperties || [], '');\n}\nfunction insert(sorter, prop, id, value) {\n    if (!sorter.enabled) {\n        return;\n    }\n    sorter.isSorted = false;\n    const internalId = (0,_internal_document_id_store_js__WEBPACK_IMPORTED_MODULE_2__.getInternalDocumentId)(sorter.sharedInternalDocumentStore, id);\n    const s = sorter.sorts[prop];\n    // This happen during a document updating\n    // Because we re-use the same internalId\n    // We need to clean-up the data structure before re-inserting\n    // to avoid duplicates in the orderedDocs array\n    // See: https://github.com/oramasearch/orama/issues/629\n    if (s.orderedDocsToRemove.has(internalId)) {\n        ensureOrderedDocsAreDeletedByProperty(sorter, prop);\n    }\n    s.docs.set(internalId, s.orderedDocs.length);\n    s.orderedDocs.push([internalId, value]);\n}\nfunction ensureIsSorted(sorter) {\n    if (sorter.isSorted || !sorter.enabled) {\n        return;\n    }\n    const properties = Object.keys(sorter.sorts);\n    for (const prop of properties) {\n        ensurePropertyIsSorted(sorter, prop);\n    }\n    sorter.isSorted = true;\n}\nfunction stringSort(language, value, d) {\n    return value[1].localeCompare(d[1], (0,_tokenizer_languages_js__WEBPACK_IMPORTED_MODULE_4__.getLocale)(language));\n}\nfunction numberSort(value, d) {\n    return value[1] - d[1];\n}\nfunction booleanSort(value, d) {\n    return d[1] ? -1 : 1;\n}\nfunction ensurePropertyIsSorted(sorter, prop) {\n    const s = sorter.sorts[prop];\n    let predicate;\n    switch (s.type) {\n        case 'string':\n            predicate = stringSort.bind(null, sorter.language);\n            break;\n        case 'number':\n            predicate = numberSort.bind(null);\n            break;\n        case 'boolean':\n            predicate = booleanSort.bind(null);\n            break;\n    }\n    s.orderedDocs.sort(predicate);\n    // Increment position for the greather documents\n    const orderedDocsLength = s.orderedDocs.length;\n    for (let i = 0; i < orderedDocsLength; i++) {\n        const docId = s.orderedDocs[i][0];\n        s.docs.set(docId, i);\n    }\n}\nfunction ensureOrderedDocsAreDeleted(sorter) {\n    const properties = Object.keys(sorter.sorts);\n    for (const prop of properties) {\n        ensureOrderedDocsAreDeletedByProperty(sorter, prop);\n    }\n}\nfunction ensureOrderedDocsAreDeletedByProperty(sorter, prop) {\n    const s = sorter.sorts[prop];\n    if (!s.orderedDocsToRemove.size)\n        return;\n    s.orderedDocs = s.orderedDocs.filter((doc) => !s.orderedDocsToRemove.has(doc[0]));\n    s.orderedDocsToRemove.clear();\n}\nfunction remove(sorter, prop, id) {\n    if (!sorter.enabled) {\n        return;\n    }\n    const s = sorter.sorts[prop];\n    const internalId = (0,_internal_document_id_store_js__WEBPACK_IMPORTED_MODULE_2__.getInternalDocumentId)(sorter.sharedInternalDocumentStore, id);\n    const index = s.docs.get(internalId);\n    if (!index)\n        return;\n    s.docs.delete(internalId);\n    s.orderedDocsToRemove.set(internalId, true);\n}\nfunction sortBy(sorter, docIds, by) {\n    if (!sorter.enabled) {\n        throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_0__.createError)('SORT_DISABLED');\n    }\n    const property = by.property;\n    const isDesc = by.order === 'DESC';\n    const s = sorter.sorts[property];\n    if (!s) {\n        throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_0__.createError)('UNABLE_TO_SORT_ON_UNKNOWN_FIELD', property, sorter.sortableProperties.join(', '));\n    }\n    ensureOrderedDocsAreDeletedByProperty(sorter, property);\n    ensureIsSorted(sorter);\n    docIds.sort((a, b) => {\n        // This sort algorithm works leveraging on\n        // that s.docs is a map of docId -> position\n        // If a document is not indexed, it will be not present in the map\n        const indexOfA = s.docs.get((0,_internal_document_id_store_js__WEBPACK_IMPORTED_MODULE_2__.getInternalDocumentId)(sorter.sharedInternalDocumentStore, a[0]));\n        const indexOfB = s.docs.get((0,_internal_document_id_store_js__WEBPACK_IMPORTED_MODULE_2__.getInternalDocumentId)(sorter.sharedInternalDocumentStore, b[0]));\n        const isAIndexed = typeof indexOfA !== 'undefined';\n        const isBIndexed = typeof indexOfB !== 'undefined';\n        if (!isAIndexed && !isBIndexed) {\n            return 0;\n        }\n        // unindexed documents are always at the end\n        if (!isAIndexed) {\n            return 1;\n        }\n        if (!isBIndexed) {\n            return -1;\n        }\n        return isDesc ? indexOfB - indexOfA : indexOfA - indexOfB;\n    });\n    return docIds;\n}\nfunction getSortableProperties(sorter) {\n    if (!sorter.enabled) {\n        return [];\n    }\n    return sorter.sortableProperties;\n}\nfunction getSortablePropertiesWithTypes(sorter) {\n    if (!sorter.enabled) {\n        return {};\n    }\n    return sorter.sortablePropertiesWithTypes;\n}\nfunction load(sharedInternalDocumentStore, raw) {\n    const rawDocument = raw;\n    if (!rawDocument.enabled) {\n        return {\n            enabled: false\n        };\n    }\n    const sorts = Object.keys(rawDocument.sorts).reduce((acc, prop) => {\n        const { docs, orderedDocs, type } = rawDocument.sorts[prop];\n        acc[prop] = {\n            docs: new Map(Object.entries(docs).map(([k, v]) => [+k, v])),\n            orderedDocsToRemove: new Map(),\n            orderedDocs,\n            type\n        };\n        return acc;\n    }, {});\n    return {\n        sharedInternalDocumentStore,\n        language: rawDocument.language,\n        sortableProperties: rawDocument.sortableProperties,\n        sortablePropertiesWithTypes: rawDocument.sortablePropertiesWithTypes,\n        sorts,\n        enabled: true,\n        isSorted: rawDocument.isSorted\n    };\n}\nfunction save(sorter) {\n    if (!sorter.enabled) {\n        return {\n            enabled: false\n        };\n    }\n    ensureOrderedDocsAreDeleted(sorter);\n    ensureIsSorted(sorter);\n    const sorts = Object.keys(sorter.sorts).reduce((acc, prop) => {\n        const { docs, orderedDocs, type } = sorter.sorts[prop];\n        acc[prop] = {\n            docs: Object.fromEntries(docs.entries()),\n            orderedDocs,\n            type\n        };\n        return acc;\n    }, {});\n    return {\n        language: sorter.language,\n        sortableProperties: sorter.sortableProperties,\n        sortablePropertiesWithTypes: sorter.sortablePropertiesWithTypes,\n        sorts,\n        enabled: sorter.enabled,\n        isSorted: sorter.isSorted\n    };\n}\nfunction createSorter() {\n    return {\n        create,\n        insert,\n        remove,\n        save,\n        load,\n        sortBy,\n        getSortableProperties,\n        getSortablePropertiesWithTypes\n    };\n}\n//# sourceMappingURL=sorter.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9icm93c2VyL2NvbXBvbmVudHMvc29ydGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQTJDO0FBQ0U7QUFDMkI7QUFDNUI7QUFDUztBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QztBQUN2QztBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsT0FBTyxFQUFFLGtCQUFrQixFQUFFLEtBQUs7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSx3REFBYTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsMERBQVk7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLHVEQUFXO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdGQUFnRjtBQUNoRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIscUZBQXFCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0Msa0VBQVM7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHVCQUF1QjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixxRkFBcUI7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsdURBQVc7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsdURBQVc7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MscUZBQXFCO0FBQ3pELG9DQUFvQyxxRkFBcUI7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsMEJBQTBCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxJQUFJO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsMEJBQTBCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssSUFBSTtBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvYXJjaGllbWNrZW56aWUvRGVza3RvcC9ndC1saWJyYXJpZXMvZG9jcy9ub2RlX21vZHVsZXMvQG9yYW1hL29yYW1hL2Rpc3QvYnJvd3Nlci9jb21wb25lbnRzL3NvcnRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVFcnJvciB9IGZyb20gJy4uL2Vycm9ycy5qcyc7XG5pbXBvcnQgeyBpc1ZlY3RvclR5cGUgfSBmcm9tICcuL2RlZmF1bHRzLmpzJztcbmltcG9ydCB7IGdldEludGVybmFsRG9jdW1lbnRJZCB9IGZyb20gJy4vaW50ZXJuYWwtZG9jdW1lbnQtaWQtc3RvcmUuanMnO1xuaW1wb3J0IHsgc2FmZUFycmF5UHVzaCB9IGZyb20gJy4uL3V0aWxzLmpzJztcbmltcG9ydCB7IGdldExvY2FsZSB9IGZyb20gJy4vdG9rZW5pemVyL2xhbmd1YWdlcy5qcyc7XG5mdW5jdGlvbiBpbm5lckNyZWF0ZShvcmFtYSwgc2hhcmVkSW50ZXJuYWxEb2N1bWVudFN0b3JlLCBzY2hlbWEsIHNvcnRhYmxlRGVuaWVkUHJvcGVydGllcywgcHJlZml4KSB7XG4gICAgY29uc3Qgc29ydGVyID0ge1xuICAgICAgICBsYW5ndWFnZTogb3JhbWEudG9rZW5pemVyLmxhbmd1YWdlLFxuICAgICAgICBzaGFyZWRJbnRlcm5hbERvY3VtZW50U3RvcmUsXG4gICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICAgIGlzU29ydGVkOiB0cnVlLFxuICAgICAgICBzb3J0YWJsZVByb3BlcnRpZXM6IFtdLFxuICAgICAgICBzb3J0YWJsZVByb3BlcnRpZXNXaXRoVHlwZXM6IHt9LFxuICAgICAgICBzb3J0czoge31cbiAgICB9O1xuICAgIGZvciAoY29uc3QgW3Byb3AsIHR5cGVdIG9mIE9iamVjdC5lbnRyaWVzKHNjaGVtYSkpIHtcbiAgICAgICAgY29uc3QgcGF0aCA9IGAke3ByZWZpeH0ke3ByZWZpeCA/ICcuJyA6ICcnfSR7cHJvcH1gO1xuICAgICAgICBpZiAoc29ydGFibGVEZW5pZWRQcm9wZXJ0aWVzLmluY2x1ZGVzKHBhdGgpKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHR5cGUgPT09ICdvYmplY3QnICYmICFBcnJheS5pc0FycmF5KHR5cGUpKSB7XG4gICAgICAgICAgICAvLyBOZXN0ZWRcbiAgICAgICAgICAgIGNvbnN0IHJldCA9IGlubmVyQ3JlYXRlKG9yYW1hLCBzaGFyZWRJbnRlcm5hbERvY3VtZW50U3RvcmUsIHR5cGUsIHNvcnRhYmxlRGVuaWVkUHJvcGVydGllcywgcGF0aCk7XG4gICAgICAgICAgICBzYWZlQXJyYXlQdXNoKHNvcnRlci5zb3J0YWJsZVByb3BlcnRpZXMsIHJldC5zb3J0YWJsZVByb3BlcnRpZXMpO1xuICAgICAgICAgICAgc29ydGVyLnNvcnRzID0ge1xuICAgICAgICAgICAgICAgIC4uLnNvcnRlci5zb3J0cyxcbiAgICAgICAgICAgICAgICAuLi5yZXQuc29ydHNcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzb3J0ZXIuc29ydGFibGVQcm9wZXJ0aWVzV2l0aFR5cGVzID0ge1xuICAgICAgICAgICAgICAgIC4uLnNvcnRlci5zb3J0YWJsZVByb3BlcnRpZXNXaXRoVHlwZXMsXG4gICAgICAgICAgICAgICAgLi4ucmV0LnNvcnRhYmxlUHJvcGVydGllc1dpdGhUeXBlc1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNWZWN0b3JUeXBlKHR5cGUpKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdib29sZWFuJzpcbiAgICAgICAgICAgICAgICBjYXNlICdudW1iZXInOlxuICAgICAgICAgICAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgICAgICAgICAgICAgIHNvcnRlci5zb3J0YWJsZVByb3BlcnRpZXMucHVzaChwYXRoKTtcbiAgICAgICAgICAgICAgICAgICAgc29ydGVyLnNvcnRhYmxlUHJvcGVydGllc1dpdGhUeXBlc1twYXRoXSA9IHR5cGU7XG4gICAgICAgICAgICAgICAgICAgIHNvcnRlci5zb3J0c1twYXRoXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3M6IG5ldyBNYXAoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVyZWREb2NzVG9SZW1vdmU6IG5ldyBNYXAoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yZGVyZWREb2NzOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IHR5cGVcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZ2VvcG9pbnQnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ2VudW0nOlxuICAgICAgICAgICAgICAgICAgICAvLyBXZSBkb24ndCBhbGxvdyB0byBzb3J0IGJ5IGVudW1zIG9yIGdlb3BvaW50c1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlICdlbnVtW10nOlxuICAgICAgICAgICAgICAgIGNhc2UgJ2Jvb2xlYW5bXSc6XG4gICAgICAgICAgICAgICAgY2FzZSAnbnVtYmVyW10nOlxuICAgICAgICAgICAgICAgIGNhc2UgJ3N0cmluZ1tdJzpcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgZG9uJ3QgYWxsb3cgdG8gc29ydCBieSBhcnJheXNcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoJ0lOVkFMSURfU09SVF9TQ0hFTUFfVFlQRScsIEFycmF5LmlzQXJyYXkodHlwZSkgPyAnYXJyYXknIDogdHlwZSwgcGF0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNvcnRlcjtcbn1cbmZ1bmN0aW9uIGNyZWF0ZShvcmFtYSwgc2hhcmVkSW50ZXJuYWxEb2N1bWVudFN0b3JlLCBzY2hlbWEsIGNvbmZpZykge1xuICAgIGNvbnN0IGlzU29ydEVuYWJsZWQgPSBjb25maWc/LmVuYWJsZWQgIT09IGZhbHNlO1xuICAgIGlmICghaXNTb3J0RW5hYmxlZCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGlzYWJsZWQ6IHRydWVcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIGlubmVyQ3JlYXRlKG9yYW1hLCBzaGFyZWRJbnRlcm5hbERvY3VtZW50U3RvcmUsIHNjaGVtYSwgKGNvbmZpZyB8fCB7fSkudW5zb3J0YWJsZVByb3BlcnRpZXMgfHwgW10sICcnKTtcbn1cbmZ1bmN0aW9uIGluc2VydChzb3J0ZXIsIHByb3AsIGlkLCB2YWx1ZSkge1xuICAgIGlmICghc29ydGVyLmVuYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzb3J0ZXIuaXNTb3J0ZWQgPSBmYWxzZTtcbiAgICBjb25zdCBpbnRlcm5hbElkID0gZ2V0SW50ZXJuYWxEb2N1bWVudElkKHNvcnRlci5zaGFyZWRJbnRlcm5hbERvY3VtZW50U3RvcmUsIGlkKTtcbiAgICBjb25zdCBzID0gc29ydGVyLnNvcnRzW3Byb3BdO1xuICAgIC8vIFRoaXMgaGFwcGVuIGR1cmluZyBhIGRvY3VtZW50IHVwZGF0aW5nXG4gICAgLy8gQmVjYXVzZSB3ZSByZS11c2UgdGhlIHNhbWUgaW50ZXJuYWxJZFxuICAgIC8vIFdlIG5lZWQgdG8gY2xlYW4tdXAgdGhlIGRhdGEgc3RydWN0dXJlIGJlZm9yZSByZS1pbnNlcnRpbmdcbiAgICAvLyB0byBhdm9pZCBkdXBsaWNhdGVzIGluIHRoZSBvcmRlcmVkRG9jcyBhcnJheVxuICAgIC8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL29yYW1hc2VhcmNoL29yYW1hL2lzc3Vlcy82MjlcbiAgICBpZiAocy5vcmRlcmVkRG9jc1RvUmVtb3ZlLmhhcyhpbnRlcm5hbElkKSkge1xuICAgICAgICBlbnN1cmVPcmRlcmVkRG9jc0FyZURlbGV0ZWRCeVByb3BlcnR5KHNvcnRlciwgcHJvcCk7XG4gICAgfVxuICAgIHMuZG9jcy5zZXQoaW50ZXJuYWxJZCwgcy5vcmRlcmVkRG9jcy5sZW5ndGgpO1xuICAgIHMub3JkZXJlZERvY3MucHVzaChbaW50ZXJuYWxJZCwgdmFsdWVdKTtcbn1cbmZ1bmN0aW9uIGVuc3VyZUlzU29ydGVkKHNvcnRlcikge1xuICAgIGlmIChzb3J0ZXIuaXNTb3J0ZWQgfHwgIXNvcnRlci5lbmFibGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcHJvcGVydGllcyA9IE9iamVjdC5rZXlzKHNvcnRlci5zb3J0cyk7XG4gICAgZm9yIChjb25zdCBwcm9wIG9mIHByb3BlcnRpZXMpIHtcbiAgICAgICAgZW5zdXJlUHJvcGVydHlJc1NvcnRlZChzb3J0ZXIsIHByb3ApO1xuICAgIH1cbiAgICBzb3J0ZXIuaXNTb3J0ZWQgPSB0cnVlO1xufVxuZnVuY3Rpb24gc3RyaW5nU29ydChsYW5ndWFnZSwgdmFsdWUsIGQpIHtcbiAgICByZXR1cm4gdmFsdWVbMV0ubG9jYWxlQ29tcGFyZShkWzFdLCBnZXRMb2NhbGUobGFuZ3VhZ2UpKTtcbn1cbmZ1bmN0aW9uIG51bWJlclNvcnQodmFsdWUsIGQpIHtcbiAgICByZXR1cm4gdmFsdWVbMV0gLSBkWzFdO1xufVxuZnVuY3Rpb24gYm9vbGVhblNvcnQodmFsdWUsIGQpIHtcbiAgICByZXR1cm4gZFsxXSA/IC0xIDogMTtcbn1cbmZ1bmN0aW9uIGVuc3VyZVByb3BlcnR5SXNTb3J0ZWQoc29ydGVyLCBwcm9wKSB7XG4gICAgY29uc3QgcyA9IHNvcnRlci5zb3J0c1twcm9wXTtcbiAgICBsZXQgcHJlZGljYXRlO1xuICAgIHN3aXRjaCAocy50eXBlKSB7XG4gICAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgICAgICBwcmVkaWNhdGUgPSBzdHJpbmdTb3J0LmJpbmQobnVsbCwgc29ydGVyLmxhbmd1YWdlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdudW1iZXInOlxuICAgICAgICAgICAgcHJlZGljYXRlID0gbnVtYmVyU29ydC5iaW5kKG51bGwpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgICAgICAgcHJlZGljYXRlID0gYm9vbGVhblNvcnQuYmluZChudWxsKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBzLm9yZGVyZWREb2NzLnNvcnQocHJlZGljYXRlKTtcbiAgICAvLyBJbmNyZW1lbnQgcG9zaXRpb24gZm9yIHRoZSBncmVhdGhlciBkb2N1bWVudHNcbiAgICBjb25zdCBvcmRlcmVkRG9jc0xlbmd0aCA9IHMub3JkZXJlZERvY3MubGVuZ3RoO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb3JkZXJlZERvY3NMZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBkb2NJZCA9IHMub3JkZXJlZERvY3NbaV1bMF07XG4gICAgICAgIHMuZG9jcy5zZXQoZG9jSWQsIGkpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGVuc3VyZU9yZGVyZWREb2NzQXJlRGVsZXRlZChzb3J0ZXIpIHtcbiAgICBjb25zdCBwcm9wZXJ0aWVzID0gT2JqZWN0LmtleXMoc29ydGVyLnNvcnRzKTtcbiAgICBmb3IgKGNvbnN0IHByb3Agb2YgcHJvcGVydGllcykge1xuICAgICAgICBlbnN1cmVPcmRlcmVkRG9jc0FyZURlbGV0ZWRCeVByb3BlcnR5KHNvcnRlciwgcHJvcCk7XG4gICAgfVxufVxuZnVuY3Rpb24gZW5zdXJlT3JkZXJlZERvY3NBcmVEZWxldGVkQnlQcm9wZXJ0eShzb3J0ZXIsIHByb3ApIHtcbiAgICBjb25zdCBzID0gc29ydGVyLnNvcnRzW3Byb3BdO1xuICAgIGlmICghcy5vcmRlcmVkRG9jc1RvUmVtb3ZlLnNpemUpXG4gICAgICAgIHJldHVybjtcbiAgICBzLm9yZGVyZWREb2NzID0gcy5vcmRlcmVkRG9jcy5maWx0ZXIoKGRvYykgPT4gIXMub3JkZXJlZERvY3NUb1JlbW92ZS5oYXMoZG9jWzBdKSk7XG4gICAgcy5vcmRlcmVkRG9jc1RvUmVtb3ZlLmNsZWFyKCk7XG59XG5mdW5jdGlvbiByZW1vdmUoc29ydGVyLCBwcm9wLCBpZCkge1xuICAgIGlmICghc29ydGVyLmVuYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBzID0gc29ydGVyLnNvcnRzW3Byb3BdO1xuICAgIGNvbnN0IGludGVybmFsSWQgPSBnZXRJbnRlcm5hbERvY3VtZW50SWQoc29ydGVyLnNoYXJlZEludGVybmFsRG9jdW1lbnRTdG9yZSwgaWQpO1xuICAgIGNvbnN0IGluZGV4ID0gcy5kb2NzLmdldChpbnRlcm5hbElkKTtcbiAgICBpZiAoIWluZGV4KVxuICAgICAgICByZXR1cm47XG4gICAgcy5kb2NzLmRlbGV0ZShpbnRlcm5hbElkKTtcbiAgICBzLm9yZGVyZWREb2NzVG9SZW1vdmUuc2V0KGludGVybmFsSWQsIHRydWUpO1xufVxuZnVuY3Rpb24gc29ydEJ5KHNvcnRlciwgZG9jSWRzLCBieSkge1xuICAgIGlmICghc29ydGVyLmVuYWJsZWQpIHtcbiAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoJ1NPUlRfRElTQUJMRUQnKTtcbiAgICB9XG4gICAgY29uc3QgcHJvcGVydHkgPSBieS5wcm9wZXJ0eTtcbiAgICBjb25zdCBpc0Rlc2MgPSBieS5vcmRlciA9PT0gJ0RFU0MnO1xuICAgIGNvbnN0IHMgPSBzb3J0ZXIuc29ydHNbcHJvcGVydHldO1xuICAgIGlmICghcykge1xuICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignVU5BQkxFX1RPX1NPUlRfT05fVU5LTk9XTl9GSUVMRCcsIHByb3BlcnR5LCBzb3J0ZXIuc29ydGFibGVQcm9wZXJ0aWVzLmpvaW4oJywgJykpO1xuICAgIH1cbiAgICBlbnN1cmVPcmRlcmVkRG9jc0FyZURlbGV0ZWRCeVByb3BlcnR5KHNvcnRlciwgcHJvcGVydHkpO1xuICAgIGVuc3VyZUlzU29ydGVkKHNvcnRlcik7XG4gICAgZG9jSWRzLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgLy8gVGhpcyBzb3J0IGFsZ29yaXRobSB3b3JrcyBsZXZlcmFnaW5nIG9uXG4gICAgICAgIC8vIHRoYXQgcy5kb2NzIGlzIGEgbWFwIG9mIGRvY0lkIC0+IHBvc2l0aW9uXG4gICAgICAgIC8vIElmIGEgZG9jdW1lbnQgaXMgbm90IGluZGV4ZWQsIGl0IHdpbGwgYmUgbm90IHByZXNlbnQgaW4gdGhlIG1hcFxuICAgICAgICBjb25zdCBpbmRleE9mQSA9IHMuZG9jcy5nZXQoZ2V0SW50ZXJuYWxEb2N1bWVudElkKHNvcnRlci5zaGFyZWRJbnRlcm5hbERvY3VtZW50U3RvcmUsIGFbMF0pKTtcbiAgICAgICAgY29uc3QgaW5kZXhPZkIgPSBzLmRvY3MuZ2V0KGdldEludGVybmFsRG9jdW1lbnRJZChzb3J0ZXIuc2hhcmVkSW50ZXJuYWxEb2N1bWVudFN0b3JlLCBiWzBdKSk7XG4gICAgICAgIGNvbnN0IGlzQUluZGV4ZWQgPSB0eXBlb2YgaW5kZXhPZkEgIT09ICd1bmRlZmluZWQnO1xuICAgICAgICBjb25zdCBpc0JJbmRleGVkID0gdHlwZW9mIGluZGV4T2ZCICE9PSAndW5kZWZpbmVkJztcbiAgICAgICAgaWYgKCFpc0FJbmRleGVkICYmICFpc0JJbmRleGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgICAgICAvLyB1bmluZGV4ZWQgZG9jdW1lbnRzIGFyZSBhbHdheXMgYXQgdGhlIGVuZFxuICAgICAgICBpZiAoIWlzQUluZGV4ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNCSW5kZXhlZCkge1xuICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpc0Rlc2MgPyBpbmRleE9mQiAtIGluZGV4T2ZBIDogaW5kZXhPZkEgLSBpbmRleE9mQjtcbiAgICB9KTtcbiAgICByZXR1cm4gZG9jSWRzO1xufVxuZnVuY3Rpb24gZ2V0U29ydGFibGVQcm9wZXJ0aWVzKHNvcnRlcikge1xuICAgIGlmICghc29ydGVyLmVuYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICByZXR1cm4gc29ydGVyLnNvcnRhYmxlUHJvcGVydGllcztcbn1cbmZ1bmN0aW9uIGdldFNvcnRhYmxlUHJvcGVydGllc1dpdGhUeXBlcyhzb3J0ZXIpIHtcbiAgICBpZiAoIXNvcnRlci5lbmFibGVkKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgcmV0dXJuIHNvcnRlci5zb3J0YWJsZVByb3BlcnRpZXNXaXRoVHlwZXM7XG59XG5leHBvcnQgZnVuY3Rpb24gbG9hZChzaGFyZWRJbnRlcm5hbERvY3VtZW50U3RvcmUsIHJhdykge1xuICAgIGNvbnN0IHJhd0RvY3VtZW50ID0gcmF3O1xuICAgIGlmICghcmF3RG9jdW1lbnQuZW5hYmxlZCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZW5hYmxlZDogZmFsc2VcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3Qgc29ydHMgPSBPYmplY3Qua2V5cyhyYXdEb2N1bWVudC5zb3J0cykucmVkdWNlKChhY2MsIHByb3ApID0+IHtcbiAgICAgICAgY29uc3QgeyBkb2NzLCBvcmRlcmVkRG9jcywgdHlwZSB9ID0gcmF3RG9jdW1lbnQuc29ydHNbcHJvcF07XG4gICAgICAgIGFjY1twcm9wXSA9IHtcbiAgICAgICAgICAgIGRvY3M6IG5ldyBNYXAoT2JqZWN0LmVudHJpZXMoZG9jcykubWFwKChbaywgdl0pID0+IFsraywgdl0pKSxcbiAgICAgICAgICAgIG9yZGVyZWREb2NzVG9SZW1vdmU6IG5ldyBNYXAoKSxcbiAgICAgICAgICAgIG9yZGVyZWREb2NzLFxuICAgICAgICAgICAgdHlwZVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHt9KTtcbiAgICByZXR1cm4ge1xuICAgICAgICBzaGFyZWRJbnRlcm5hbERvY3VtZW50U3RvcmUsXG4gICAgICAgIGxhbmd1YWdlOiByYXdEb2N1bWVudC5sYW5ndWFnZSxcbiAgICAgICAgc29ydGFibGVQcm9wZXJ0aWVzOiByYXdEb2N1bWVudC5zb3J0YWJsZVByb3BlcnRpZXMsXG4gICAgICAgIHNvcnRhYmxlUHJvcGVydGllc1dpdGhUeXBlczogcmF3RG9jdW1lbnQuc29ydGFibGVQcm9wZXJ0aWVzV2l0aFR5cGVzLFxuICAgICAgICBzb3J0cyxcbiAgICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgaXNTb3J0ZWQ6IHJhd0RvY3VtZW50LmlzU29ydGVkXG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzYXZlKHNvcnRlcikge1xuICAgIGlmICghc29ydGVyLmVuYWJsZWQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGVuYWJsZWQ6IGZhbHNlXG4gICAgICAgIH07XG4gICAgfVxuICAgIGVuc3VyZU9yZGVyZWREb2NzQXJlRGVsZXRlZChzb3J0ZXIpO1xuICAgIGVuc3VyZUlzU29ydGVkKHNvcnRlcik7XG4gICAgY29uc3Qgc29ydHMgPSBPYmplY3Qua2V5cyhzb3J0ZXIuc29ydHMpLnJlZHVjZSgoYWNjLCBwcm9wKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgZG9jcywgb3JkZXJlZERvY3MsIHR5cGUgfSA9IHNvcnRlci5zb3J0c1twcm9wXTtcbiAgICAgICAgYWNjW3Byb3BdID0ge1xuICAgICAgICAgICAgZG9jczogT2JqZWN0LmZyb21FbnRyaWVzKGRvY3MuZW50cmllcygpKSxcbiAgICAgICAgICAgIG9yZGVyZWREb2NzLFxuICAgICAgICAgICAgdHlwZVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHt9KTtcbiAgICByZXR1cm4ge1xuICAgICAgICBsYW5ndWFnZTogc29ydGVyLmxhbmd1YWdlLFxuICAgICAgICBzb3J0YWJsZVByb3BlcnRpZXM6IHNvcnRlci5zb3J0YWJsZVByb3BlcnRpZXMsXG4gICAgICAgIHNvcnRhYmxlUHJvcGVydGllc1dpdGhUeXBlczogc29ydGVyLnNvcnRhYmxlUHJvcGVydGllc1dpdGhUeXBlcyxcbiAgICAgICAgc29ydHMsXG4gICAgICAgIGVuYWJsZWQ6IHNvcnRlci5lbmFibGVkLFxuICAgICAgICBpc1NvcnRlZDogc29ydGVyLmlzU29ydGVkXG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTb3J0ZXIoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY3JlYXRlLFxuICAgICAgICBpbnNlcnQsXG4gICAgICAgIHJlbW92ZSxcbiAgICAgICAgc2F2ZSxcbiAgICAgICAgbG9hZCxcbiAgICAgICAgc29ydEJ5LFxuICAgICAgICBnZXRTb3J0YWJsZVByb3BlcnRpZXMsXG4gICAgICAgIGdldFNvcnRhYmxlUHJvcGVydGllc1dpdGhUeXBlc1xuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zb3J0ZXIuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/sorter.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/sync-blocking-checker.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@orama/orama/dist/browser/components/sync-blocking-checker.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   trackInsertion: () => (/* binding */ trackInsertion),\n/* harmony export */   trackRemoval: () => (/* binding */ trackRemoval)\n/* harmony export */ });\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../types.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/types.js\");\n\n// Web platforms don't have process. React-Native doesn't have process.emitWarning.\nconst warn = globalThis.process?.emitWarning ??\n    function emitWarning(message, options) {\n        console.warn(`[WARNING] [${options.code}] ${message}`);\n    };\nfunction trackInsertion(orama) {\n    if (typeof orama[_types_js__WEBPACK_IMPORTED_MODULE_0__.kInsertions] !== 'number') {\n        queueMicrotask(() => {\n            orama[_types_js__WEBPACK_IMPORTED_MODULE_0__.kInsertions] = undefined;\n        });\n        orama[_types_js__WEBPACK_IMPORTED_MODULE_0__.kInsertions] = 0;\n    }\n    if (orama[_types_js__WEBPACK_IMPORTED_MODULE_0__.kInsertions] > 1000) {\n        warn(\"Orama's insert operation is synchronous. Please avoid inserting a large number of document in a single operation in order not to block the main thread or, in alternative, please use insertMultiple.\", { code: 'ORAMA0001' });\n        orama[_types_js__WEBPACK_IMPORTED_MODULE_0__.kInsertions] = -1;\n    }\n    else if (orama[_types_js__WEBPACK_IMPORTED_MODULE_0__.kInsertions] >= 0) {\n        orama[_types_js__WEBPACK_IMPORTED_MODULE_0__.kInsertions]++;\n    }\n}\nfunction trackRemoval(orama) {\n    if (typeof orama[_types_js__WEBPACK_IMPORTED_MODULE_0__.kRemovals] !== 'number') {\n        queueMicrotask(() => {\n            orama[_types_js__WEBPACK_IMPORTED_MODULE_0__.kRemovals] = undefined;\n        });\n        orama[_types_js__WEBPACK_IMPORTED_MODULE_0__.kRemovals] = 0;\n    }\n    if (orama[_types_js__WEBPACK_IMPORTED_MODULE_0__.kRemovals] > 1000) {\n        warn(\"Orama's remove operation is synchronous. Please avoid removing a large number of document in a single operation in order not to block the main thread, in alternative, please use updateMultiple.\", { code: 'ORAMA0002' });\n        orama[_types_js__WEBPACK_IMPORTED_MODULE_0__.kRemovals] = -1;\n    }\n    else if (orama[_types_js__WEBPACK_IMPORTED_MODULE_0__.kRemovals] >= 0) {\n        orama[_types_js__WEBPACK_IMPORTED_MODULE_0__.kRemovals]++;\n    }\n}\n//# sourceMappingURL=sync-blocking-checker.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9icm93c2VyL2NvbXBvbmVudHMvc3luYy1ibG9ja2luZy1jaGVja2VyLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFxRDtBQUNyRDtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsYUFBYSxJQUFJLFFBQVE7QUFDNUQ7QUFDTztBQUNQLHFCQUFxQixrREFBVztBQUNoQztBQUNBLGtCQUFrQixrREFBVztBQUM3QixTQUFTO0FBQ1QsY0FBYyxrREFBVztBQUN6QjtBQUNBLGNBQWMsa0RBQVc7QUFDekIsd05BQXdOLG1CQUFtQjtBQUMzTyxjQUFjLGtEQUFXO0FBQ3pCO0FBQ0EsbUJBQW1CLGtEQUFXO0FBQzlCLGNBQWMsa0RBQVc7QUFDekI7QUFDQTtBQUNPO0FBQ1AscUJBQXFCLGdEQUFTO0FBQzlCO0FBQ0Esa0JBQWtCLGdEQUFTO0FBQzNCLFNBQVM7QUFDVCxjQUFjLGdEQUFTO0FBQ3ZCO0FBQ0EsY0FBYyxnREFBUztBQUN2QixvTkFBb04sbUJBQW1CO0FBQ3ZPLGNBQWMsZ0RBQVM7QUFDdkI7QUFDQSxtQkFBbUIsZ0RBQVM7QUFDNUIsY0FBYyxnREFBUztBQUN2QjtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy9hcmNoaWVtY2tlbnppZS9EZXNrdG9wL2d0LWxpYnJhcmllcy9kb2NzL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9icm93c2VyL2NvbXBvbmVudHMvc3luYy1ibG9ja2luZy1jaGVja2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGtJbnNlcnRpb25zLCBrUmVtb3ZhbHMgfSBmcm9tICcuLi90eXBlcy5qcyc7XG4vLyBXZWIgcGxhdGZvcm1zIGRvbid0IGhhdmUgcHJvY2Vzcy4gUmVhY3QtTmF0aXZlIGRvZXNuJ3QgaGF2ZSBwcm9jZXNzLmVtaXRXYXJuaW5nLlxuY29uc3Qgd2FybiA9IGdsb2JhbFRoaXMucHJvY2Vzcz8uZW1pdFdhcm5pbmcgPz9cbiAgICBmdW5jdGlvbiBlbWl0V2FybmluZyhtZXNzYWdlLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihgW1dBUk5JTkddIFske29wdGlvbnMuY29kZX1dICR7bWVzc2FnZX1gKTtcbiAgICB9O1xuZXhwb3J0IGZ1bmN0aW9uIHRyYWNrSW5zZXJ0aW9uKG9yYW1hKSB7XG4gICAgaWYgKHR5cGVvZiBvcmFtYVtrSW5zZXJ0aW9uc10gIT09ICdudW1iZXInKSB7XG4gICAgICAgIHF1ZXVlTWljcm90YXNrKCgpID0+IHtcbiAgICAgICAgICAgIG9yYW1hW2tJbnNlcnRpb25zXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfSk7XG4gICAgICAgIG9yYW1hW2tJbnNlcnRpb25zXSA9IDA7XG4gICAgfVxuICAgIGlmIChvcmFtYVtrSW5zZXJ0aW9uc10gPiAxMDAwKSB7XG4gICAgICAgIHdhcm4oXCJPcmFtYSdzIGluc2VydCBvcGVyYXRpb24gaXMgc3luY2hyb25vdXMuIFBsZWFzZSBhdm9pZCBpbnNlcnRpbmcgYSBsYXJnZSBudW1iZXIgb2YgZG9jdW1lbnQgaW4gYSBzaW5nbGUgb3BlcmF0aW9uIGluIG9yZGVyIG5vdCB0byBibG9jayB0aGUgbWFpbiB0aHJlYWQgb3IsIGluIGFsdGVybmF0aXZlLCBwbGVhc2UgdXNlIGluc2VydE11bHRpcGxlLlwiLCB7IGNvZGU6ICdPUkFNQTAwMDEnIH0pO1xuICAgICAgICBvcmFtYVtrSW5zZXJ0aW9uc10gPSAtMTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3JhbWFba0luc2VydGlvbnNdID49IDApIHtcbiAgICAgICAgb3JhbWFba0luc2VydGlvbnNdKys7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIHRyYWNrUmVtb3ZhbChvcmFtYSkge1xuICAgIGlmICh0eXBlb2Ygb3JhbWFba1JlbW92YWxzXSAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgcXVldWVNaWNyb3Rhc2soKCkgPT4ge1xuICAgICAgICAgICAgb3JhbWFba1JlbW92YWxzXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfSk7XG4gICAgICAgIG9yYW1hW2tSZW1vdmFsc10gPSAwO1xuICAgIH1cbiAgICBpZiAob3JhbWFba1JlbW92YWxzXSA+IDEwMDApIHtcbiAgICAgICAgd2FybihcIk9yYW1hJ3MgcmVtb3ZlIG9wZXJhdGlvbiBpcyBzeW5jaHJvbm91cy4gUGxlYXNlIGF2b2lkIHJlbW92aW5nIGEgbGFyZ2UgbnVtYmVyIG9mIGRvY3VtZW50IGluIGEgc2luZ2xlIG9wZXJhdGlvbiBpbiBvcmRlciBub3QgdG8gYmxvY2sgdGhlIG1haW4gdGhyZWFkLCBpbiBhbHRlcm5hdGl2ZSwgcGxlYXNlIHVzZSB1cGRhdGVNdWx0aXBsZS5cIiwgeyBjb2RlOiAnT1JBTUEwMDAyJyB9KTtcbiAgICAgICAgb3JhbWFba1JlbW92YWxzXSA9IC0xO1xuICAgIH1cbiAgICBlbHNlIGlmIChvcmFtYVtrUmVtb3ZhbHNdID49IDApIHtcbiAgICAgICAgb3JhbWFba1JlbW92YWxzXSsrO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN5bmMtYmxvY2tpbmctY2hlY2tlci5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/sync-blocking-checker.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/tokenizer/diacritics.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@orama/orama/dist/browser/components/tokenizer/diacritics.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   replaceDiacritics: () => (/* binding */ replaceDiacritics)\n/* harmony export */ });\nconst DIACRITICS_CHARCODE_START = 192;\nconst DIACRITICS_CHARCODE_END = 383;\nconst CHARCODE_REPLACE_MAPPING = [\n    65,\n    65,\n    65,\n    65,\n    65,\n    65,\n    65,\n    67,\n    69,\n    69,\n    69,\n    69,\n    73,\n    73,\n    73,\n    73,\n    69,\n    78,\n    79,\n    79,\n    79,\n    79,\n    79,\n    null,\n    79,\n    85,\n    85,\n    85,\n    85,\n    89,\n    80,\n    115,\n    97,\n    97,\n    97,\n    97,\n    97,\n    97,\n    97,\n    99,\n    101,\n    101,\n    101,\n    101,\n    105,\n    105,\n    105,\n    105,\n    101,\n    110,\n    111,\n    111,\n    111,\n    111,\n    111,\n    null,\n    111,\n    117,\n    117,\n    117,\n    117,\n    121,\n    112,\n    121,\n    65,\n    97,\n    65,\n    97,\n    65,\n    97,\n    67,\n    99,\n    67,\n    99,\n    67,\n    99,\n    67,\n    99,\n    68,\n    100,\n    68,\n    100,\n    69,\n    101,\n    69,\n    101,\n    69,\n    101,\n    69,\n    101,\n    69,\n    101,\n    71,\n    103,\n    71,\n    103,\n    71,\n    103,\n    71,\n    103,\n    72,\n    104,\n    72,\n    104,\n    73,\n    105,\n    73,\n    105,\n    73,\n    105,\n    73,\n    105,\n    73,\n    105,\n    73,\n    105,\n    74,\n    106,\n    75,\n    107,\n    107,\n    76,\n    108,\n    76,\n    108,\n    76,\n    108,\n    76,\n    108,\n    76,\n    108,\n    78,\n    110,\n    78,\n    110,\n    78,\n    110,\n    110,\n    78,\n    110,\n    79,\n    111,\n    79,\n    111,\n    79,\n    111,\n    79,\n    111,\n    82,\n    114,\n    82,\n    114,\n    82,\n    114,\n    83,\n    115,\n    83,\n    115,\n    83,\n    115,\n    83,\n    115,\n    84,\n    116,\n    84,\n    116,\n    84,\n    116,\n    85,\n    117,\n    85,\n    117,\n    85,\n    117,\n    85,\n    117,\n    85,\n    117,\n    85,\n    117,\n    87,\n    119,\n    89,\n    121,\n    89,\n    90,\n    122,\n    90,\n    122,\n    90,\n    122,\n    115\n];\nfunction replaceChar(charCode) {\n    if (charCode < DIACRITICS_CHARCODE_START || charCode > DIACRITICS_CHARCODE_END)\n        return charCode;\n    /* c8 ignore next  */\n    return CHARCODE_REPLACE_MAPPING[charCode - DIACRITICS_CHARCODE_START] || charCode;\n}\nfunction replaceDiacritics(str) {\n    const stringCharCode = [];\n    for (let idx = 0; idx < str.length; idx++) {\n        stringCharCode[idx] = replaceChar(str.charCodeAt(idx));\n    }\n    return String.fromCharCode(...stringCharCode);\n}\n//# sourceMappingURL=diacritics.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9icm93c2VyL2NvbXBvbmVudHMvdG9rZW5pemVyL2RpYWNyaXRpY3MuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLHNCQUFzQixrQkFBa0I7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL2FyY2hpZW1ja2VuemllL0Rlc2t0b3AvZ3QtbGlicmFyaWVzL2RvY3Mvbm9kZV9tb2R1bGVzL0BvcmFtYS9vcmFtYS9kaXN0L2Jyb3dzZXIvY29tcG9uZW50cy90b2tlbml6ZXIvZGlhY3JpdGljcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBESUFDUklUSUNTX0NIQVJDT0RFX1NUQVJUID0gMTkyO1xuY29uc3QgRElBQ1JJVElDU19DSEFSQ09ERV9FTkQgPSAzODM7XG5jb25zdCBDSEFSQ09ERV9SRVBMQUNFX01BUFBJTkcgPSBbXG4gICAgNjUsXG4gICAgNjUsXG4gICAgNjUsXG4gICAgNjUsXG4gICAgNjUsXG4gICAgNjUsXG4gICAgNjUsXG4gICAgNjcsXG4gICAgNjksXG4gICAgNjksXG4gICAgNjksXG4gICAgNjksXG4gICAgNzMsXG4gICAgNzMsXG4gICAgNzMsXG4gICAgNzMsXG4gICAgNjksXG4gICAgNzgsXG4gICAgNzksXG4gICAgNzksXG4gICAgNzksXG4gICAgNzksXG4gICAgNzksXG4gICAgbnVsbCxcbiAgICA3OSxcbiAgICA4NSxcbiAgICA4NSxcbiAgICA4NSxcbiAgICA4NSxcbiAgICA4OSxcbiAgICA4MCxcbiAgICAxMTUsXG4gICAgOTcsXG4gICAgOTcsXG4gICAgOTcsXG4gICAgOTcsXG4gICAgOTcsXG4gICAgOTcsXG4gICAgOTcsXG4gICAgOTksXG4gICAgMTAxLFxuICAgIDEwMSxcbiAgICAxMDEsXG4gICAgMTAxLFxuICAgIDEwNSxcbiAgICAxMDUsXG4gICAgMTA1LFxuICAgIDEwNSxcbiAgICAxMDEsXG4gICAgMTEwLFxuICAgIDExMSxcbiAgICAxMTEsXG4gICAgMTExLFxuICAgIDExMSxcbiAgICAxMTEsXG4gICAgbnVsbCxcbiAgICAxMTEsXG4gICAgMTE3LFxuICAgIDExNyxcbiAgICAxMTcsXG4gICAgMTE3LFxuICAgIDEyMSxcbiAgICAxMTIsXG4gICAgMTIxLFxuICAgIDY1LFxuICAgIDk3LFxuICAgIDY1LFxuICAgIDk3LFxuICAgIDY1LFxuICAgIDk3LFxuICAgIDY3LFxuICAgIDk5LFxuICAgIDY3LFxuICAgIDk5LFxuICAgIDY3LFxuICAgIDk5LFxuICAgIDY3LFxuICAgIDk5LFxuICAgIDY4LFxuICAgIDEwMCxcbiAgICA2OCxcbiAgICAxMDAsXG4gICAgNjksXG4gICAgMTAxLFxuICAgIDY5LFxuICAgIDEwMSxcbiAgICA2OSxcbiAgICAxMDEsXG4gICAgNjksXG4gICAgMTAxLFxuICAgIDY5LFxuICAgIDEwMSxcbiAgICA3MSxcbiAgICAxMDMsXG4gICAgNzEsXG4gICAgMTAzLFxuICAgIDcxLFxuICAgIDEwMyxcbiAgICA3MSxcbiAgICAxMDMsXG4gICAgNzIsXG4gICAgMTA0LFxuICAgIDcyLFxuICAgIDEwNCxcbiAgICA3MyxcbiAgICAxMDUsXG4gICAgNzMsXG4gICAgMTA1LFxuICAgIDczLFxuICAgIDEwNSxcbiAgICA3MyxcbiAgICAxMDUsXG4gICAgNzMsXG4gICAgMTA1LFxuICAgIDczLFxuICAgIDEwNSxcbiAgICA3NCxcbiAgICAxMDYsXG4gICAgNzUsXG4gICAgMTA3LFxuICAgIDEwNyxcbiAgICA3NixcbiAgICAxMDgsXG4gICAgNzYsXG4gICAgMTA4LFxuICAgIDc2LFxuICAgIDEwOCxcbiAgICA3NixcbiAgICAxMDgsXG4gICAgNzYsXG4gICAgMTA4LFxuICAgIDc4LFxuICAgIDExMCxcbiAgICA3OCxcbiAgICAxMTAsXG4gICAgNzgsXG4gICAgMTEwLFxuICAgIDExMCxcbiAgICA3OCxcbiAgICAxMTAsXG4gICAgNzksXG4gICAgMTExLFxuICAgIDc5LFxuICAgIDExMSxcbiAgICA3OSxcbiAgICAxMTEsXG4gICAgNzksXG4gICAgMTExLFxuICAgIDgyLFxuICAgIDExNCxcbiAgICA4MixcbiAgICAxMTQsXG4gICAgODIsXG4gICAgMTE0LFxuICAgIDgzLFxuICAgIDExNSxcbiAgICA4MyxcbiAgICAxMTUsXG4gICAgODMsXG4gICAgMTE1LFxuICAgIDgzLFxuICAgIDExNSxcbiAgICA4NCxcbiAgICAxMTYsXG4gICAgODQsXG4gICAgMTE2LFxuICAgIDg0LFxuICAgIDExNixcbiAgICA4NSxcbiAgICAxMTcsXG4gICAgODUsXG4gICAgMTE3LFxuICAgIDg1LFxuICAgIDExNyxcbiAgICA4NSxcbiAgICAxMTcsXG4gICAgODUsXG4gICAgMTE3LFxuICAgIDg1LFxuICAgIDExNyxcbiAgICA4NyxcbiAgICAxMTksXG4gICAgODksXG4gICAgMTIxLFxuICAgIDg5LFxuICAgIDkwLFxuICAgIDEyMixcbiAgICA5MCxcbiAgICAxMjIsXG4gICAgOTAsXG4gICAgMTIyLFxuICAgIDExNVxuXTtcbmZ1bmN0aW9uIHJlcGxhY2VDaGFyKGNoYXJDb2RlKSB7XG4gICAgaWYgKGNoYXJDb2RlIDwgRElBQ1JJVElDU19DSEFSQ09ERV9TVEFSVCB8fCBjaGFyQ29kZSA+IERJQUNSSVRJQ1NfQ0hBUkNPREVfRU5EKVxuICAgICAgICByZXR1cm4gY2hhckNvZGU7XG4gICAgLyogYzggaWdub3JlIG5leHQgICovXG4gICAgcmV0dXJuIENIQVJDT0RFX1JFUExBQ0VfTUFQUElOR1tjaGFyQ29kZSAtIERJQUNSSVRJQ1NfQ0hBUkNPREVfU1RBUlRdIHx8IGNoYXJDb2RlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlcGxhY2VEaWFjcml0aWNzKHN0cikge1xuICAgIGNvbnN0IHN0cmluZ0NoYXJDb2RlID0gW107XG4gICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgc3RyLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgc3RyaW5nQ2hhckNvZGVbaWR4XSA9IHJlcGxhY2VDaGFyKHN0ci5jaGFyQ29kZUF0KGlkeCkpO1xuICAgIH1cbiAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZSguLi5zdHJpbmdDaGFyQ29kZSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kaWFjcml0aWNzLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/tokenizer/diacritics.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/tokenizer/english-stemmer.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/@orama/orama/dist/browser/components/tokenizer/english-stemmer.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   stemmer: () => (/* binding */ stemmer)\n/* harmony export */ });\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-nocheck\nconst step2List = {\n    ational: 'ate',\n    tional: 'tion',\n    enci: 'ence',\n    anci: 'ance',\n    izer: 'ize',\n    bli: 'ble',\n    alli: 'al',\n    entli: 'ent',\n    eli: 'e',\n    ousli: 'ous',\n    ization: 'ize',\n    ation: 'ate',\n    ator: 'ate',\n    alism: 'al',\n    iveness: 'ive',\n    fulness: 'ful',\n    ousness: 'ous',\n    aliti: 'al',\n    iviti: 'ive',\n    biliti: 'ble',\n    logi: 'log'\n};\nconst step3List = {\n    icate: 'ic',\n    ative: '',\n    alize: 'al',\n    iciti: 'ic',\n    ical: 'ic',\n    ful: '',\n    ness: ''\n};\n// Consonant\nconst c = '[^aeiou]';\n// Vowel\nconst v = '[aeiouy]';\n// Consonant sequence\nconst C = c + '[^aeiouy]*';\n// Vowel sequence\nconst V = v + '[aeiou]*';\n// [C]VC... is m>0\nconst mgr0 = '^(' + C + ')?' + V + C;\n// [C]VC[V] is m=1\nconst meq1 = '^(' + C + ')?' + V + C + '(' + V + ')?$';\n// [C]VCVC... is m>1\nconst mgr1 = '^(' + C + ')?' + V + C + V + C;\n// vowel in stem\nconst s_v = '^(' + C + ')?' + v;\nfunction stemmer(w) {\n    let stem;\n    let suffix;\n    let re;\n    let re2;\n    let re3;\n    let re4;\n    if (w.length < 3) {\n        return w;\n    }\n    const firstch = w.substring(0, 1);\n    if (firstch == 'y') {\n        w = firstch.toUpperCase() + w.substring(1);\n    }\n    re = /^(.+?)(ss|i)es$/;\n    re2 = /^(.+?)([^s])s$/;\n    if (re.test(w)) {\n        w = w.replace(re, '$1$2');\n    }\n    else if (re2.test(w)) {\n        w = w.replace(re2, '$1$2');\n    }\n    re = /^(.+?)eed$/;\n    re2 = /^(.+?)(ed|ing)$/;\n    if (re.test(w)) {\n        const fp = re.exec(w);\n        re = new RegExp(mgr0);\n        if (re.test(fp[1])) {\n            re = /.$/;\n            w = w.replace(re, '');\n        }\n    }\n    else if (re2.test(w)) {\n        const fp = re2.exec(w);\n        stem = fp[1];\n        re2 = new RegExp(s_v);\n        if (re2.test(stem)) {\n            w = stem;\n            re2 = /(at|bl|iz)$/;\n            re3 = new RegExp('([^aeiouylsz])\\\\1$');\n            re4 = new RegExp('^' + C + v + '[^aeiouwxy]$');\n            if (re2.test(w)) {\n                w = w + 'e';\n            }\n            else if (re3.test(w)) {\n                re = /.$/;\n                w = w.replace(re, '');\n            }\n            else if (re4.test(w)) {\n                w = w + 'e';\n            }\n        }\n    }\n    re = /^(.+?)y$/;\n    if (re.test(w)) {\n        const fp = re.exec(w);\n        stem = fp?.[1];\n        re = new RegExp(s_v);\n        if (stem && re.test(stem)) {\n            w = stem + 'i';\n        }\n    }\n    re =\n        /^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/;\n    if (re.test(w)) {\n        const fp = re.exec(w);\n        stem = fp?.[1];\n        suffix = fp?.[2];\n        re = new RegExp(mgr0);\n        if (stem && re.test(stem)) {\n            // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n            // @ts-ignore\n            w = stem + step2List[suffix];\n        }\n    }\n    re = /^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/;\n    if (re.test(w)) {\n        const fp = re.exec(w);\n        stem = fp?.[1];\n        suffix = fp?.[2];\n        re = new RegExp(mgr0);\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore\n        if (stem && re.test(stem)) {\n            // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n            // @ts-ignore\n            w = stem + step3List[suffix];\n        }\n    }\n    re = /^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/;\n    re2 = /^(.+?)(s|t)(ion)$/;\n    if (re.test(w)) {\n        const fp = re.exec(w);\n        stem = fp?.[1];\n        re = new RegExp(mgr1);\n        if (stem && re.test(stem)) {\n            w = stem;\n        }\n    }\n    else if (re2.test(w)) {\n        const fp = re2.exec(w);\n        stem = fp?.[1] ?? '' + fp?.[2] ?? '';\n        re2 = new RegExp(mgr1);\n        if (re2.test(stem)) {\n            w = stem;\n        }\n    }\n    re = /^(.+?)e$/;\n    if (re.test(w)) {\n        const fp = re.exec(w);\n        stem = fp?.[1];\n        re = new RegExp(mgr1);\n        re2 = new RegExp(meq1);\n        re3 = new RegExp('^' + C + v + '[^aeiouwxy]$');\n        if (stem && (re.test(stem) || (re2.test(stem) && !re3.test(stem)))) {\n            w = stem;\n        }\n    }\n    re = /ll$/;\n    re2 = new RegExp(mgr1);\n    if (re.test(w) && re2.test(w)) {\n        re = /.$/;\n        w = w.replace(re, '');\n    }\n    if (firstch == 'y') {\n        w = firstch.toLowerCase() + w.substring(1);\n    }\n    return w;\n}\n//# sourceMappingURL=english-stemmer.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9icm93c2VyL2NvbXBvbmVudHMvdG9rZW5pemVyL2VuZ2xpc2gtc3RlbW1lci5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvYXJjaGllbWNrZW56aWUvRGVza3RvcC9ndC1saWJyYXJpZXMvZG9jcy9ub2RlX21vZHVsZXMvQG9yYW1hL29yYW1hL2Rpc3QvYnJvd3Nlci9jb21wb25lbnRzL3Rva2VuaXplci9lbmdsaXNoLXN0ZW1tZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtY29tbWVudFxuLy8gQHRzLW5vY2hlY2tcbmNvbnN0IHN0ZXAyTGlzdCA9IHtcbiAgICBhdGlvbmFsOiAnYXRlJyxcbiAgICB0aW9uYWw6ICd0aW9uJyxcbiAgICBlbmNpOiAnZW5jZScsXG4gICAgYW5jaTogJ2FuY2UnLFxuICAgIGl6ZXI6ICdpemUnLFxuICAgIGJsaTogJ2JsZScsXG4gICAgYWxsaTogJ2FsJyxcbiAgICBlbnRsaTogJ2VudCcsXG4gICAgZWxpOiAnZScsXG4gICAgb3VzbGk6ICdvdXMnLFxuICAgIGl6YXRpb246ICdpemUnLFxuICAgIGF0aW9uOiAnYXRlJyxcbiAgICBhdG9yOiAnYXRlJyxcbiAgICBhbGlzbTogJ2FsJyxcbiAgICBpdmVuZXNzOiAnaXZlJyxcbiAgICBmdWxuZXNzOiAnZnVsJyxcbiAgICBvdXNuZXNzOiAnb3VzJyxcbiAgICBhbGl0aTogJ2FsJyxcbiAgICBpdml0aTogJ2l2ZScsXG4gICAgYmlsaXRpOiAnYmxlJyxcbiAgICBsb2dpOiAnbG9nJ1xufTtcbmNvbnN0IHN0ZXAzTGlzdCA9IHtcbiAgICBpY2F0ZTogJ2ljJyxcbiAgICBhdGl2ZTogJycsXG4gICAgYWxpemU6ICdhbCcsXG4gICAgaWNpdGk6ICdpYycsXG4gICAgaWNhbDogJ2ljJyxcbiAgICBmdWw6ICcnLFxuICAgIG5lc3M6ICcnXG59O1xuLy8gQ29uc29uYW50XG5jb25zdCBjID0gJ1teYWVpb3VdJztcbi8vIFZvd2VsXG5jb25zdCB2ID0gJ1thZWlvdXldJztcbi8vIENvbnNvbmFudCBzZXF1ZW5jZVxuY29uc3QgQyA9IGMgKyAnW15hZWlvdXldKic7XG4vLyBWb3dlbCBzZXF1ZW5jZVxuY29uc3QgViA9IHYgKyAnW2FlaW91XSonO1xuLy8gW0NdVkMuLi4gaXMgbT4wXG5jb25zdCBtZ3IwID0gJ14oJyArIEMgKyAnKT8nICsgViArIEM7XG4vLyBbQ11WQ1tWXSBpcyBtPTFcbmNvbnN0IG1lcTEgPSAnXignICsgQyArICcpPycgKyBWICsgQyArICcoJyArIFYgKyAnKT8kJztcbi8vIFtDXVZDVkMuLi4gaXMgbT4xXG5jb25zdCBtZ3IxID0gJ14oJyArIEMgKyAnKT8nICsgViArIEMgKyBWICsgQztcbi8vIHZvd2VsIGluIHN0ZW1cbmNvbnN0IHNfdiA9ICdeKCcgKyBDICsgJyk/JyArIHY7XG5leHBvcnQgZnVuY3Rpb24gc3RlbW1lcih3KSB7XG4gICAgbGV0IHN0ZW07XG4gICAgbGV0IHN1ZmZpeDtcbiAgICBsZXQgcmU7XG4gICAgbGV0IHJlMjtcbiAgICBsZXQgcmUzO1xuICAgIGxldCByZTQ7XG4gICAgaWYgKHcubGVuZ3RoIDwgMykge1xuICAgICAgICByZXR1cm4gdztcbiAgICB9XG4gICAgY29uc3QgZmlyc3RjaCA9IHcuc3Vic3RyaW5nKDAsIDEpO1xuICAgIGlmIChmaXJzdGNoID09ICd5Jykge1xuICAgICAgICB3ID0gZmlyc3RjaC50b1VwcGVyQ2FzZSgpICsgdy5zdWJzdHJpbmcoMSk7XG4gICAgfVxuICAgIHJlID0gL14oLis/KShzc3xpKWVzJC87XG4gICAgcmUyID0gL14oLis/KShbXnNdKXMkLztcbiAgICBpZiAocmUudGVzdCh3KSkge1xuICAgICAgICB3ID0gdy5yZXBsYWNlKHJlLCAnJDEkMicpO1xuICAgIH1cbiAgICBlbHNlIGlmIChyZTIudGVzdCh3KSkge1xuICAgICAgICB3ID0gdy5yZXBsYWNlKHJlMiwgJyQxJDInKTtcbiAgICB9XG4gICAgcmUgPSAvXiguKz8pZWVkJC87XG4gICAgcmUyID0gL14oLis/KShlZHxpbmcpJC87XG4gICAgaWYgKHJlLnRlc3QodykpIHtcbiAgICAgICAgY29uc3QgZnAgPSByZS5leGVjKHcpO1xuICAgICAgICByZSA9IG5ldyBSZWdFeHAobWdyMCk7XG4gICAgICAgIGlmIChyZS50ZXN0KGZwWzFdKSkge1xuICAgICAgICAgICAgcmUgPSAvLiQvO1xuICAgICAgICAgICAgdyA9IHcucmVwbGFjZShyZSwgJycpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKHJlMi50ZXN0KHcpKSB7XG4gICAgICAgIGNvbnN0IGZwID0gcmUyLmV4ZWModyk7XG4gICAgICAgIHN0ZW0gPSBmcFsxXTtcbiAgICAgICAgcmUyID0gbmV3IFJlZ0V4cChzX3YpO1xuICAgICAgICBpZiAocmUyLnRlc3Qoc3RlbSkpIHtcbiAgICAgICAgICAgIHcgPSBzdGVtO1xuICAgICAgICAgICAgcmUyID0gLyhhdHxibHxpeikkLztcbiAgICAgICAgICAgIHJlMyA9IG5ldyBSZWdFeHAoJyhbXmFlaW91eWxzel0pXFxcXDEkJyk7XG4gICAgICAgICAgICByZTQgPSBuZXcgUmVnRXhwKCdeJyArIEMgKyB2ICsgJ1teYWVpb3V3eHldJCcpO1xuICAgICAgICAgICAgaWYgKHJlMi50ZXN0KHcpKSB7XG4gICAgICAgICAgICAgICAgdyA9IHcgKyAnZSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChyZTMudGVzdCh3KSkge1xuICAgICAgICAgICAgICAgIHJlID0gLy4kLztcbiAgICAgICAgICAgICAgICB3ID0gdy5yZXBsYWNlKHJlLCAnJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChyZTQudGVzdCh3KSkge1xuICAgICAgICAgICAgICAgIHcgPSB3ICsgJ2UnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJlID0gL14oLis/KXkkLztcbiAgICBpZiAocmUudGVzdCh3KSkge1xuICAgICAgICBjb25zdCBmcCA9IHJlLmV4ZWModyk7XG4gICAgICAgIHN0ZW0gPSBmcD8uWzFdO1xuICAgICAgICByZSA9IG5ldyBSZWdFeHAoc192KTtcbiAgICAgICAgaWYgKHN0ZW0gJiYgcmUudGVzdChzdGVtKSkge1xuICAgICAgICAgICAgdyA9IHN0ZW0gKyAnaSc7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmUgPVxuICAgICAgICAvXiguKz8pKGF0aW9uYWx8dGlvbmFsfGVuY2l8YW5jaXxpemVyfGJsaXxhbGxpfGVudGxpfGVsaXxvdXNsaXxpemF0aW9ufGF0aW9ufGF0b3J8YWxpc218aXZlbmVzc3xmdWxuZXNzfG91c25lc3N8YWxpdGl8aXZpdGl8YmlsaXRpfGxvZ2kpJC87XG4gICAgaWYgKHJlLnRlc3QodykpIHtcbiAgICAgICAgY29uc3QgZnAgPSByZS5leGVjKHcpO1xuICAgICAgICBzdGVtID0gZnA/LlsxXTtcbiAgICAgICAgc3VmZml4ID0gZnA/LlsyXTtcbiAgICAgICAgcmUgPSBuZXcgUmVnRXhwKG1ncjApO1xuICAgICAgICBpZiAoc3RlbSAmJiByZS50ZXN0KHN0ZW0pKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1jb21tZW50XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICB3ID0gc3RlbSArIHN0ZXAyTGlzdFtzdWZmaXhdO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlID0gL14oLis/KShpY2F0ZXxhdGl2ZXxhbGl6ZXxpY2l0aXxpY2FsfGZ1bHxuZXNzKSQvO1xuICAgIGlmIChyZS50ZXN0KHcpKSB7XG4gICAgICAgIGNvbnN0IGZwID0gcmUuZXhlYyh3KTtcbiAgICAgICAgc3RlbSA9IGZwPy5bMV07XG4gICAgICAgIHN1ZmZpeCA9IGZwPy5bMl07XG4gICAgICAgIHJlID0gbmV3IFJlZ0V4cChtZ3IwKTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtY29tbWVudFxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGlmIChzdGVtICYmIHJlLnRlc3Qoc3RlbSkpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXRzLWNvbW1lbnRcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIHcgPSBzdGVtICsgc3RlcDNMaXN0W3N1ZmZpeF07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmUgPSAvXiguKz8pKGFsfGFuY2V8ZW5jZXxlcnxpY3xhYmxlfGlibGV8YW50fGVtZW50fG1lbnR8ZW50fG91fGlzbXxhdGV8aXRpfG91c3xpdmV8aXplKSQvO1xuICAgIHJlMiA9IC9eKC4rPykoc3x0KShpb24pJC87XG4gICAgaWYgKHJlLnRlc3QodykpIHtcbiAgICAgICAgY29uc3QgZnAgPSByZS5leGVjKHcpO1xuICAgICAgICBzdGVtID0gZnA/LlsxXTtcbiAgICAgICAgcmUgPSBuZXcgUmVnRXhwKG1ncjEpO1xuICAgICAgICBpZiAoc3RlbSAmJiByZS50ZXN0KHN0ZW0pKSB7XG4gICAgICAgICAgICB3ID0gc3RlbTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChyZTIudGVzdCh3KSkge1xuICAgICAgICBjb25zdCBmcCA9IHJlMi5leGVjKHcpO1xuICAgICAgICBzdGVtID0gZnA/LlsxXSA/PyAnJyArIGZwPy5bMl0gPz8gJyc7XG4gICAgICAgIHJlMiA9IG5ldyBSZWdFeHAobWdyMSk7XG4gICAgICAgIGlmIChyZTIudGVzdChzdGVtKSkge1xuICAgICAgICAgICAgdyA9IHN0ZW07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmUgPSAvXiguKz8pZSQvO1xuICAgIGlmIChyZS50ZXN0KHcpKSB7XG4gICAgICAgIGNvbnN0IGZwID0gcmUuZXhlYyh3KTtcbiAgICAgICAgc3RlbSA9IGZwPy5bMV07XG4gICAgICAgIHJlID0gbmV3IFJlZ0V4cChtZ3IxKTtcbiAgICAgICAgcmUyID0gbmV3IFJlZ0V4cChtZXExKTtcbiAgICAgICAgcmUzID0gbmV3IFJlZ0V4cCgnXicgKyBDICsgdiArICdbXmFlaW91d3h5XSQnKTtcbiAgICAgICAgaWYgKHN0ZW0gJiYgKHJlLnRlc3Qoc3RlbSkgfHwgKHJlMi50ZXN0KHN0ZW0pICYmICFyZTMudGVzdChzdGVtKSkpKSB7XG4gICAgICAgICAgICB3ID0gc3RlbTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZSA9IC9sbCQvO1xuICAgIHJlMiA9IG5ldyBSZWdFeHAobWdyMSk7XG4gICAgaWYgKHJlLnRlc3QodykgJiYgcmUyLnRlc3QodykpIHtcbiAgICAgICAgcmUgPSAvLiQvO1xuICAgICAgICB3ID0gdy5yZXBsYWNlKHJlLCAnJyk7XG4gICAgfVxuICAgIGlmIChmaXJzdGNoID09ICd5Jykge1xuICAgICAgICB3ID0gZmlyc3RjaC50b0xvd2VyQ2FzZSgpICsgdy5zdWJzdHJpbmcoMSk7XG4gICAgfVxuICAgIHJldHVybiB3O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZW5nbGlzaC1zdGVtbWVyLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/tokenizer/english-stemmer.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/tokenizer/index.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@orama/orama/dist/browser/components/tokenizer/index.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createTokenizer: () => (/* binding */ createTokenizer),\n/* harmony export */   normalizeToken: () => (/* binding */ normalizeToken)\n/* harmony export */ });\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../errors.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/errors.js\");\n/* harmony import */ var _diacritics_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./diacritics.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/tokenizer/diacritics.js\");\n/* harmony import */ var _languages_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./languages.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/tokenizer/languages.js\");\n/* harmony import */ var _english_stemmer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./english-stemmer.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/tokenizer/english-stemmer.js\");\n\n\n\n\nfunction normalizeToken(prop, token, withCache = true) {\n    const key = `${this.language}:${prop}:${token}`;\n    if (withCache && this.normalizationCache.has(key)) {\n        return this.normalizationCache.get(key);\n    }\n    // Remove stopwords if enabled\n    if (this.stopWords?.includes(token)) {\n        if (withCache) {\n            this.normalizationCache.set(key, '');\n        }\n        return '';\n    }\n    // Apply stemming if enabled\n    if (this.stemmer && !this.stemmerSkipProperties.has(prop)) {\n        token = this.stemmer(token);\n    }\n    token = (0,_diacritics_js__WEBPACK_IMPORTED_MODULE_1__.replaceDiacritics)(token);\n    if (withCache) {\n        this.normalizationCache.set(key, token);\n    }\n    return token;\n}\n/* c8 ignore next 10 */\nfunction trim(text) {\n    while (text[text.length - 1] === '') {\n        text.pop();\n    }\n    while (text[0] === '') {\n        text.shift();\n    }\n    return text;\n}\nfunction tokenize(input, language, prop, withCache = true) {\n    if (language && language !== this.language) {\n        throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_0__.createError)('LANGUAGE_NOT_SUPPORTED', language);\n    }\n    /* c8 ignore next 3 */\n    if (typeof input !== 'string') {\n        return [input];\n    }\n    const normalizeToken = this.normalizeToken.bind(this, prop ?? '');\n    let tokens;\n    if (prop && this.tokenizeSkipProperties.has(prop)) {\n        tokens = [normalizeToken(input, withCache)];\n    }\n    else {\n        const splitRule = _languages_js__WEBPACK_IMPORTED_MODULE_2__.SPLITTERS[this.language];\n        tokens = input\n            .toLowerCase()\n            .split(splitRule)\n            .map(t => normalizeToken(t, withCache))\n            .filter(Boolean);\n    }\n    const trimTokens = trim(tokens);\n    if (!this.allowDuplicates) {\n        return Array.from(new Set(trimTokens));\n    }\n    return trimTokens;\n}\nfunction createTokenizer(config = {}) {\n    if (!config.language) {\n        config.language = 'english';\n    }\n    else if (!_languages_js__WEBPACK_IMPORTED_MODULE_2__.SUPPORTED_LANGUAGES.includes(config.language)) {\n        throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_0__.createError)('LANGUAGE_NOT_SUPPORTED', config.language);\n    }\n    // Handle stemming - It is disabled by default\n    let stemmer;\n    if (config.stemming || (config.stemmer && !('stemming' in config))) {\n        if (config.stemmer) {\n            if (typeof config.stemmer !== 'function') {\n                throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_0__.createError)('INVALID_STEMMER_FUNCTION_TYPE');\n            }\n            stemmer = config.stemmer;\n        }\n        else {\n            if (config.language === 'english') {\n                stemmer = _english_stemmer_js__WEBPACK_IMPORTED_MODULE_3__.stemmer;\n            }\n            else {\n                throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_0__.createError)('MISSING_STEMMER', config.language);\n            }\n        }\n    }\n    // Handle stopwords\n    let stopWords;\n    if (config.stopWords !== false) {\n        stopWords = [];\n        if (Array.isArray(config.stopWords)) {\n            stopWords = config.stopWords;\n        }\n        else if (typeof config.stopWords === 'function') {\n            stopWords = config.stopWords(stopWords);\n        }\n        else if (config.stopWords) {\n            throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_0__.createError)('CUSTOM_STOP_WORDS_MUST_BE_FUNCTION_OR_ARRAY');\n        }\n        // Make sure stopWords is just an array of strings\n        if (!Array.isArray(stopWords)) {\n            throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_0__.createError)('CUSTOM_STOP_WORDS_MUST_BE_FUNCTION_OR_ARRAY');\n        }\n        for (const s of stopWords) {\n            if (typeof s !== 'string') {\n                throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_0__.createError)('CUSTOM_STOP_WORDS_MUST_BE_FUNCTION_OR_ARRAY');\n            }\n        }\n    }\n    // Create the tokenizer\n    const tokenizer = {\n        tokenize,\n        language: config.language,\n        stemmer,\n        stemmerSkipProperties: new Set(config.stemmerSkipProperties ? [config.stemmerSkipProperties].flat() : []),\n        tokenizeSkipProperties: new Set(config.tokenizeSkipProperties ? [config.tokenizeSkipProperties].flat() : []),\n        stopWords,\n        allowDuplicates: Boolean(config.allowDuplicates),\n        normalizeToken,\n        normalizationCache: new Map()\n    };\n    tokenizer.tokenize = tokenize.bind(tokenizer);\n    tokenizer.normalizeToken = normalizeToken;\n    return tokenizer;\n}\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9icm93c2VyL2NvbXBvbmVudHMvdG9rZW5pemVyL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUE4QztBQUNNO0FBQ1k7QUFDTjtBQUNuRDtBQUNQLG1CQUFtQixjQUFjLEdBQUcsS0FBSyxHQUFHLE1BQU07QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksaUVBQWlCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHVEQUFXO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsb0RBQVM7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sb0NBQW9DO0FBQzNDO0FBQ0E7QUFDQTtBQUNBLGNBQWMsOERBQW1CO0FBQ2pDLGNBQWMsdURBQVc7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLHVEQUFXO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsd0RBQU87QUFDakM7QUFDQTtBQUNBLHNCQUFzQix1REFBVztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLHVEQUFXO0FBQzdCO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQix1REFBVztBQUM3QjtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsdURBQVc7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL2FyY2hpZW1ja2VuemllL0Rlc2t0b3AvZ3QtbGlicmFyaWVzL2RvY3Mvbm9kZV9tb2R1bGVzL0BvcmFtYS9vcmFtYS9kaXN0L2Jyb3dzZXIvY29tcG9uZW50cy90b2tlbml6ZXIvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlRXJyb3IgfSBmcm9tICcuLi8uLi9lcnJvcnMuanMnO1xuaW1wb3J0IHsgcmVwbGFjZURpYWNyaXRpY3MgfSBmcm9tICcuL2RpYWNyaXRpY3MuanMnO1xuaW1wb3J0IHsgU1BMSVRURVJTLCBTVVBQT1JURURfTEFOR1VBR0VTIH0gZnJvbSAnLi9sYW5ndWFnZXMuanMnO1xuaW1wb3J0IHsgc3RlbW1lciBhcyBlbmdsaXNoIH0gZnJvbSAnLi9lbmdsaXNoLXN0ZW1tZXIuanMnO1xuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZVRva2VuKHByb3AsIHRva2VuLCB3aXRoQ2FjaGUgPSB0cnVlKSB7XG4gICAgY29uc3Qga2V5ID0gYCR7dGhpcy5sYW5ndWFnZX06JHtwcm9wfToke3Rva2VufWA7XG4gICAgaWYgKHdpdGhDYWNoZSAmJiB0aGlzLm5vcm1hbGl6YXRpb25DYWNoZS5oYXMoa2V5KSkge1xuICAgICAgICByZXR1cm4gdGhpcy5ub3JtYWxpemF0aW9uQ2FjaGUuZ2V0KGtleSk7XG4gICAgfVxuICAgIC8vIFJlbW92ZSBzdG9wd29yZHMgaWYgZW5hYmxlZFxuICAgIGlmICh0aGlzLnN0b3BXb3Jkcz8uaW5jbHVkZXModG9rZW4pKSB7XG4gICAgICAgIGlmICh3aXRoQ2FjaGUpIHtcbiAgICAgICAgICAgIHRoaXMubm9ybWFsaXphdGlvbkNhY2hlLnNldChrZXksICcnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIC8vIEFwcGx5IHN0ZW1taW5nIGlmIGVuYWJsZWRcbiAgICBpZiAodGhpcy5zdGVtbWVyICYmICF0aGlzLnN0ZW1tZXJTa2lwUHJvcGVydGllcy5oYXMocHJvcCkpIHtcbiAgICAgICAgdG9rZW4gPSB0aGlzLnN0ZW1tZXIodG9rZW4pO1xuICAgIH1cbiAgICB0b2tlbiA9IHJlcGxhY2VEaWFjcml0aWNzKHRva2VuKTtcbiAgICBpZiAod2l0aENhY2hlKSB7XG4gICAgICAgIHRoaXMubm9ybWFsaXphdGlvbkNhY2hlLnNldChrZXksIHRva2VuKTtcbiAgICB9XG4gICAgcmV0dXJuIHRva2VuO1xufVxuLyogYzggaWdub3JlIG5leHQgMTAgKi9cbmZ1bmN0aW9uIHRyaW0odGV4dCkge1xuICAgIHdoaWxlICh0ZXh0W3RleHQubGVuZ3RoIC0gMV0gPT09ICcnKSB7XG4gICAgICAgIHRleHQucG9wKCk7XG4gICAgfVxuICAgIHdoaWxlICh0ZXh0WzBdID09PSAnJykge1xuICAgICAgICB0ZXh0LnNoaWZ0KCk7XG4gICAgfVxuICAgIHJldHVybiB0ZXh0O1xufVxuZnVuY3Rpb24gdG9rZW5pemUoaW5wdXQsIGxhbmd1YWdlLCBwcm9wLCB3aXRoQ2FjaGUgPSB0cnVlKSB7XG4gICAgaWYgKGxhbmd1YWdlICYmIGxhbmd1YWdlICE9PSB0aGlzLmxhbmd1YWdlKSB7XG4gICAgICAgIHRocm93IGNyZWF0ZUVycm9yKCdMQU5HVUFHRV9OT1RfU1VQUE9SVEVEJywgbGFuZ3VhZ2UpO1xuICAgIH1cbiAgICAvKiBjOCBpZ25vcmUgbmV4dCAzICovXG4gICAgaWYgKHR5cGVvZiBpbnB1dCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIFtpbnB1dF07XG4gICAgfVxuICAgIGNvbnN0IG5vcm1hbGl6ZVRva2VuID0gdGhpcy5ub3JtYWxpemVUb2tlbi5iaW5kKHRoaXMsIHByb3AgPz8gJycpO1xuICAgIGxldCB0b2tlbnM7XG4gICAgaWYgKHByb3AgJiYgdGhpcy50b2tlbml6ZVNraXBQcm9wZXJ0aWVzLmhhcyhwcm9wKSkge1xuICAgICAgICB0b2tlbnMgPSBbbm9ybWFsaXplVG9rZW4oaW5wdXQsIHdpdGhDYWNoZSldO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3Qgc3BsaXRSdWxlID0gU1BMSVRURVJTW3RoaXMubGFuZ3VhZ2VdO1xuICAgICAgICB0b2tlbnMgPSBpbnB1dFxuICAgICAgICAgICAgLnRvTG93ZXJDYXNlKClcbiAgICAgICAgICAgIC5zcGxpdChzcGxpdFJ1bGUpXG4gICAgICAgICAgICAubWFwKHQgPT4gbm9ybWFsaXplVG9rZW4odCwgd2l0aENhY2hlKSlcbiAgICAgICAgICAgIC5maWx0ZXIoQm9vbGVhbik7XG4gICAgfVxuICAgIGNvbnN0IHRyaW1Ub2tlbnMgPSB0cmltKHRva2Vucyk7XG4gICAgaWYgKCF0aGlzLmFsbG93RHVwbGljYXRlcykge1xuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbShuZXcgU2V0KHRyaW1Ub2tlbnMpKTtcbiAgICB9XG4gICAgcmV0dXJuIHRyaW1Ub2tlbnM7XG59XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVG9rZW5pemVyKGNvbmZpZyA9IHt9KSB7XG4gICAgaWYgKCFjb25maWcubGFuZ3VhZ2UpIHtcbiAgICAgICAgY29uZmlnLmxhbmd1YWdlID0gJ2VuZ2xpc2gnO1xuICAgIH1cbiAgICBlbHNlIGlmICghU1VQUE9SVEVEX0xBTkdVQUdFUy5pbmNsdWRlcyhjb25maWcubGFuZ3VhZ2UpKSB7XG4gICAgICAgIHRocm93IGNyZWF0ZUVycm9yKCdMQU5HVUFHRV9OT1RfU1VQUE9SVEVEJywgY29uZmlnLmxhbmd1YWdlKTtcbiAgICB9XG4gICAgLy8gSGFuZGxlIHN0ZW1taW5nIC0gSXQgaXMgZGlzYWJsZWQgYnkgZGVmYXVsdFxuICAgIGxldCBzdGVtbWVyO1xuICAgIGlmIChjb25maWcuc3RlbW1pbmcgfHwgKGNvbmZpZy5zdGVtbWVyICYmICEoJ3N0ZW1taW5nJyBpbiBjb25maWcpKSkge1xuICAgICAgICBpZiAoY29uZmlnLnN0ZW1tZXIpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29uZmlnLnN0ZW1tZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignSU5WQUxJRF9TVEVNTUVSX0ZVTkNUSU9OX1RZUEUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0ZW1tZXIgPSBjb25maWcuc3RlbW1lcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChjb25maWcubGFuZ3VhZ2UgPT09ICdlbmdsaXNoJykge1xuICAgICAgICAgICAgICAgIHN0ZW1tZXIgPSBlbmdsaXNoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoJ01JU1NJTkdfU1RFTU1FUicsIGNvbmZpZy5sYW5ndWFnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gSGFuZGxlIHN0b3B3b3Jkc1xuICAgIGxldCBzdG9wV29yZHM7XG4gICAgaWYgKGNvbmZpZy5zdG9wV29yZHMgIT09IGZhbHNlKSB7XG4gICAgICAgIHN0b3BXb3JkcyA9IFtdO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjb25maWcuc3RvcFdvcmRzKSkge1xuICAgICAgICAgICAgc3RvcFdvcmRzID0gY29uZmlnLnN0b3BXb3JkcztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgY29uZmlnLnN0b3BXb3JkcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgc3RvcFdvcmRzID0gY29uZmlnLnN0b3BXb3JkcyhzdG9wV29yZHMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNvbmZpZy5zdG9wV29yZHMpIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUVycm9yKCdDVVNUT01fU1RPUF9XT1JEU19NVVNUX0JFX0ZVTkNUSU9OX09SX0FSUkFZJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gTWFrZSBzdXJlIHN0b3BXb3JkcyBpcyBqdXN0IGFuIGFycmF5IG9mIHN0cmluZ3NcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHN0b3BXb3JkcykpIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUVycm9yKCdDVVNUT01fU1RPUF9XT1JEU19NVVNUX0JFX0ZVTkNUSU9OX09SX0FSUkFZJyk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBzIG9mIHN0b3BXb3Jkcykge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBzICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZUVycm9yKCdDVVNUT01fU1RPUF9XT1JEU19NVVNUX0JFX0ZVTkNUSU9OX09SX0FSUkFZJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gQ3JlYXRlIHRoZSB0b2tlbml6ZXJcbiAgICBjb25zdCB0b2tlbml6ZXIgPSB7XG4gICAgICAgIHRva2VuaXplLFxuICAgICAgICBsYW5ndWFnZTogY29uZmlnLmxhbmd1YWdlLFxuICAgICAgICBzdGVtbWVyLFxuICAgICAgICBzdGVtbWVyU2tpcFByb3BlcnRpZXM6IG5ldyBTZXQoY29uZmlnLnN0ZW1tZXJTa2lwUHJvcGVydGllcyA/IFtjb25maWcuc3RlbW1lclNraXBQcm9wZXJ0aWVzXS5mbGF0KCkgOiBbXSksXG4gICAgICAgIHRva2VuaXplU2tpcFByb3BlcnRpZXM6IG5ldyBTZXQoY29uZmlnLnRva2VuaXplU2tpcFByb3BlcnRpZXMgPyBbY29uZmlnLnRva2VuaXplU2tpcFByb3BlcnRpZXNdLmZsYXQoKSA6IFtdKSxcbiAgICAgICAgc3RvcFdvcmRzLFxuICAgICAgICBhbGxvd0R1cGxpY2F0ZXM6IEJvb2xlYW4oY29uZmlnLmFsbG93RHVwbGljYXRlcyksXG4gICAgICAgIG5vcm1hbGl6ZVRva2VuLFxuICAgICAgICBub3JtYWxpemF0aW9uQ2FjaGU6IG5ldyBNYXAoKVxuICAgIH07XG4gICAgdG9rZW5pemVyLnRva2VuaXplID0gdG9rZW5pemUuYmluZCh0b2tlbml6ZXIpO1xuICAgIHRva2VuaXplci5ub3JtYWxpemVUb2tlbiA9IG5vcm1hbGl6ZVRva2VuO1xuICAgIHJldHVybiB0b2tlbml6ZXI7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/tokenizer/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/tokenizer/languages.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/@orama/orama/dist/browser/components/tokenizer/languages.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SPLITTERS: () => (/* binding */ SPLITTERS),\n/* harmony export */   STEMMERS: () => (/* binding */ STEMMERS),\n/* harmony export */   SUPPORTED_LANGUAGES: () => (/* binding */ SUPPORTED_LANGUAGES),\n/* harmony export */   getLocale: () => (/* binding */ getLocale)\n/* harmony export */ });\nconst STEMMERS = {\n    arabic: 'ar',\n    armenian: 'am',\n    bulgarian: 'bg',\n    czech: 'cz',\n    danish: 'dk',\n    dutch: 'nl',\n    english: 'en',\n    finnish: 'fi',\n    french: 'fr',\n    german: 'de',\n    greek: 'gr',\n    hungarian: 'hu',\n    indian: 'in',\n    indonesian: 'id',\n    irish: 'ie',\n    italian: 'it',\n    lithuanian: 'lt',\n    nepali: 'np',\n    norwegian: 'no',\n    portuguese: 'pt',\n    romanian: 'ro',\n    russian: 'ru',\n    serbian: 'rs',\n    slovenian: 'ru',\n    spanish: 'es',\n    swedish: 'se',\n    tamil: 'ta',\n    turkish: 'tr',\n    ukrainian: 'uk',\n    sanskrit: 'sk'\n};\nconst SPLITTERS = {\n    dutch: /[^A-Za-zàèéìòóù0-9_'-]+/gim,\n    english: /[^A-Za-zàèéìòóù0-9_'-]+/gim,\n    french: /[^a-z0-9äâàéèëêïîöôùüûœç-]+/gim,\n    italian: /[^A-Za-zàèéìòóù0-9_'-]+/gim,\n    norwegian: /[^a-z0-9_æøåÆØÅäÄöÖüÜ]+/gim,\n    portuguese: /[^a-z0-9à-úÀ-Ú]/gim,\n    russian: /[^a-z0-9а-яА-ЯёЁ]+/gim,\n    spanish: /[^a-z0-9A-Zá-úÁ-ÚñÑüÜ]+/gim,\n    swedish: /[^a-z0-9_åÅäÄöÖüÜ-]+/gim,\n    german: /[^a-z0-9A-ZäöüÄÖÜß]+/gim,\n    finnish: /[^a-z0-9äöÄÖ]+/gim,\n    danish: /[^a-z0-9æøåÆØÅ]+/gim,\n    hungarian: /[^a-z0-9áéíóöőúüűÁÉÍÓÖŐÚÜŰ]+/gim,\n    romanian: /[^a-z0-9ăâîșțĂÂÎȘȚ]+/gim,\n    serbian: /[^a-z0-9čćžšđČĆŽŠĐ]+/gim,\n    turkish: /[^a-z0-9çÇğĞıİöÖşŞüÜ]+/gim,\n    lithuanian: /[^a-z0-9ąčęėįšųūžĄČĘĖĮŠŲŪŽ]+/gim,\n    arabic: /[^a-z0-9أ-ي]+/gim,\n    nepali: /[^a-z0-9अ-ह]+/gim,\n    irish: /[^a-z0-9áéíóúÁÉÍÓÚ]+/gim,\n    indian: /[^a-z0-9अ-ह]+/gim,\n    armenian: /[^a-z0-9ա-ֆ]+/gim,\n    greek: /[^a-z0-9α-ωά-ώ]+/gim,\n    indonesian: /[^a-z0-9]+/gim,\n    ukrainian: /[^a-z0-9а-яА-ЯіїєІЇЄ]+/gim,\n    slovenian: /[^a-z0-9čžšČŽŠ]+/gim,\n    bulgarian: /[^a-z0-9а-яА-Я]+/gim,\n    tamil: /[^a-z0-9அ-ஹ]+/gim,\n    sanskrit: /[^a-z0-9A-Zāīūṛḷṃṁḥśṣṭḍṇṅñḻḹṝ]+/gim,\n    czech: /[^A-Z0-9a-zěščřžýáíéúůóťďĚŠČŘŽÝÁÍÉÓÚŮŤĎ-]+/gim\n};\nconst SUPPORTED_LANGUAGES = Object.keys(STEMMERS);\nfunction getLocale(language) {\n    return language !== undefined && SUPPORTED_LANGUAGES.includes(language) ? STEMMERS[language] : undefined;\n}\n//# sourceMappingURL=languages.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9icm93c2VyL2NvbXBvbmVudHMvdG9rZW5pemVyL2xhbmd1YWdlcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNBO0FBQ1A7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvYXJjaGllbWNrZW56aWUvRGVza3RvcC9ndC1saWJyYXJpZXMvZG9jcy9ub2RlX21vZHVsZXMvQG9yYW1hL29yYW1hL2Rpc3QvYnJvd3Nlci9jb21wb25lbnRzL3Rva2VuaXplci9sYW5ndWFnZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IFNURU1NRVJTID0ge1xuICAgIGFyYWJpYzogJ2FyJyxcbiAgICBhcm1lbmlhbjogJ2FtJyxcbiAgICBidWxnYXJpYW46ICdiZycsXG4gICAgY3plY2g6ICdjeicsXG4gICAgZGFuaXNoOiAnZGsnLFxuICAgIGR1dGNoOiAnbmwnLFxuICAgIGVuZ2xpc2g6ICdlbicsXG4gICAgZmlubmlzaDogJ2ZpJyxcbiAgICBmcmVuY2g6ICdmcicsXG4gICAgZ2VybWFuOiAnZGUnLFxuICAgIGdyZWVrOiAnZ3InLFxuICAgIGh1bmdhcmlhbjogJ2h1JyxcbiAgICBpbmRpYW46ICdpbicsXG4gICAgaW5kb25lc2lhbjogJ2lkJyxcbiAgICBpcmlzaDogJ2llJyxcbiAgICBpdGFsaWFuOiAnaXQnLFxuICAgIGxpdGh1YW5pYW46ICdsdCcsXG4gICAgbmVwYWxpOiAnbnAnLFxuICAgIG5vcndlZ2lhbjogJ25vJyxcbiAgICBwb3J0dWd1ZXNlOiAncHQnLFxuICAgIHJvbWFuaWFuOiAncm8nLFxuICAgIHJ1c3NpYW46ICdydScsXG4gICAgc2VyYmlhbjogJ3JzJyxcbiAgICBzbG92ZW5pYW46ICdydScsXG4gICAgc3BhbmlzaDogJ2VzJyxcbiAgICBzd2VkaXNoOiAnc2UnLFxuICAgIHRhbWlsOiAndGEnLFxuICAgIHR1cmtpc2g6ICd0cicsXG4gICAgdWtyYWluaWFuOiAndWsnLFxuICAgIHNhbnNrcml0OiAnc2snXG59O1xuZXhwb3J0IGNvbnN0IFNQTElUVEVSUyA9IHtcbiAgICBkdXRjaDogL1teQS1aYS16w6DDqMOpw6zDssOzw7kwLTlfJy1dKy9naW0sXG4gICAgZW5nbGlzaDogL1teQS1aYS16w6DDqMOpw6zDssOzw7kwLTlfJy1dKy9naW0sXG4gICAgZnJlbmNoOiAvW15hLXowLTnDpMOiw6DDqcOow6vDqsOvw67DtsO0w7nDvMO7xZPDpy1dKy9naW0sXG4gICAgaXRhbGlhbjogL1teQS1aYS16w6DDqMOpw6zDssOzw7kwLTlfJy1dKy9naW0sXG4gICAgbm9yd2VnaWFuOiAvW15hLXowLTlfw6bDuMOlw4bDmMOFw6TDhMO2w5bDvMOcXSsvZ2ltLFxuICAgIHBvcnR1Z3Vlc2U6IC9bXmEtejAtOcOgLcO6w4Atw5pdL2dpbSxcbiAgICBydXNzaWFuOiAvW15hLXowLTnQsC3Rj9CQLdCv0ZHQgV0rL2dpbSxcbiAgICBzcGFuaXNoOiAvW15hLXowLTlBLVrDoS3DusOBLcOaw7HDkcO8w5xdKy9naW0sXG4gICAgc3dlZGlzaDogL1teYS16MC05X8Olw4XDpMOEw7bDlsO8w5wtXSsvZ2ltLFxuICAgIGdlcm1hbjogL1teYS16MC05QS1aw6TDtsO8w4TDlsOcw59dKy9naW0sXG4gICAgZmlubmlzaDogL1teYS16MC05w6TDtsOEw5ZdKy9naW0sXG4gICAgZGFuaXNoOiAvW15hLXowLTnDpsO4w6XDhsOYw4VdKy9naW0sXG4gICAgaHVuZ2FyaWFuOiAvW15hLXowLTnDocOpw63Ds8O2xZHDusO8xbHDgcOJw43Dk8OWxZDDmsOcxbBdKy9naW0sXG4gICAgcm9tYW5pYW46IC9bXmEtejAtOcSDw6LDrsiZyJvEgsOCw47ImMiaXSsvZ2ltLFxuICAgIHNlcmJpYW46IC9bXmEtejAtOcSNxIfFvsWhxJHEjMSGxb3FoMSQXSsvZ2ltLFxuICAgIHR1cmtpc2g6IC9bXmEtejAtOcOnw4fEn8SexLHEsMO2w5bFn8Wew7zDnF0rL2dpbSxcbiAgICBsaXRodWFuaWFuOiAvW15hLXowLTnEhcSNxJnEl8SvxaHFs8Wrxb7EhMSMxJjElsSuxaDFssWqxb1dKy9naW0sXG4gICAgYXJhYmljOiAvW15hLXowLTnYoy3Zil0rL2dpbSxcbiAgICBuZXBhbGk6IC9bXmEtejAtOeCkhS3gpLldKy9naW0sXG4gICAgaXJpc2g6IC9bXmEtejAtOcOhw6nDrcOzw7rDgcOJw43Dk8OaXSsvZ2ltLFxuICAgIGluZGlhbjogL1teYS16MC054KSFLeCkuV0rL2dpbSxcbiAgICBhcm1lbmlhbjogL1teYS16MC051aEt1oZdKy9naW0sXG4gICAgZ3JlZWs6IC9bXmEtejAtOc6xLc+Jzqwtz45dKy9naW0sXG4gICAgaW5kb25lc2lhbjogL1teYS16MC05XSsvZ2ltLFxuICAgIHVrcmFpbmlhbjogL1teYS16MC050LAt0Y/QkC3Qr9GW0ZfRlNCG0IfQhF0rL2dpbSxcbiAgICBzbG92ZW5pYW46IC9bXmEtejAtOcSNxb7FocSMxb3FoF0rL2dpbSxcbiAgICBidWxnYXJpYW46IC9bXmEtejAtOdCwLdGP0JAt0K9dKy9naW0sXG4gICAgdGFtaWw6IC9bXmEtejAtOeCuhS3grrldKy9naW0sXG4gICAgc2Fuc2tyaXQ6IC9bXmEtejAtOUEtWsSBxKvFq+G5m+G4t+G5g+G5geG4pcWb4bmj4bmt4biN4bmH4bmFw7HhuLvhuLnhuZ1dKy9naW0sXG4gICAgY3plY2g6IC9bXkEtWjAtOWEtesSbxaHEjcWZxb7DvcOhw63DqcO6xa/Ds8WlxI/EmsWgxIzFmMW9w53DgcONw4nDk8Oaxa7FpMSOLV0rL2dpbVxufTtcbmV4cG9ydCBjb25zdCBTVVBQT1JURURfTEFOR1VBR0VTID0gT2JqZWN0LmtleXMoU1RFTU1FUlMpO1xuZXhwb3J0IGZ1bmN0aW9uIGdldExvY2FsZShsYW5ndWFnZSkge1xuICAgIHJldHVybiBsYW5ndWFnZSAhPT0gdW5kZWZpbmVkICYmIFNVUFBPUlRFRF9MQU5HVUFHRVMuaW5jbHVkZXMobGFuZ3VhZ2UpID8gU1RFTU1FUlNbbGFuZ3VhZ2VdIDogdW5kZWZpbmVkO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGFuZ3VhZ2VzLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/tokenizer/languages.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@orama/orama/dist/browser/constants.js":
/*!*************************************************************!*\
  !*** ./node_modules/@orama/orama/dist/browser/constants.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MODE_FULLTEXT_SEARCH: () => (/* binding */ MODE_FULLTEXT_SEARCH),\n/* harmony export */   MODE_HYBRID_SEARCH: () => (/* binding */ MODE_HYBRID_SEARCH),\n/* harmony export */   MODE_VECTOR_SEARCH: () => (/* binding */ MODE_VECTOR_SEARCH)\n/* harmony export */ });\nconst MODE_FULLTEXT_SEARCH = 'fulltext';\nconst MODE_HYBRID_SEARCH = 'hybrid';\nconst MODE_VECTOR_SEARCH = 'vector';\n//# sourceMappingURL=constants.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9icm93c2VyL2NvbnN0YW50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBTztBQUNBO0FBQ0E7QUFDUCIsInNvdXJjZXMiOlsiL1VzZXJzL2FyY2hpZW1ja2VuemllL0Rlc2t0b3AvZ3QtbGlicmFyaWVzL2RvY3Mvbm9kZV9tb2R1bGVzL0BvcmFtYS9vcmFtYS9kaXN0L2Jyb3dzZXIvY29uc3RhbnRzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBNT0RFX0ZVTExURVhUX1NFQVJDSCA9ICdmdWxsdGV4dCc7XG5leHBvcnQgY29uc3QgTU9ERV9IWUJSSURfU0VBUkNIID0gJ2h5YnJpZCc7XG5leHBvcnQgY29uc3QgTU9ERV9WRUNUT1JfU0VBUkNIID0gJ3ZlY3Rvcic7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25zdGFudHMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@orama/orama/dist/browser/constants.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@orama/orama/dist/browser/errors.js":
/*!**********************************************************!*\
  !*** ./node_modules/@orama/orama/dist/browser/errors.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createError: () => (/* binding */ createError)\n/* harmony export */ });\n/* harmony import */ var _components_tokenizer_languages_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./components/tokenizer/languages.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/tokenizer/languages.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/utils.js\");\n\n\nconst allLanguages = _components_tokenizer_languages_js__WEBPACK_IMPORTED_MODULE_0__.SUPPORTED_LANGUAGES.join('\\n - ');\nconst errors = {\n    NO_LANGUAGE_WITH_CUSTOM_TOKENIZER: 'Do not pass the language option to create when using a custom tokenizer.',\n    LANGUAGE_NOT_SUPPORTED: `Language \"%s\" is not supported.\\nSupported languages are:\\n - ${allLanguages}`,\n    INVALID_STEMMER_FUNCTION_TYPE: `config.stemmer property must be a function.`,\n    MISSING_STEMMER: `As of version 1.0.0 @orama/orama does not ship non English stemmers by default. To solve this, please explicitly import and specify the \"%s\" stemmer from the package @orama/stemmers. See https://docs.orama.com/open-source/text-analysis/stemming for more information.`,\n    CUSTOM_STOP_WORDS_MUST_BE_FUNCTION_OR_ARRAY: 'Custom stop words array must only contain strings.',\n    UNSUPPORTED_COMPONENT: `Unsupported component \"%s\".`,\n    COMPONENT_MUST_BE_FUNCTION: `The component \"%s\" must be a function.`,\n    COMPONENT_MUST_BE_FUNCTION_OR_ARRAY_FUNCTIONS: `The component \"%s\" must be a function or an array of functions.`,\n    INVALID_SCHEMA_TYPE: `Unsupported schema type \"%s\" at \"%s\". Expected \"string\", \"boolean\" or \"number\" or array of them.`,\n    DOCUMENT_ID_MUST_BE_STRING: `Document id must be of type \"string\". Got \"%s\" instead.`,\n    DOCUMENT_ALREADY_EXISTS: `A document with id \"%s\" already exists.`,\n    DOCUMENT_DOES_NOT_EXIST: `A document with id \"%s\" does not exists.`,\n    MISSING_DOCUMENT_PROPERTY: `Missing searchable property \"%s\".`,\n    INVALID_DOCUMENT_PROPERTY: `Invalid document property \"%s\": expected \"%s\", got \"%s\"`,\n    UNKNOWN_INDEX: `Invalid property name \"%s\". Expected a wildcard string (\"*\") or array containing one of the following properties: %s`,\n    INVALID_BOOST_VALUE: `Boost value must be a number greater than, or less than 0.`,\n    INVALID_FILTER_OPERATION: `You can only use one operation per filter, you requested %d.`,\n    SCHEMA_VALIDATION_FAILURE: `Cannot insert document due schema validation failure on \"%s\" property.`,\n    INVALID_SORT_SCHEMA_TYPE: `Unsupported sort schema type \"%s\" at \"%s\". Expected \"string\" or \"number\".`,\n    CANNOT_SORT_BY_ARRAY: `Cannot configure sort for \"%s\" because it is an array (%s).`,\n    UNABLE_TO_SORT_ON_UNKNOWN_FIELD: `Unable to sort on unknown field \"%s\". Allowed fields: %s`,\n    SORT_DISABLED: `Sort is disabled. Please read the documentation at https://docs.oramasearch for more information.`,\n    UNKNOWN_GROUP_BY_PROPERTY: `Unknown groupBy property \"%s\".`,\n    INVALID_GROUP_BY_PROPERTY: `Invalid groupBy property \"%s\". Allowed types: \"%s\", but given \"%s\".`,\n    UNKNOWN_FILTER_PROPERTY: `Unknown filter property \"%s\".`,\n    INVALID_VECTOR_SIZE: `Vector size must be a number greater than 0. Got \"%s\" instead.`,\n    INVALID_VECTOR_VALUE: `Vector value must be a number greater than 0. Got \"%s\" instead.`,\n    INVALID_INPUT_VECTOR: `Property \"%s\" was declared as a %s-dimensional vector, but got a %s-dimensional vector instead.\\nInput vectors must be of the size declared in the schema, as calculating similarity between vectors of different sizes can lead to unexpected results.`,\n    WRONG_SEARCH_PROPERTY_TYPE: `Property \"%s\" is not searchable. Only \"string\" properties are searchable.`,\n    FACET_NOT_SUPPORTED: `Facet doens't support the type \"%s\".`,\n    INVALID_DISTANCE_SUFFIX: `Invalid distance suffix \"%s\". Valid suffixes are: cm, m, km, mi, yd, ft.`,\n    INVALID_SEARCH_MODE: `Invalid search mode \"%s\". Valid modes are: \"fulltext\", \"vector\", \"hybrid\".`,\n    MISSING_VECTOR_AND_SECURE_PROXY: `No vector was provided and no secure proxy was configured. Please provide a vector or configure an Orama Secure Proxy to perform hybrid search.`,\n    MISSING_TERM: `\"term\" is a required parameter when performing hybrid search. Please provide a search term.`,\n    INVALID_VECTOR_INPUT: `Invalid \"vector\" property. Expected an object with \"value\" and \"property\" properties, but got \"%s\" instead.`,\n    PLUGIN_CRASHED: `A plugin crashed during initialization. Please check the error message for more information:`,\n    PLUGIN_SECURE_PROXY_NOT_FOUND: `Could not find '@orama/secure-proxy-plugin' installed in your Orama instance.\\nPlease install it before proceeding with creating an answer session.\\nRead more at https://docs.orama.com/open-source/plugins/plugin-secure-proxy#plugin-secure-proxy\\n`,\n    PLUGIN_SECURE_PROXY_MISSING_CHAT_MODEL: `Could not find a chat model defined in the secure proxy plugin configuration.\\nPlease provide a chat model before proceeding with creating an answer session.\\nRead more at https://docs.orama.com/open-source/plugins/plugin-secure-proxy#plugin-secure-proxy\\n`,\n    ANSWER_SESSION_LAST_MESSAGE_IS_NOT_ASSISTANT: `The last message in the session is not an assistant message. Cannot regenerate non-assistant messages.`,\n    PLUGIN_COMPONENT_CONFLICT: `The component \"%s\" is already defined. The plugin \"%s\" is trying to redefine it.`,\n};\nfunction createError(code, ...args) {\n    const error = new Error((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.sprintf)(errors[code] ?? `Unsupported Orama Error code: ${code}`, ...args));\n    error.code = code;\n    if ('captureStackTrace' in Error.prototype) {\n        Error.captureStackTrace(error);\n    }\n    return error;\n}\n//# sourceMappingURL=errors.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9icm93c2VyL2Vycm9ycy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBMEU7QUFDckM7QUFDckMscUJBQXFCLG1GQUFtQjtBQUN4QztBQUNBO0FBQ0EsNkZBQTZGLGFBQWE7QUFDMUc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCw0QkFBNEIsa0RBQU8sa0RBQWtELEtBQUs7QUFDMUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy9hcmNoaWVtY2tlbnppZS9EZXNrdG9wL2d0LWxpYnJhcmllcy9kb2NzL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9icm93c2VyL2Vycm9ycy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTVVBQT1JURURfTEFOR1VBR0VTIH0gZnJvbSAnLi9jb21wb25lbnRzL3Rva2VuaXplci9sYW5ndWFnZXMuanMnO1xuaW1wb3J0IHsgc3ByaW50ZiB9IGZyb20gJy4vdXRpbHMuanMnO1xuY29uc3QgYWxsTGFuZ3VhZ2VzID0gU1VQUE9SVEVEX0xBTkdVQUdFUy5qb2luKCdcXG4gLSAnKTtcbmNvbnN0IGVycm9ycyA9IHtcbiAgICBOT19MQU5HVUFHRV9XSVRIX0NVU1RPTV9UT0tFTklaRVI6ICdEbyBub3QgcGFzcyB0aGUgbGFuZ3VhZ2Ugb3B0aW9uIHRvIGNyZWF0ZSB3aGVuIHVzaW5nIGEgY3VzdG9tIHRva2VuaXplci4nLFxuICAgIExBTkdVQUdFX05PVF9TVVBQT1JURUQ6IGBMYW5ndWFnZSBcIiVzXCIgaXMgbm90IHN1cHBvcnRlZC5cXG5TdXBwb3J0ZWQgbGFuZ3VhZ2VzIGFyZTpcXG4gLSAke2FsbExhbmd1YWdlc31gLFxuICAgIElOVkFMSURfU1RFTU1FUl9GVU5DVElPTl9UWVBFOiBgY29uZmlnLnN0ZW1tZXIgcHJvcGVydHkgbXVzdCBiZSBhIGZ1bmN0aW9uLmAsXG4gICAgTUlTU0lOR19TVEVNTUVSOiBgQXMgb2YgdmVyc2lvbiAxLjAuMCBAb3JhbWEvb3JhbWEgZG9lcyBub3Qgc2hpcCBub24gRW5nbGlzaCBzdGVtbWVycyBieSBkZWZhdWx0LiBUbyBzb2x2ZSB0aGlzLCBwbGVhc2UgZXhwbGljaXRseSBpbXBvcnQgYW5kIHNwZWNpZnkgdGhlIFwiJXNcIiBzdGVtbWVyIGZyb20gdGhlIHBhY2thZ2UgQG9yYW1hL3N0ZW1tZXJzLiBTZWUgaHR0cHM6Ly9kb2NzLm9yYW1hLmNvbS9vcGVuLXNvdXJjZS90ZXh0LWFuYWx5c2lzL3N0ZW1taW5nIGZvciBtb3JlIGluZm9ybWF0aW9uLmAsXG4gICAgQ1VTVE9NX1NUT1BfV09SRFNfTVVTVF9CRV9GVU5DVElPTl9PUl9BUlJBWTogJ0N1c3RvbSBzdG9wIHdvcmRzIGFycmF5IG11c3Qgb25seSBjb250YWluIHN0cmluZ3MuJyxcbiAgICBVTlNVUFBPUlRFRF9DT01QT05FTlQ6IGBVbnN1cHBvcnRlZCBjb21wb25lbnQgXCIlc1wiLmAsXG4gICAgQ09NUE9ORU5UX01VU1RfQkVfRlVOQ1RJT046IGBUaGUgY29tcG9uZW50IFwiJXNcIiBtdXN0IGJlIGEgZnVuY3Rpb24uYCxcbiAgICBDT01QT05FTlRfTVVTVF9CRV9GVU5DVElPTl9PUl9BUlJBWV9GVU5DVElPTlM6IGBUaGUgY29tcG9uZW50IFwiJXNcIiBtdXN0IGJlIGEgZnVuY3Rpb24gb3IgYW4gYXJyYXkgb2YgZnVuY3Rpb25zLmAsXG4gICAgSU5WQUxJRF9TQ0hFTUFfVFlQRTogYFVuc3VwcG9ydGVkIHNjaGVtYSB0eXBlIFwiJXNcIiBhdCBcIiVzXCIuIEV4cGVjdGVkIFwic3RyaW5nXCIsIFwiYm9vbGVhblwiIG9yIFwibnVtYmVyXCIgb3IgYXJyYXkgb2YgdGhlbS5gLFxuICAgIERPQ1VNRU5UX0lEX01VU1RfQkVfU1RSSU5HOiBgRG9jdW1lbnQgaWQgbXVzdCBiZSBvZiB0eXBlIFwic3RyaW5nXCIuIEdvdCBcIiVzXCIgaW5zdGVhZC5gLFxuICAgIERPQ1VNRU5UX0FMUkVBRFlfRVhJU1RTOiBgQSBkb2N1bWVudCB3aXRoIGlkIFwiJXNcIiBhbHJlYWR5IGV4aXN0cy5gLFxuICAgIERPQ1VNRU5UX0RPRVNfTk9UX0VYSVNUOiBgQSBkb2N1bWVudCB3aXRoIGlkIFwiJXNcIiBkb2VzIG5vdCBleGlzdHMuYCxcbiAgICBNSVNTSU5HX0RPQ1VNRU5UX1BST1BFUlRZOiBgTWlzc2luZyBzZWFyY2hhYmxlIHByb3BlcnR5IFwiJXNcIi5gLFxuICAgIElOVkFMSURfRE9DVU1FTlRfUFJPUEVSVFk6IGBJbnZhbGlkIGRvY3VtZW50IHByb3BlcnR5IFwiJXNcIjogZXhwZWN0ZWQgXCIlc1wiLCBnb3QgXCIlc1wiYCxcbiAgICBVTktOT1dOX0lOREVYOiBgSW52YWxpZCBwcm9wZXJ0eSBuYW1lIFwiJXNcIi4gRXhwZWN0ZWQgYSB3aWxkY2FyZCBzdHJpbmcgKFwiKlwiKSBvciBhcnJheSBjb250YWluaW5nIG9uZSBvZiB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6ICVzYCxcbiAgICBJTlZBTElEX0JPT1NUX1ZBTFVFOiBgQm9vc3QgdmFsdWUgbXVzdCBiZSBhIG51bWJlciBncmVhdGVyIHRoYW4sIG9yIGxlc3MgdGhhbiAwLmAsXG4gICAgSU5WQUxJRF9GSUxURVJfT1BFUkFUSU9OOiBgWW91IGNhbiBvbmx5IHVzZSBvbmUgb3BlcmF0aW9uIHBlciBmaWx0ZXIsIHlvdSByZXF1ZXN0ZWQgJWQuYCxcbiAgICBTQ0hFTUFfVkFMSURBVElPTl9GQUlMVVJFOiBgQ2Fubm90IGluc2VydCBkb2N1bWVudCBkdWUgc2NoZW1hIHZhbGlkYXRpb24gZmFpbHVyZSBvbiBcIiVzXCIgcHJvcGVydHkuYCxcbiAgICBJTlZBTElEX1NPUlRfU0NIRU1BX1RZUEU6IGBVbnN1cHBvcnRlZCBzb3J0IHNjaGVtYSB0eXBlIFwiJXNcIiBhdCBcIiVzXCIuIEV4cGVjdGVkIFwic3RyaW5nXCIgb3IgXCJudW1iZXJcIi5gLFxuICAgIENBTk5PVF9TT1JUX0JZX0FSUkFZOiBgQ2Fubm90IGNvbmZpZ3VyZSBzb3J0IGZvciBcIiVzXCIgYmVjYXVzZSBpdCBpcyBhbiBhcnJheSAoJXMpLmAsXG4gICAgVU5BQkxFX1RPX1NPUlRfT05fVU5LTk9XTl9GSUVMRDogYFVuYWJsZSB0byBzb3J0IG9uIHVua25vd24gZmllbGQgXCIlc1wiLiBBbGxvd2VkIGZpZWxkczogJXNgLFxuICAgIFNPUlRfRElTQUJMRUQ6IGBTb3J0IGlzIGRpc2FibGVkLiBQbGVhc2UgcmVhZCB0aGUgZG9jdW1lbnRhdGlvbiBhdCBodHRwczovL2RvY3Mub3JhbWFzZWFyY2ggZm9yIG1vcmUgaW5mb3JtYXRpb24uYCxcbiAgICBVTktOT1dOX0dST1VQX0JZX1BST1BFUlRZOiBgVW5rbm93biBncm91cEJ5IHByb3BlcnR5IFwiJXNcIi5gLFxuICAgIElOVkFMSURfR1JPVVBfQllfUFJPUEVSVFk6IGBJbnZhbGlkIGdyb3VwQnkgcHJvcGVydHkgXCIlc1wiLiBBbGxvd2VkIHR5cGVzOiBcIiVzXCIsIGJ1dCBnaXZlbiBcIiVzXCIuYCxcbiAgICBVTktOT1dOX0ZJTFRFUl9QUk9QRVJUWTogYFVua25vd24gZmlsdGVyIHByb3BlcnR5IFwiJXNcIi5gLFxuICAgIElOVkFMSURfVkVDVE9SX1NJWkU6IGBWZWN0b3Igc2l6ZSBtdXN0IGJlIGEgbnVtYmVyIGdyZWF0ZXIgdGhhbiAwLiBHb3QgXCIlc1wiIGluc3RlYWQuYCxcbiAgICBJTlZBTElEX1ZFQ1RPUl9WQUxVRTogYFZlY3RvciB2YWx1ZSBtdXN0IGJlIGEgbnVtYmVyIGdyZWF0ZXIgdGhhbiAwLiBHb3QgXCIlc1wiIGluc3RlYWQuYCxcbiAgICBJTlZBTElEX0lOUFVUX1ZFQ1RPUjogYFByb3BlcnR5IFwiJXNcIiB3YXMgZGVjbGFyZWQgYXMgYSAlcy1kaW1lbnNpb25hbCB2ZWN0b3IsIGJ1dCBnb3QgYSAlcy1kaW1lbnNpb25hbCB2ZWN0b3IgaW5zdGVhZC5cXG5JbnB1dCB2ZWN0b3JzIG11c3QgYmUgb2YgdGhlIHNpemUgZGVjbGFyZWQgaW4gdGhlIHNjaGVtYSwgYXMgY2FsY3VsYXRpbmcgc2ltaWxhcml0eSBiZXR3ZWVuIHZlY3RvcnMgb2YgZGlmZmVyZW50IHNpemVzIGNhbiBsZWFkIHRvIHVuZXhwZWN0ZWQgcmVzdWx0cy5gLFxuICAgIFdST05HX1NFQVJDSF9QUk9QRVJUWV9UWVBFOiBgUHJvcGVydHkgXCIlc1wiIGlzIG5vdCBzZWFyY2hhYmxlLiBPbmx5IFwic3RyaW5nXCIgcHJvcGVydGllcyBhcmUgc2VhcmNoYWJsZS5gLFxuICAgIEZBQ0VUX05PVF9TVVBQT1JURUQ6IGBGYWNldCBkb2Vucyd0IHN1cHBvcnQgdGhlIHR5cGUgXCIlc1wiLmAsXG4gICAgSU5WQUxJRF9ESVNUQU5DRV9TVUZGSVg6IGBJbnZhbGlkIGRpc3RhbmNlIHN1ZmZpeCBcIiVzXCIuIFZhbGlkIHN1ZmZpeGVzIGFyZTogY20sIG0sIGttLCBtaSwgeWQsIGZ0LmAsXG4gICAgSU5WQUxJRF9TRUFSQ0hfTU9ERTogYEludmFsaWQgc2VhcmNoIG1vZGUgXCIlc1wiLiBWYWxpZCBtb2RlcyBhcmU6IFwiZnVsbHRleHRcIiwgXCJ2ZWN0b3JcIiwgXCJoeWJyaWRcIi5gLFxuICAgIE1JU1NJTkdfVkVDVE9SX0FORF9TRUNVUkVfUFJPWFk6IGBObyB2ZWN0b3Igd2FzIHByb3ZpZGVkIGFuZCBubyBzZWN1cmUgcHJveHkgd2FzIGNvbmZpZ3VyZWQuIFBsZWFzZSBwcm92aWRlIGEgdmVjdG9yIG9yIGNvbmZpZ3VyZSBhbiBPcmFtYSBTZWN1cmUgUHJveHkgdG8gcGVyZm9ybSBoeWJyaWQgc2VhcmNoLmAsXG4gICAgTUlTU0lOR19URVJNOiBgXCJ0ZXJtXCIgaXMgYSByZXF1aXJlZCBwYXJhbWV0ZXIgd2hlbiBwZXJmb3JtaW5nIGh5YnJpZCBzZWFyY2guIFBsZWFzZSBwcm92aWRlIGEgc2VhcmNoIHRlcm0uYCxcbiAgICBJTlZBTElEX1ZFQ1RPUl9JTlBVVDogYEludmFsaWQgXCJ2ZWN0b3JcIiBwcm9wZXJ0eS4gRXhwZWN0ZWQgYW4gb2JqZWN0IHdpdGggXCJ2YWx1ZVwiIGFuZCBcInByb3BlcnR5XCIgcHJvcGVydGllcywgYnV0IGdvdCBcIiVzXCIgaW5zdGVhZC5gLFxuICAgIFBMVUdJTl9DUkFTSEVEOiBgQSBwbHVnaW4gY3Jhc2hlZCBkdXJpbmcgaW5pdGlhbGl6YXRpb24uIFBsZWFzZSBjaGVjayB0aGUgZXJyb3IgbWVzc2FnZSBmb3IgbW9yZSBpbmZvcm1hdGlvbjpgLFxuICAgIFBMVUdJTl9TRUNVUkVfUFJPWFlfTk9UX0ZPVU5EOiBgQ291bGQgbm90IGZpbmQgJ0BvcmFtYS9zZWN1cmUtcHJveHktcGx1Z2luJyBpbnN0YWxsZWQgaW4geW91ciBPcmFtYSBpbnN0YW5jZS5cXG5QbGVhc2UgaW5zdGFsbCBpdCBiZWZvcmUgcHJvY2VlZGluZyB3aXRoIGNyZWF0aW5nIGFuIGFuc3dlciBzZXNzaW9uLlxcblJlYWQgbW9yZSBhdCBodHRwczovL2RvY3Mub3JhbWEuY29tL29wZW4tc291cmNlL3BsdWdpbnMvcGx1Z2luLXNlY3VyZS1wcm94eSNwbHVnaW4tc2VjdXJlLXByb3h5XFxuYCxcbiAgICBQTFVHSU5fU0VDVVJFX1BST1hZX01JU1NJTkdfQ0hBVF9NT0RFTDogYENvdWxkIG5vdCBmaW5kIGEgY2hhdCBtb2RlbCBkZWZpbmVkIGluIHRoZSBzZWN1cmUgcHJveHkgcGx1Z2luIGNvbmZpZ3VyYXRpb24uXFxuUGxlYXNlIHByb3ZpZGUgYSBjaGF0IG1vZGVsIGJlZm9yZSBwcm9jZWVkaW5nIHdpdGggY3JlYXRpbmcgYW4gYW5zd2VyIHNlc3Npb24uXFxuUmVhZCBtb3JlIGF0IGh0dHBzOi8vZG9jcy5vcmFtYS5jb20vb3Blbi1zb3VyY2UvcGx1Z2lucy9wbHVnaW4tc2VjdXJlLXByb3h5I3BsdWdpbi1zZWN1cmUtcHJveHlcXG5gLFxuICAgIEFOU1dFUl9TRVNTSU9OX0xBU1RfTUVTU0FHRV9JU19OT1RfQVNTSVNUQU5UOiBgVGhlIGxhc3QgbWVzc2FnZSBpbiB0aGUgc2Vzc2lvbiBpcyBub3QgYW4gYXNzaXN0YW50IG1lc3NhZ2UuIENhbm5vdCByZWdlbmVyYXRlIG5vbi1hc3Npc3RhbnQgbWVzc2FnZXMuYCxcbiAgICBQTFVHSU5fQ09NUE9ORU5UX0NPTkZMSUNUOiBgVGhlIGNvbXBvbmVudCBcIiVzXCIgaXMgYWxyZWFkeSBkZWZpbmVkLiBUaGUgcGx1Z2luIFwiJXNcIiBpcyB0cnlpbmcgdG8gcmVkZWZpbmUgaXQuYCxcbn07XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRXJyb3IoY29kZSwgLi4uYXJncykge1xuICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKHNwcmludGYoZXJyb3JzW2NvZGVdID8/IGBVbnN1cHBvcnRlZCBPcmFtYSBFcnJvciBjb2RlOiAke2NvZGV9YCwgLi4uYXJncykpO1xuICAgIGVycm9yLmNvZGUgPSBjb2RlO1xuICAgIGlmICgnY2FwdHVyZVN0YWNrVHJhY2UnIGluIEVycm9yLnByb3RvdHlwZSkge1xuICAgICAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZShlcnJvcik7XG4gICAgfVxuICAgIHJldHVybiBlcnJvcjtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVycm9ycy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@orama/orama/dist/browser/errors.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@orama/orama/dist/browser/index.js":
/*!*********************************************************!*\
  !*** ./node_modules/@orama/orama/dist/browser/index.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AnswerSession: () => (/* reexport safe */ _methods_answer_session_js__WEBPACK_IMPORTED_MODULE_8__.AnswerSession),\n/* harmony export */   MODE_FULLTEXT_SEARCH: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_9__.MODE_FULLTEXT_SEARCH),\n/* harmony export */   MODE_HYBRID_SEARCH: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_9__.MODE_HYBRID_SEARCH),\n/* harmony export */   MODE_VECTOR_SEARCH: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_9__.MODE_VECTOR_SEARCH),\n/* harmony export */   components: () => (/* reexport module object */ _components_js__WEBPACK_IMPORTED_MODULE_10__),\n/* harmony export */   count: () => (/* reexport safe */ _methods_docs_js__WEBPACK_IMPORTED_MODULE_1__.count),\n/* harmony export */   create: () => (/* reexport safe */ _methods_create_js__WEBPACK_IMPORTED_MODULE_0__.create),\n/* harmony export */   getByID: () => (/* reexport safe */ _methods_docs_js__WEBPACK_IMPORTED_MODULE_1__.getByID),\n/* harmony export */   insert: () => (/* reexport safe */ _methods_insert_js__WEBPACK_IMPORTED_MODULE_2__.insert),\n/* harmony export */   insertMultiple: () => (/* reexport safe */ _methods_insert_js__WEBPACK_IMPORTED_MODULE_2__.insertMultiple),\n/* harmony export */   internals: () => (/* reexport module object */ _internals_js__WEBPACK_IMPORTED_MODULE_11__),\n/* harmony export */   kInsertions: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_9__.kInsertions),\n/* harmony export */   kRemovals: () => (/* reexport safe */ _types_js__WEBPACK_IMPORTED_MODULE_9__.kRemovals),\n/* harmony export */   load: () => (/* reexport safe */ _methods_serialization_js__WEBPACK_IMPORTED_MODULE_6__.load),\n/* harmony export */   remove: () => (/* reexport safe */ _methods_remove_js__WEBPACK_IMPORTED_MODULE_3__.remove),\n/* harmony export */   removeMultiple: () => (/* reexport safe */ _methods_remove_js__WEBPACK_IMPORTED_MODULE_3__.removeMultiple),\n/* harmony export */   save: () => (/* reexport safe */ _methods_serialization_js__WEBPACK_IMPORTED_MODULE_6__.save),\n/* harmony export */   search: () => (/* reexport safe */ _methods_search_js__WEBPACK_IMPORTED_MODULE_4__.search),\n/* harmony export */   searchVector: () => (/* reexport safe */ _methods_search_vector_js__WEBPACK_IMPORTED_MODULE_5__.searchVector),\n/* harmony export */   update: () => (/* reexport safe */ _methods_update_js__WEBPACK_IMPORTED_MODULE_7__.update),\n/* harmony export */   updateMultiple: () => (/* reexport safe */ _methods_update_js__WEBPACK_IMPORTED_MODULE_7__.updateMultiple)\n/* harmony export */ });\n/* harmony import */ var _methods_create_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./methods/create.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/methods/create.js\");\n/* harmony import */ var _methods_docs_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./methods/docs.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/methods/docs.js\");\n/* harmony import */ var _methods_insert_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./methods/insert.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/methods/insert.js\");\n/* harmony import */ var _methods_remove_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./methods/remove.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/methods/remove.js\");\n/* harmony import */ var _methods_search_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./methods/search.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/methods/search.js\");\n/* harmony import */ var _methods_search_vector_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./methods/search-vector.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/methods/search-vector.js\");\n/* harmony import */ var _methods_serialization_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./methods/serialization.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/methods/serialization.js\");\n/* harmony import */ var _methods_update_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./methods/update.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/methods/update.js\");\n/* harmony import */ var _methods_answer_session_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./methods/answer-session.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/methods/answer-session.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./types.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/types.js\");\n/* harmony import */ var _components_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./components.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components.js\");\n/* harmony import */ var _internals_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./internals.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/internals.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9icm93c2VyL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUE2QztBQUNNO0FBQ1U7QUFDQTtBQUNoQjtBQUNhO0FBQ0Y7QUFDSztBQUNEO0FBQ2pDO0FBQ21CO0FBQ0Y7QUFDNUMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9hcmNoaWVtY2tlbnppZS9EZXNrdG9wL2d0LWxpYnJhcmllcy9kb2NzL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9icm93c2VyL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB7IGNyZWF0ZSB9IGZyb20gJy4vbWV0aG9kcy9jcmVhdGUuanMnO1xuZXhwb3J0IHsgY291bnQsIGdldEJ5SUQgfSBmcm9tICcuL21ldGhvZHMvZG9jcy5qcyc7XG5leHBvcnQgeyBpbnNlcnQsIGluc2VydE11bHRpcGxlIH0gZnJvbSAnLi9tZXRob2RzL2luc2VydC5qcyc7XG5leHBvcnQgeyByZW1vdmUsIHJlbW92ZU11bHRpcGxlIH0gZnJvbSAnLi9tZXRob2RzL3JlbW92ZS5qcyc7XG5leHBvcnQgeyBzZWFyY2ggfSBmcm9tICcuL21ldGhvZHMvc2VhcmNoLmpzJztcbmV4cG9ydCB7IHNlYXJjaFZlY3RvciB9IGZyb20gJy4vbWV0aG9kcy9zZWFyY2gtdmVjdG9yLmpzJztcbmV4cG9ydCB7IGxvYWQsIHNhdmUgfSBmcm9tICcuL21ldGhvZHMvc2VyaWFsaXphdGlvbi5qcyc7XG5leHBvcnQgeyB1cGRhdGUsIHVwZGF0ZU11bHRpcGxlIH0gZnJvbSAnLi9tZXRob2RzL3VwZGF0ZS5qcyc7XG5leHBvcnQgeyBBbnN3ZXJTZXNzaW9uIH0gZnJvbSAnLi9tZXRob2RzL2Fuc3dlci1zZXNzaW9uLmpzJztcbmV4cG9ydCAqIGZyb20gJy4vdHlwZXMuanMnO1xuZXhwb3J0ICogYXMgY29tcG9uZW50cyBmcm9tICcuL2NvbXBvbmVudHMuanMnO1xuZXhwb3J0ICogYXMgaW50ZXJuYWxzIGZyb20gJy4vaW50ZXJuYWxzLmpzJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@orama/orama/dist/browser/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@orama/orama/dist/browser/internals.js":
/*!*************************************************************!*\
  !*** ./node_modules/@orama/orama/dist/browser/internals.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   boundedLevenshtein: () => (/* reexport safe */ _components_levenshtein_js__WEBPACK_IMPORTED_MODULE_0__.boundedLevenshtein),\n/* harmony export */   convertDistanceToMeters: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_1__.convertDistanceToMeters),\n/* harmony export */   formatBytes: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_1__.formatBytes),\n/* harmony export */   formatNanoseconds: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_1__.formatNanoseconds),\n/* harmony export */   getNanosecondsTime: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_1__.getNanosecondsTime),\n/* harmony export */   normalizeToken: () => (/* reexport safe */ _components_tokenizer_index_js__WEBPACK_IMPORTED_MODULE_2__.normalizeToken),\n/* harmony export */   safeArrayPush: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_1__.safeArrayPush),\n/* harmony export */   setIntersection: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_1__.setIntersection),\n/* harmony export */   setUnion: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_1__.setUnion),\n/* harmony export */   uniqueId: () => (/* reexport safe */ _utils_js__WEBPACK_IMPORTED_MODULE_1__.uniqueId)\n/* harmony export */ });\n/* harmony import */ var _components_levenshtein_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./components/levenshtein.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/levenshtein.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/utils.js\");\n/* harmony import */ var _components_tokenizer_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components/tokenizer/index.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/tokenizer/index.js\");\n\n\n\n//# sourceMappingURL=internals.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9icm93c2VyL2ludGVybmFscy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQWlFO0FBQzZGO0FBQzdGO0FBQ2pFIiwic291cmNlcyI6WyIvVXNlcnMvYXJjaGllbWNrZW56aWUvRGVza3RvcC9ndC1saWJyYXJpZXMvZG9jcy9ub2RlX21vZHVsZXMvQG9yYW1hL29yYW1hL2Rpc3QvYnJvd3Nlci9pbnRlcm5hbHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHsgYm91bmRlZExldmVuc2h0ZWluIH0gZnJvbSAnLi9jb21wb25lbnRzL2xldmVuc2h0ZWluLmpzJztcbmV4cG9ydCB7IGZvcm1hdEJ5dGVzLCBmb3JtYXROYW5vc2Vjb25kcywgZ2V0TmFub3NlY29uZHNUaW1lLCB1bmlxdWVJZCwgY29udmVydERpc3RhbmNlVG9NZXRlcnMsIHNhZmVBcnJheVB1c2gsIHNldEludGVyc2VjdGlvbiwgc2V0VW5pb24sIH0gZnJvbSAnLi91dGlscy5qcyc7XG5leHBvcnQgeyBub3JtYWxpemVUb2tlbiB9IGZyb20gJy4vY29tcG9uZW50cy90b2tlbml6ZXIvaW5kZXguanMnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW50ZXJuYWxzLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@orama/orama/dist/browser/internals.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@orama/orama/dist/browser/methods/answer-session.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@orama/orama/dist/browser/methods/answer-session.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AnswerSession: () => (/* binding */ AnswerSession)\n/* harmony export */ });\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../errors.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/errors.js\");\n/* harmony import */ var _search_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./search.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/methods/search.js\");\n\n\nconst ORAMA_SECURE_PROXY_PLUGIN_NAME = 'orama-secure-proxy';\nclass AnswerSession {\n    db;\n    proxy = null;\n    config;\n    abortController = null;\n    lastInteractionParams = null;\n    chatModel = null;\n    conversationID;\n    messages = [];\n    events;\n    initPromise;\n    state = [];\n    constructor(db, config) {\n        this.db = db;\n        this.config = config;\n        this.init();\n        this.messages = config.initialMessages || [];\n        this.events = config.events || {};\n        this.conversationID = config.conversationID || this.generateRandomID();\n    }\n    async ask(query) {\n        await this.initPromise;\n        let output = '';\n        for await (const msg of await this.askStream(query)) {\n            output += msg;\n        }\n        return output;\n    }\n    async askStream(query) {\n        await this.initPromise;\n        return this.fetchAnswer(query);\n    }\n    abortAnswer() {\n        this.abortController?.abort();\n        this.state[this.state.length - 1].aborted = true;\n        this.triggerStateChange();\n    }\n    getMessages() {\n        return this.messages;\n    }\n    clearSession() {\n        this.messages = [];\n        this.state = [];\n    }\n    regenerateLast({ stream = true }) {\n        if (this.state.length === 0 || this.messages.length === 0) {\n            throw new Error('No messages to regenerate');\n        }\n        const isLastMessageAssistant = this.messages.at(-1)?.role === 'assistant';\n        if (!isLastMessageAssistant) {\n            throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_0__.createError)('ANSWER_SESSION_LAST_MESSAGE_IS_NOT_ASSISTANT');\n        }\n        this.messages.pop();\n        this.state.pop();\n        if (stream) {\n            return this.askStream(this.lastInteractionParams);\n        }\n        return this.ask(this.lastInteractionParams);\n    }\n    async *fetchAnswer(params) {\n        if (!this.chatModel) {\n            throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_0__.createError)('PLUGIN_SECURE_PROXY_MISSING_CHAT_MODEL');\n        }\n        this.abortController = new AbortController();\n        this.lastInteractionParams = params;\n        const interactionId = this.generateRandomID();\n        this.messages.push({ role: 'user', content: params.term ?? '' });\n        this.state.push({\n            interactionId,\n            aborted: false,\n            loading: true,\n            query: params.term ?? '',\n            response: '',\n            sources: null,\n            translatedQuery: null,\n            error: false,\n            errorMessage: null\n        });\n        const stateIdx = this.state.length - 1;\n        this.addEmptyAssistantMessage();\n        this.triggerStateChange();\n        try {\n            const sources = await (0,_search_js__WEBPACK_IMPORTED_MODULE_1__.search)(this.db, params);\n            this.state[stateIdx].sources = sources;\n            this.triggerStateChange();\n            for await (const msg of this.proxy.chatStream({ model: this.chatModel, messages: this.messages })) {\n                yield msg;\n                this.state[stateIdx].response += msg;\n                this.messages.findLast((msg) => msg.role === 'assistant').content += msg;\n                this.triggerStateChange();\n            }\n        }\n        catch (err) {\n            if (err.name === 'AbortError') {\n                this.state[stateIdx].aborted = true;\n            }\n            else {\n                this.state[stateIdx].error = true;\n                this.state[stateIdx].errorMessage = err.toString();\n            }\n            this.triggerStateChange();\n        }\n        this.state[stateIdx].loading = false;\n        this.triggerStateChange();\n        return this.state[stateIdx].response;\n    }\n    generateRandomID(length = 24) {\n        return Array.from({ length }, () => Math.floor(Math.random() * 36).toString(36)).join('');\n    }\n    triggerStateChange() {\n        if (this.events.onStateChange) {\n            this.events.onStateChange(this.state);\n        }\n    }\n    async init() {\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        const self = this;\n        async function getPlugin() {\n            return await self.db.plugins.find((plugin) => plugin.name === ORAMA_SECURE_PROXY_PLUGIN_NAME);\n        }\n        const plugin = await getPlugin();\n        if (!plugin) {\n            throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_0__.createError)('PLUGIN_SECURE_PROXY_NOT_FOUND');\n        }\n        const pluginExtras = plugin.extra;\n        this.proxy = pluginExtras.proxy;\n        if (this.config.systemPrompt) {\n            this.messages.push({ role: 'system', content: this.config.systemPrompt });\n        }\n        if (pluginExtras?.pluginParams?.chat?.model) {\n            this.chatModel = pluginExtras.pluginParams.chat.model;\n        }\n        else {\n            throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_0__.createError)('PLUGIN_SECURE_PROXY_MISSING_CHAT_MODEL');\n        }\n    }\n    addEmptyAssistantMessage() {\n        this.messages.push({ role: 'assistant', content: '' });\n    }\n}\n//# sourceMappingURL=answer-session.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9icm93c2VyL21ldGhvZHMvYW5zd2VyLXNlc3Npb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTJDO0FBQ047QUFDckM7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLGVBQWU7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQix1REFBVztBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQix1REFBVztBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QiwwQ0FBMEM7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0Msa0RBQU07QUFDeEM7QUFDQTtBQUNBLDREQUE0RCxnREFBZ0Q7QUFDNUc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLFFBQVE7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQix1REFBVztBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxtREFBbUQ7QUFDcEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQix1REFBVztBQUM3QjtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsZ0NBQWdDO0FBQzdEO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL2FyY2hpZW1ja2VuemllL0Rlc2t0b3AvZ3QtbGlicmFyaWVzL2RvY3Mvbm9kZV9tb2R1bGVzL0BvcmFtYS9vcmFtYS9kaXN0L2Jyb3dzZXIvbWV0aG9kcy9hbnN3ZXItc2Vzc2lvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVFcnJvciB9IGZyb20gJy4uL2Vycm9ycy5qcyc7XG5pbXBvcnQgeyBzZWFyY2ggfSBmcm9tICcuL3NlYXJjaC5qcyc7XG5jb25zdCBPUkFNQV9TRUNVUkVfUFJPWFlfUExVR0lOX05BTUUgPSAnb3JhbWEtc2VjdXJlLXByb3h5JztcbmV4cG9ydCBjbGFzcyBBbnN3ZXJTZXNzaW9uIHtcbiAgICBkYjtcbiAgICBwcm94eSA9IG51bGw7XG4gICAgY29uZmlnO1xuICAgIGFib3J0Q29udHJvbGxlciA9IG51bGw7XG4gICAgbGFzdEludGVyYWN0aW9uUGFyYW1zID0gbnVsbDtcbiAgICBjaGF0TW9kZWwgPSBudWxsO1xuICAgIGNvbnZlcnNhdGlvbklEO1xuICAgIG1lc3NhZ2VzID0gW107XG4gICAgZXZlbnRzO1xuICAgIGluaXRQcm9taXNlO1xuICAgIHN0YXRlID0gW107XG4gICAgY29uc3RydWN0b3IoZGIsIGNvbmZpZykge1xuICAgICAgICB0aGlzLmRiID0gZGI7XG4gICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgICAgICB0aGlzLmluaXQoKTtcbiAgICAgICAgdGhpcy5tZXNzYWdlcyA9IGNvbmZpZy5pbml0aWFsTWVzc2FnZXMgfHwgW107XG4gICAgICAgIHRoaXMuZXZlbnRzID0gY29uZmlnLmV2ZW50cyB8fCB7fTtcbiAgICAgICAgdGhpcy5jb252ZXJzYXRpb25JRCA9IGNvbmZpZy5jb252ZXJzYXRpb25JRCB8fCB0aGlzLmdlbmVyYXRlUmFuZG9tSUQoKTtcbiAgICB9XG4gICAgYXN5bmMgYXNrKHF1ZXJ5KSB7XG4gICAgICAgIGF3YWl0IHRoaXMuaW5pdFByb21pc2U7XG4gICAgICAgIGxldCBvdXRwdXQgPSAnJztcbiAgICAgICAgZm9yIGF3YWl0IChjb25zdCBtc2cgb2YgYXdhaXQgdGhpcy5hc2tTdHJlYW0ocXVlcnkpKSB7XG4gICAgICAgICAgICBvdXRwdXQgKz0gbXNnO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfVxuICAgIGFzeW5jIGFza1N0cmVhbShxdWVyeSkge1xuICAgICAgICBhd2FpdCB0aGlzLmluaXRQcm9taXNlO1xuICAgICAgICByZXR1cm4gdGhpcy5mZXRjaEFuc3dlcihxdWVyeSk7XG4gICAgfVxuICAgIGFib3J0QW5zd2VyKCkge1xuICAgICAgICB0aGlzLmFib3J0Q29udHJvbGxlcj8uYWJvcnQoKTtcbiAgICAgICAgdGhpcy5zdGF0ZVt0aGlzLnN0YXRlLmxlbmd0aCAtIDFdLmFib3J0ZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLnRyaWdnZXJTdGF0ZUNoYW5nZSgpO1xuICAgIH1cbiAgICBnZXRNZXNzYWdlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWVzc2FnZXM7XG4gICAgfVxuICAgIGNsZWFyU2Vzc2lvbigpIHtcbiAgICAgICAgdGhpcy5tZXNzYWdlcyA9IFtdO1xuICAgICAgICB0aGlzLnN0YXRlID0gW107XG4gICAgfVxuICAgIHJlZ2VuZXJhdGVMYXN0KHsgc3RyZWFtID0gdHJ1ZSB9KSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmxlbmd0aCA9PT0gMCB8fCB0aGlzLm1lc3NhZ2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBtZXNzYWdlcyB0byByZWdlbmVyYXRlJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaXNMYXN0TWVzc2FnZUFzc2lzdGFudCA9IHRoaXMubWVzc2FnZXMuYXQoLTEpPy5yb2xlID09PSAnYXNzaXN0YW50JztcbiAgICAgICAgaWYgKCFpc0xhc3RNZXNzYWdlQXNzaXN0YW50KSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignQU5TV0VSX1NFU1NJT05fTEFTVF9NRVNTQUdFX0lTX05PVF9BU1NJU1RBTlQnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1lc3NhZ2VzLnBvcCgpO1xuICAgICAgICB0aGlzLnN0YXRlLnBvcCgpO1xuICAgICAgICBpZiAoc3RyZWFtKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hc2tTdHJlYW0odGhpcy5sYXN0SW50ZXJhY3Rpb25QYXJhbXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmFzayh0aGlzLmxhc3RJbnRlcmFjdGlvblBhcmFtcyk7XG4gICAgfVxuICAgIGFzeW5jICpmZXRjaEFuc3dlcihwYXJhbXMpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNoYXRNb2RlbCkge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoJ1BMVUdJTl9TRUNVUkVfUFJPWFlfTUlTU0lOR19DSEFUX01PREVMJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hYm9ydENvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgICAgIHRoaXMubGFzdEludGVyYWN0aW9uUGFyYW1zID0gcGFyYW1zO1xuICAgICAgICBjb25zdCBpbnRlcmFjdGlvbklkID0gdGhpcy5nZW5lcmF0ZVJhbmRvbUlEKCk7XG4gICAgICAgIHRoaXMubWVzc2FnZXMucHVzaCh7IHJvbGU6ICd1c2VyJywgY29udGVudDogcGFyYW1zLnRlcm0gPz8gJycgfSk7XG4gICAgICAgIHRoaXMuc3RhdGUucHVzaCh7XG4gICAgICAgICAgICBpbnRlcmFjdGlvbklkLFxuICAgICAgICAgICAgYWJvcnRlZDogZmFsc2UsXG4gICAgICAgICAgICBsb2FkaW5nOiB0cnVlLFxuICAgICAgICAgICAgcXVlcnk6IHBhcmFtcy50ZXJtID8/ICcnLFxuICAgICAgICAgICAgcmVzcG9uc2U6ICcnLFxuICAgICAgICAgICAgc291cmNlczogbnVsbCxcbiAgICAgICAgICAgIHRyYW5zbGF0ZWRRdWVyeTogbnVsbCxcbiAgICAgICAgICAgIGVycm9yOiBmYWxzZSxcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogbnVsbFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3Qgc3RhdGVJZHggPSB0aGlzLnN0YXRlLmxlbmd0aCAtIDE7XG4gICAgICAgIHRoaXMuYWRkRW1wdHlBc3Npc3RhbnRNZXNzYWdlKCk7XG4gICAgICAgIHRoaXMudHJpZ2dlclN0YXRlQ2hhbmdlKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBzb3VyY2VzID0gYXdhaXQgc2VhcmNoKHRoaXMuZGIsIHBhcmFtcyk7XG4gICAgICAgICAgICB0aGlzLnN0YXRlW3N0YXRlSWR4XS5zb3VyY2VzID0gc291cmNlcztcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlclN0YXRlQ2hhbmdlKCk7XG4gICAgICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IG1zZyBvZiB0aGlzLnByb3h5LmNoYXRTdHJlYW0oeyBtb2RlbDogdGhpcy5jaGF0TW9kZWwsIG1lc3NhZ2VzOiB0aGlzLm1lc3NhZ2VzIH0pKSB7XG4gICAgICAgICAgICAgICAgeWllbGQgbXNnO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVbc3RhdGVJZHhdLnJlc3BvbnNlICs9IG1zZztcbiAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2VzLmZpbmRMYXN0KChtc2cpID0+IG1zZy5yb2xlID09PSAnYXNzaXN0YW50JykuY29udGVudCArPSBtc2c7XG4gICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VyU3RhdGVDaGFuZ2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBpZiAoZXJyLm5hbWUgPT09ICdBYm9ydEVycm9yJykge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVbc3RhdGVJZHhdLmFib3J0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZVtzdGF0ZUlkeF0uZXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVbc3RhdGVJZHhdLmVycm9yTWVzc2FnZSA9IGVyci50b1N0cmluZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy50cmlnZ2VyU3RhdGVDaGFuZ2UoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YXRlW3N0YXRlSWR4XS5sb2FkaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMudHJpZ2dlclN0YXRlQ2hhbmdlKCk7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXRlW3N0YXRlSWR4XS5yZXNwb25zZTtcbiAgICB9XG4gICAgZ2VuZXJhdGVSYW5kb21JRChsZW5ndGggPSAyNCkge1xuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh7IGxlbmd0aCB9LCAoKSA9PiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAzNikudG9TdHJpbmcoMzYpKS5qb2luKCcnKTtcbiAgICB9XG4gICAgdHJpZ2dlclN0YXRlQ2hhbmdlKCkge1xuICAgICAgICBpZiAodGhpcy5ldmVudHMub25TdGF0ZUNoYW5nZSkge1xuICAgICAgICAgICAgdGhpcy5ldmVudHMub25TdGF0ZUNoYW5nZSh0aGlzLnN0YXRlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBpbml0KCkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXRoaXMtYWxpYXNcbiAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgICAgIGFzeW5jIGZ1bmN0aW9uIGdldFBsdWdpbigpIHtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCBzZWxmLmRiLnBsdWdpbnMuZmluZCgocGx1Z2luKSA9PiBwbHVnaW4ubmFtZSA9PT0gT1JBTUFfU0VDVVJFX1BST1hZX1BMVUdJTl9OQU1FKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwbHVnaW4gPSBhd2FpdCBnZXRQbHVnaW4oKTtcbiAgICAgICAgaWYgKCFwbHVnaW4pIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUVycm9yKCdQTFVHSU5fU0VDVVJFX1BST1hZX05PVF9GT1VORCcpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBsdWdpbkV4dHJhcyA9IHBsdWdpbi5leHRyYTtcbiAgICAgICAgdGhpcy5wcm94eSA9IHBsdWdpbkV4dHJhcy5wcm94eTtcbiAgICAgICAgaWYgKHRoaXMuY29uZmlnLnN5c3RlbVByb21wdCkge1xuICAgICAgICAgICAgdGhpcy5tZXNzYWdlcy5wdXNoKHsgcm9sZTogJ3N5c3RlbScsIGNvbnRlbnQ6IHRoaXMuY29uZmlnLnN5c3RlbVByb21wdCB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGx1Z2luRXh0cmFzPy5wbHVnaW5QYXJhbXM/LmNoYXQ/Lm1vZGVsKSB7XG4gICAgICAgICAgICB0aGlzLmNoYXRNb2RlbCA9IHBsdWdpbkV4dHJhcy5wbHVnaW5QYXJhbXMuY2hhdC5tb2RlbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUVycm9yKCdQTFVHSU5fU0VDVVJFX1BST1hZX01JU1NJTkdfQ0hBVF9NT0RFTCcpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFkZEVtcHR5QXNzaXN0YW50TWVzc2FnZSgpIHtcbiAgICAgICAgdGhpcy5tZXNzYWdlcy5wdXNoKHsgcm9sZTogJ2Fzc2lzdGFudCcsIGNvbnRlbnQ6ICcnIH0pO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFuc3dlci1zZXNzaW9uLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@orama/orama/dist/browser/methods/answer-session.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@orama/orama/dist/browser/methods/create.js":
/*!******************************************************************!*\
  !*** ./node_modules/@orama/orama/dist/browser/methods/create.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   create: () => (/* binding */ create)\n/* harmony export */ });\n/* harmony import */ var _components_defaults_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../components/defaults.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/defaults.js\");\n/* harmony import */ var _components_documents_store_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/documents-store.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/documents-store.js\");\n/* harmony import */ var _components_plugins_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/plugins.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/plugins.js\");\n/* harmony import */ var _components_hooks_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/hooks.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/hooks.js\");\n/* harmony import */ var _components_index_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/index.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/index.js\");\n/* harmony import */ var _components_internal_document_id_store_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/internal-document-id-store.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/internal-document-id-store.js\");\n/* harmony import */ var _components_sorter_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../components/sorter.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/sorter.js\");\n/* harmony import */ var _components_tokenizer_index_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../components/tokenizer/index.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/tokenizer/index.js\");\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../errors.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/errors.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../utils.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/utils.js\");\n\n\n\n\n\n\n\n\n\n\nfunction validateComponents(components) {\n    const defaultComponents = {\n        formatElapsedTime: _components_defaults_js__WEBPACK_IMPORTED_MODULE_0__.formatElapsedTime,\n        getDocumentIndexId: _components_defaults_js__WEBPACK_IMPORTED_MODULE_0__.getDocumentIndexId,\n        getDocumentProperties: _components_defaults_js__WEBPACK_IMPORTED_MODULE_0__.getDocumentProperties,\n        validateSchema: _components_defaults_js__WEBPACK_IMPORTED_MODULE_0__.validateSchema\n    };\n    for (const rawKey of _components_hooks_js__WEBPACK_IMPORTED_MODULE_3__.FUNCTION_COMPONENTS) {\n        const key = rawKey;\n        if (components[key]) {\n            if (typeof components[key] !== 'function') {\n                throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_8__.createError)('COMPONENT_MUST_BE_FUNCTION', key);\n            }\n        }\n        else {\n            // @ts-expect-error TSC is unable to resolve this\n            components[key] = defaultComponents[key];\n        }\n    }\n    for (const rawKey of Object.keys(components)) {\n        if (!_components_hooks_js__WEBPACK_IMPORTED_MODULE_3__.OBJECT_COMPONENTS.includes(rawKey) && !_components_hooks_js__WEBPACK_IMPORTED_MODULE_3__.FUNCTION_COMPONENTS.includes(rawKey)) {\n            throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_8__.createError)('UNSUPPORTED_COMPONENT', rawKey);\n        }\n    }\n}\nfunction create({ schema, sort, language, components, id, plugins }) {\n    if (!components) {\n        components = {};\n    }\n    for (const plugin of plugins ?? []) {\n        if (!('getComponents' in plugin)) {\n            continue;\n        }\n        if (typeof plugin.getComponents !== 'function') {\n            continue;\n        }\n        const pluginComponents = plugin.getComponents(schema);\n        const keys = Object.keys(pluginComponents);\n        for (const key of keys) {\n            if (components[key]) {\n                throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_8__.createError)('PLUGIN_COMPONENT_CONFLICT', key, plugin.name);\n            }\n        }\n        components = {\n            ...components,\n            ...pluginComponents\n        };\n    }\n    if (!id) {\n        id = (0,_utils_js__WEBPACK_IMPORTED_MODULE_9__.uniqueId)();\n    }\n    let tokenizer = components.tokenizer;\n    let index = components.index;\n    let documentsStore = components.documentsStore;\n    let sorter = components.sorter;\n    if (!tokenizer) {\n        // Use the default tokenizer\n        tokenizer = (0,_components_tokenizer_index_js__WEBPACK_IMPORTED_MODULE_7__.createTokenizer)({ language: language ?? 'english' });\n    }\n    else if (!tokenizer.tokenize) {\n        // If there is no tokenizer function, we assume this is a TokenizerConfig\n        tokenizer = (0,_components_tokenizer_index_js__WEBPACK_IMPORTED_MODULE_7__.createTokenizer)(tokenizer);\n    }\n    else {\n        const customTokenizer = tokenizer;\n        tokenizer = customTokenizer;\n    }\n    if (components.tokenizer && language) {\n        // Accept language only if a tokenizer is not provided\n        throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_8__.createError)('NO_LANGUAGE_WITH_CUSTOM_TOKENIZER');\n    }\n    const internalDocumentStore = (0,_components_internal_document_id_store_js__WEBPACK_IMPORTED_MODULE_5__.createInternalDocumentIDStore)();\n    index ||= (0,_components_index_js__WEBPACK_IMPORTED_MODULE_4__.createIndex)();\n    sorter ||= (0,_components_sorter_js__WEBPACK_IMPORTED_MODULE_6__.createSorter)();\n    documentsStore ||= (0,_components_documents_store_js__WEBPACK_IMPORTED_MODULE_1__.createDocumentsStore)();\n    // Validate all other components\n    validateComponents(components);\n    // Assign only recognized components and hooks\n    const { getDocumentProperties, getDocumentIndexId, validateSchema, formatElapsedTime } = components;\n    const orama = {\n        data: {},\n        caches: {},\n        schema,\n        tokenizer,\n        index,\n        sorter,\n        documentsStore,\n        internalDocumentIDStore: internalDocumentStore,\n        getDocumentProperties,\n        getDocumentIndexId,\n        validateSchema,\n        beforeInsert: [],\n        afterInsert: [],\n        beforeRemove: [],\n        afterRemove: [],\n        beforeUpdate: [],\n        afterUpdate: [],\n        beforeSearch: [],\n        afterSearch: [],\n        beforeInsertMultiple: [],\n        afterInsertMultiple: [],\n        beforeRemoveMultiple: [],\n        afterRemoveMultiple: [],\n        afterUpdateMultiple: [],\n        beforeUpdateMultiple: [],\n        afterCreate: [],\n        formatElapsedTime,\n        id,\n        plugins,\n        version: getVersion()\n    };\n    orama.data = {\n        index: orama.index.create(orama, internalDocumentStore, schema),\n        docs: orama.documentsStore.create(orama, internalDocumentStore),\n        sorting: orama.sorter.create(orama, internalDocumentStore, schema, sort)\n    };\n    for (const hook of _components_plugins_js__WEBPACK_IMPORTED_MODULE_2__.AVAILABLE_PLUGIN_HOOKS) {\n        orama[hook] = (orama[hook] ?? []).concat((0,_components_plugins_js__WEBPACK_IMPORTED_MODULE_2__.getAllPluginsByHook)(orama, hook));\n    }\n    const afterCreate = orama['afterCreate'];\n    if (afterCreate) {\n        (0,_components_hooks_js__WEBPACK_IMPORTED_MODULE_3__.runAfterCreate)(afterCreate, orama);\n    }\n    return orama;\n}\nfunction getVersion() {\n    return '{{VERSION}}';\n}\n//# sourceMappingURL=create.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9icm93c2VyL21ldGhvZHMvY3JlYXRlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQXlIO0FBQ2pEO0FBQ2U7QUFDUztBQUMzQztBQUN1QztBQUNyQztBQUNZO0FBQ3hCO0FBQ0o7QUFDdkM7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QiwwQkFBMEI7QUFDMUIsNkJBQTZCO0FBQzdCLHNCQUFzQjtBQUN0QjtBQUNBLHlCQUF5QixxRUFBbUI7QUFDNUM7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLHVEQUFXO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLG1FQUFpQixzQkFBc0IscUVBQW1CO0FBQ3ZFLGtCQUFrQix1REFBVztBQUM3QjtBQUNBO0FBQ0E7QUFDTyxrQkFBa0IsaURBQWlEO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsdURBQVc7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsbURBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsK0VBQWUsR0FBRyxpQ0FBaUM7QUFDdkU7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLCtFQUFlO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyx1REFBVztBQUN6QjtBQUNBLGtDQUFrQyx3R0FBNkI7QUFDL0QsY0FBYyxpRUFBVztBQUN6QixlQUFlLG1FQUFZO0FBQzNCLHVCQUF1QixvRkFBb0I7QUFDM0M7QUFDQTtBQUNBO0FBQ0EsWUFBWSwrRUFBK0U7QUFDM0Y7QUFDQSxnQkFBZ0I7QUFDaEIsa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLDBFQUFzQjtBQUM3QyxpREFBaUQsMkVBQW1CO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBLFFBQVEsb0VBQWM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLFNBQVM7QUFDdkI7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL2FyY2hpZW1ja2VuemllL0Rlc2t0b3AvZ3QtbGlicmFyaWVzL2RvY3Mvbm9kZV9tb2R1bGVzL0BvcmFtYS9vcmFtYS9kaXN0L2Jyb3dzZXIvbWV0aG9kcy9jcmVhdGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZm9ybWF0RWxhcHNlZFRpbWUsIGdldERvY3VtZW50SW5kZXhJZCwgZ2V0RG9jdW1lbnRQcm9wZXJ0aWVzLCB2YWxpZGF0ZVNjaGVtYSB9IGZyb20gJy4uL2NvbXBvbmVudHMvZGVmYXVsdHMuanMnO1xuaW1wb3J0IHsgY3JlYXRlRG9jdW1lbnRzU3RvcmUgfSBmcm9tICcuLi9jb21wb25lbnRzL2RvY3VtZW50cy1zdG9yZS5qcyc7XG5pbXBvcnQgeyBBVkFJTEFCTEVfUExVR0lOX0hPT0tTLCBnZXRBbGxQbHVnaW5zQnlIb29rIH0gZnJvbSAnLi4vY29tcG9uZW50cy9wbHVnaW5zLmpzJztcbmltcG9ydCB7IEZVTkNUSU9OX0NPTVBPTkVOVFMsIE9CSkVDVF9DT01QT05FTlRTLCBydW5BZnRlckNyZWF0ZSB9IGZyb20gJy4uL2NvbXBvbmVudHMvaG9va3MuanMnO1xuaW1wb3J0IHsgY3JlYXRlSW5kZXggfSBmcm9tICcuLi9jb21wb25lbnRzL2luZGV4LmpzJztcbmltcG9ydCB7IGNyZWF0ZUludGVybmFsRG9jdW1lbnRJRFN0b3JlIH0gZnJvbSAnLi4vY29tcG9uZW50cy9pbnRlcm5hbC1kb2N1bWVudC1pZC1zdG9yZS5qcyc7XG5pbXBvcnQgeyBjcmVhdGVTb3J0ZXIgfSBmcm9tICcuLi9jb21wb25lbnRzL3NvcnRlci5qcyc7XG5pbXBvcnQgeyBjcmVhdGVUb2tlbml6ZXIgfSBmcm9tICcuLi9jb21wb25lbnRzL3Rva2VuaXplci9pbmRleC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVFcnJvciB9IGZyb20gJy4uL2Vycm9ycy5qcyc7XG5pbXBvcnQgeyB1bmlxdWVJZCB9IGZyb20gJy4uL3V0aWxzLmpzJztcbmZ1bmN0aW9uIHZhbGlkYXRlQ29tcG9uZW50cyhjb21wb25lbnRzKSB7XG4gICAgY29uc3QgZGVmYXVsdENvbXBvbmVudHMgPSB7XG4gICAgICAgIGZvcm1hdEVsYXBzZWRUaW1lLFxuICAgICAgICBnZXREb2N1bWVudEluZGV4SWQsXG4gICAgICAgIGdldERvY3VtZW50UHJvcGVydGllcyxcbiAgICAgICAgdmFsaWRhdGVTY2hlbWFcbiAgICB9O1xuICAgIGZvciAoY29uc3QgcmF3S2V5IG9mIEZVTkNUSU9OX0NPTVBPTkVOVFMpIHtcbiAgICAgICAgY29uc3Qga2V5ID0gcmF3S2V5O1xuICAgICAgICBpZiAoY29tcG9uZW50c1trZXldKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbXBvbmVudHNba2V5XSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZUVycm9yKCdDT01QT05FTlRfTVVTVF9CRV9GVU5DVElPTicsIGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIFRTQyBpcyB1bmFibGUgdG8gcmVzb2x2ZSB0aGlzXG4gICAgICAgICAgICBjb21wb25lbnRzW2tleV0gPSBkZWZhdWx0Q29tcG9uZW50c1trZXldO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZvciAoY29uc3QgcmF3S2V5IG9mIE9iamVjdC5rZXlzKGNvbXBvbmVudHMpKSB7XG4gICAgICAgIGlmICghT0JKRUNUX0NPTVBPTkVOVFMuaW5jbHVkZXMocmF3S2V5KSAmJiAhRlVOQ1RJT05fQ09NUE9ORU5UUy5pbmNsdWRlcyhyYXdLZXkpKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignVU5TVVBQT1JURURfQ09NUE9ORU5UJywgcmF3S2V5KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoeyBzY2hlbWEsIHNvcnQsIGxhbmd1YWdlLCBjb21wb25lbnRzLCBpZCwgcGx1Z2lucyB9KSB7XG4gICAgaWYgKCFjb21wb25lbnRzKSB7XG4gICAgICAgIGNvbXBvbmVudHMgPSB7fTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBwbHVnaW4gb2YgcGx1Z2lucyA/PyBbXSkge1xuICAgICAgICBpZiAoISgnZ2V0Q29tcG9uZW50cycgaW4gcGx1Z2luKSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBwbHVnaW4uZ2V0Q29tcG9uZW50cyAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGx1Z2luQ29tcG9uZW50cyA9IHBsdWdpbi5nZXRDb21wb25lbnRzKHNjaGVtYSk7XG4gICAgICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhwbHVnaW5Db21wb25lbnRzKTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2Yga2V5cykge1xuICAgICAgICAgICAgaWYgKGNvbXBvbmVudHNba2V5XSkge1xuICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZUVycm9yKCdQTFVHSU5fQ09NUE9ORU5UX0NPTkZMSUNUJywga2V5LCBwbHVnaW4ubmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29tcG9uZW50cyA9IHtcbiAgICAgICAgICAgIC4uLmNvbXBvbmVudHMsXG4gICAgICAgICAgICAuLi5wbHVnaW5Db21wb25lbnRzXG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmICghaWQpIHtcbiAgICAgICAgaWQgPSB1bmlxdWVJZCgpO1xuICAgIH1cbiAgICBsZXQgdG9rZW5pemVyID0gY29tcG9uZW50cy50b2tlbml6ZXI7XG4gICAgbGV0IGluZGV4ID0gY29tcG9uZW50cy5pbmRleDtcbiAgICBsZXQgZG9jdW1lbnRzU3RvcmUgPSBjb21wb25lbnRzLmRvY3VtZW50c1N0b3JlO1xuICAgIGxldCBzb3J0ZXIgPSBjb21wb25lbnRzLnNvcnRlcjtcbiAgICBpZiAoIXRva2VuaXplcikge1xuICAgICAgICAvLyBVc2UgdGhlIGRlZmF1bHQgdG9rZW5pemVyXG4gICAgICAgIHRva2VuaXplciA9IGNyZWF0ZVRva2VuaXplcih7IGxhbmd1YWdlOiBsYW5ndWFnZSA/PyAnZW5nbGlzaCcgfSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKCF0b2tlbml6ZXIudG9rZW5pemUpIHtcbiAgICAgICAgLy8gSWYgdGhlcmUgaXMgbm8gdG9rZW5pemVyIGZ1bmN0aW9uLCB3ZSBhc3N1bWUgdGhpcyBpcyBhIFRva2VuaXplckNvbmZpZ1xuICAgICAgICB0b2tlbml6ZXIgPSBjcmVhdGVUb2tlbml6ZXIodG9rZW5pemVyKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IGN1c3RvbVRva2VuaXplciA9IHRva2VuaXplcjtcbiAgICAgICAgdG9rZW5pemVyID0gY3VzdG9tVG9rZW5pemVyO1xuICAgIH1cbiAgICBpZiAoY29tcG9uZW50cy50b2tlbml6ZXIgJiYgbGFuZ3VhZ2UpIHtcbiAgICAgICAgLy8gQWNjZXB0IGxhbmd1YWdlIG9ubHkgaWYgYSB0b2tlbml6ZXIgaXMgbm90IHByb3ZpZGVkXG4gICAgICAgIHRocm93IGNyZWF0ZUVycm9yKCdOT19MQU5HVUFHRV9XSVRIX0NVU1RPTV9UT0tFTklaRVInKTtcbiAgICB9XG4gICAgY29uc3QgaW50ZXJuYWxEb2N1bWVudFN0b3JlID0gY3JlYXRlSW50ZXJuYWxEb2N1bWVudElEU3RvcmUoKTtcbiAgICBpbmRleCB8fD0gY3JlYXRlSW5kZXgoKTtcbiAgICBzb3J0ZXIgfHw9IGNyZWF0ZVNvcnRlcigpO1xuICAgIGRvY3VtZW50c1N0b3JlIHx8PSBjcmVhdGVEb2N1bWVudHNTdG9yZSgpO1xuICAgIC8vIFZhbGlkYXRlIGFsbCBvdGhlciBjb21wb25lbnRzXG4gICAgdmFsaWRhdGVDb21wb25lbnRzKGNvbXBvbmVudHMpO1xuICAgIC8vIEFzc2lnbiBvbmx5IHJlY29nbml6ZWQgY29tcG9uZW50cyBhbmQgaG9va3NcbiAgICBjb25zdCB7IGdldERvY3VtZW50UHJvcGVydGllcywgZ2V0RG9jdW1lbnRJbmRleElkLCB2YWxpZGF0ZVNjaGVtYSwgZm9ybWF0RWxhcHNlZFRpbWUgfSA9IGNvbXBvbmVudHM7XG4gICAgY29uc3Qgb3JhbWEgPSB7XG4gICAgICAgIGRhdGE6IHt9LFxuICAgICAgICBjYWNoZXM6IHt9LFxuICAgICAgICBzY2hlbWEsXG4gICAgICAgIHRva2VuaXplcixcbiAgICAgICAgaW5kZXgsXG4gICAgICAgIHNvcnRlcixcbiAgICAgICAgZG9jdW1lbnRzU3RvcmUsXG4gICAgICAgIGludGVybmFsRG9jdW1lbnRJRFN0b3JlOiBpbnRlcm5hbERvY3VtZW50U3RvcmUsXG4gICAgICAgIGdldERvY3VtZW50UHJvcGVydGllcyxcbiAgICAgICAgZ2V0RG9jdW1lbnRJbmRleElkLFxuICAgICAgICB2YWxpZGF0ZVNjaGVtYSxcbiAgICAgICAgYmVmb3JlSW5zZXJ0OiBbXSxcbiAgICAgICAgYWZ0ZXJJbnNlcnQ6IFtdLFxuICAgICAgICBiZWZvcmVSZW1vdmU6IFtdLFxuICAgICAgICBhZnRlclJlbW92ZTogW10sXG4gICAgICAgIGJlZm9yZVVwZGF0ZTogW10sXG4gICAgICAgIGFmdGVyVXBkYXRlOiBbXSxcbiAgICAgICAgYmVmb3JlU2VhcmNoOiBbXSxcbiAgICAgICAgYWZ0ZXJTZWFyY2g6IFtdLFxuICAgICAgICBiZWZvcmVJbnNlcnRNdWx0aXBsZTogW10sXG4gICAgICAgIGFmdGVySW5zZXJ0TXVsdGlwbGU6IFtdLFxuICAgICAgICBiZWZvcmVSZW1vdmVNdWx0aXBsZTogW10sXG4gICAgICAgIGFmdGVyUmVtb3ZlTXVsdGlwbGU6IFtdLFxuICAgICAgICBhZnRlclVwZGF0ZU11bHRpcGxlOiBbXSxcbiAgICAgICAgYmVmb3JlVXBkYXRlTXVsdGlwbGU6IFtdLFxuICAgICAgICBhZnRlckNyZWF0ZTogW10sXG4gICAgICAgIGZvcm1hdEVsYXBzZWRUaW1lLFxuICAgICAgICBpZCxcbiAgICAgICAgcGx1Z2lucyxcbiAgICAgICAgdmVyc2lvbjogZ2V0VmVyc2lvbigpXG4gICAgfTtcbiAgICBvcmFtYS5kYXRhID0ge1xuICAgICAgICBpbmRleDogb3JhbWEuaW5kZXguY3JlYXRlKG9yYW1hLCBpbnRlcm5hbERvY3VtZW50U3RvcmUsIHNjaGVtYSksXG4gICAgICAgIGRvY3M6IG9yYW1hLmRvY3VtZW50c1N0b3JlLmNyZWF0ZShvcmFtYSwgaW50ZXJuYWxEb2N1bWVudFN0b3JlKSxcbiAgICAgICAgc29ydGluZzogb3JhbWEuc29ydGVyLmNyZWF0ZShvcmFtYSwgaW50ZXJuYWxEb2N1bWVudFN0b3JlLCBzY2hlbWEsIHNvcnQpXG4gICAgfTtcbiAgICBmb3IgKGNvbnN0IGhvb2sgb2YgQVZBSUxBQkxFX1BMVUdJTl9IT09LUykge1xuICAgICAgICBvcmFtYVtob29rXSA9IChvcmFtYVtob29rXSA/PyBbXSkuY29uY2F0KGdldEFsbFBsdWdpbnNCeUhvb2sob3JhbWEsIGhvb2spKTtcbiAgICB9XG4gICAgY29uc3QgYWZ0ZXJDcmVhdGUgPSBvcmFtYVsnYWZ0ZXJDcmVhdGUnXTtcbiAgICBpZiAoYWZ0ZXJDcmVhdGUpIHtcbiAgICAgICAgcnVuQWZ0ZXJDcmVhdGUoYWZ0ZXJDcmVhdGUsIG9yYW1hKTtcbiAgICB9XG4gICAgcmV0dXJuIG9yYW1hO1xufVxuZnVuY3Rpb24gZ2V0VmVyc2lvbigpIHtcbiAgICByZXR1cm4gJ3t7VkVSU0lPTn19Jztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNyZWF0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@orama/orama/dist/browser/methods/create.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@orama/orama/dist/browser/methods/docs.js":
/*!****************************************************************!*\
  !*** ./node_modules/@orama/orama/dist/browser/methods/docs.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   count: () => (/* binding */ count),\n/* harmony export */   getByID: () => (/* binding */ getByID)\n/* harmony export */ });\nfunction getByID(db, id) {\n    return db.documentsStore.get(db.data.docs, id);\n}\nfunction count(db) {\n    return db.documentsStore.count(db.data.docs);\n}\n//# sourceMappingURL=docs.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9icm93c2VyL21ldGhvZHMvZG9jcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvYXJjaGllbWNrZW56aWUvRGVza3RvcC9ndC1saWJyYXJpZXMvZG9jcy9ub2RlX21vZHVsZXMvQG9yYW1hL29yYW1hL2Rpc3QvYnJvd3Nlci9tZXRob2RzL2RvY3MuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIGdldEJ5SUQoZGIsIGlkKSB7XG4gICAgcmV0dXJuIGRiLmRvY3VtZW50c1N0b3JlLmdldChkYi5kYXRhLmRvY3MsIGlkKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjb3VudChkYikge1xuICAgIHJldHVybiBkYi5kb2N1bWVudHNTdG9yZS5jb3VudChkYi5kYXRhLmRvY3MpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZG9jcy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@orama/orama/dist/browser/methods/docs.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@orama/orama/dist/browser/methods/insert.js":
/*!******************************************************************!*\
  !*** ./node_modules/@orama/orama/dist/browser/methods/insert.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   innerInsertMultiple: () => (/* binding */ innerInsertMultiple),\n/* harmony export */   insert: () => (/* binding */ insert),\n/* harmony export */   insertMultiple: () => (/* binding */ insertMultiple)\n/* harmony export */ });\n/* harmony import */ var _components_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../components.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/utils.js\");\n/* harmony import */ var _components_hooks_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/hooks.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/hooks.js\");\n/* harmony import */ var _components_sync_blocking_checker_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/sync-blocking-checker.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/sync-blocking-checker.js\");\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../errors.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/errors.js\");\n/* harmony import */ var _components_internal_document_id_store_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/internal-document-id-store.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/internal-document-id-store.js\");\n\n\n\n\n\n\nfunction insert(orama, doc, language, skipHooks, options) {\n    const errorProperty = orama.validateSchema(doc, orama.schema);\n    if (errorProperty) {\n        throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_4__.createError)('SCHEMA_VALIDATION_FAILURE', errorProperty);\n    }\n    const asyncNeeded = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isAsyncFunction)(orama.beforeInsert) ||\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isAsyncFunction)(orama.afterInsert) ||\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isAsyncFunction)(orama.index.beforeInsert) ||\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isAsyncFunction)(orama.index.insert) ||\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isAsyncFunction)(orama.index.afterInsert);\n    if (asyncNeeded) {\n        return innerInsertAsync(orama, doc, language, skipHooks, options);\n    }\n    return innerInsertSync(orama, doc, language, skipHooks, options);\n}\nconst ENUM_TYPE = new Set(['enum', 'enum[]']);\nconst STRING_NUMBER_TYPE = new Set(['string', 'number']);\nasync function innerInsertAsync(orama, doc, language, skipHooks, options) {\n    const { index, docs } = orama.data;\n    const id = orama.getDocumentIndexId(doc);\n    if (typeof id !== 'string') {\n        throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_4__.createError)('DOCUMENT_ID_MUST_BE_STRING', typeof id);\n    }\n    const internalId = (0,_components_internal_document_id_store_js__WEBPACK_IMPORTED_MODULE_5__.getInternalDocumentId)(orama.internalDocumentIDStore, id);\n    if (!orama.documentsStore.store(docs, id, internalId, doc)) {\n        throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_4__.createError)('DOCUMENT_ALREADY_EXISTS', id);\n    }\n    const docsCount = orama.documentsStore.count(docs);\n    if (!skipHooks) {\n        await (0,_components_hooks_js__WEBPACK_IMPORTED_MODULE_2__.runSingleHook)(orama.beforeInsert, orama, id, doc);\n    }\n    const indexableProperties = orama.index.getSearchableProperties(index);\n    const indexablePropertiesWithTypes = orama.index.getSearchablePropertiesWithTypes(index);\n    const indexableValues = orama.getDocumentProperties(doc, indexableProperties);\n    for (const [key, value] of Object.entries(indexableValues)) {\n        if (typeof value === 'undefined')\n            continue;\n        const actualType = typeof value;\n        const expectedType = indexablePropertiesWithTypes[key];\n        validateDocumentProperty(actualType, expectedType, key, value);\n    }\n    await indexAndSortDocument(orama, id, indexableProperties, indexableValues, docsCount, language, doc, options);\n    if (!skipHooks) {\n        await (0,_components_hooks_js__WEBPACK_IMPORTED_MODULE_2__.runSingleHook)(orama.afterInsert, orama, id, doc);\n    }\n    (0,_components_sync_blocking_checker_js__WEBPACK_IMPORTED_MODULE_3__.trackInsertion)(orama);\n    return id;\n}\nfunction innerInsertSync(orama, doc, language, skipHooks, options) {\n    const { index, docs } = orama.data;\n    const id = orama.getDocumentIndexId(doc);\n    if (typeof id !== 'string') {\n        throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_4__.createError)('DOCUMENT_ID_MUST_BE_STRING', typeof id);\n    }\n    const internalId = (0,_components_internal_document_id_store_js__WEBPACK_IMPORTED_MODULE_5__.getInternalDocumentId)(orama.internalDocumentIDStore, id);\n    if (!orama.documentsStore.store(docs, id, internalId, doc)) {\n        throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_4__.createError)('DOCUMENT_ALREADY_EXISTS', id);\n    }\n    const docsCount = orama.documentsStore.count(docs);\n    if (!skipHooks) {\n        (0,_components_hooks_js__WEBPACK_IMPORTED_MODULE_2__.runSingleHook)(orama.beforeInsert, orama, id, doc);\n    }\n    const indexableProperties = orama.index.getSearchableProperties(index);\n    const indexablePropertiesWithTypes = orama.index.getSearchablePropertiesWithTypes(index);\n    const indexableValues = orama.getDocumentProperties(doc, indexableProperties);\n    for (const [key, value] of Object.entries(indexableValues)) {\n        if (typeof value === 'undefined')\n            continue;\n        const actualType = typeof value;\n        const expectedType = indexablePropertiesWithTypes[key];\n        validateDocumentProperty(actualType, expectedType, key, value);\n    }\n    indexAndSortDocumentSync(orama, id, indexableProperties, indexableValues, docsCount, language, doc, options);\n    if (!skipHooks) {\n        (0,_components_hooks_js__WEBPACK_IMPORTED_MODULE_2__.runSingleHook)(orama.afterInsert, orama, id, doc);\n    }\n    (0,_components_sync_blocking_checker_js__WEBPACK_IMPORTED_MODULE_3__.trackInsertion)(orama);\n    return id;\n}\nfunction validateDocumentProperty(actualType, expectedType, key, value) {\n    if ((0,_components_js__WEBPACK_IMPORTED_MODULE_0__.isGeoPointType)(expectedType) &&\n        typeof value === 'object' &&\n        typeof value.lon === 'number' &&\n        typeof value.lat === 'number') {\n        return;\n    }\n    if ((0,_components_js__WEBPACK_IMPORTED_MODULE_0__.isVectorType)(expectedType) && Array.isArray(value))\n        return;\n    if ((0,_components_js__WEBPACK_IMPORTED_MODULE_0__.isArrayType)(expectedType) && Array.isArray(value))\n        return;\n    if (ENUM_TYPE.has(expectedType) && STRING_NUMBER_TYPE.has(actualType))\n        return;\n    if (actualType !== expectedType) {\n        throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_4__.createError)('INVALID_DOCUMENT_PROPERTY', key, expectedType, actualType);\n    }\n}\nasync function indexAndSortDocument(orama, id, indexableProperties, indexableValues, docsCount, language, doc, options) {\n    for (const prop of indexableProperties) {\n        const value = indexableValues[prop];\n        if (typeof value === 'undefined')\n            continue;\n        const expectedType = orama.index.getSearchablePropertiesWithTypes(orama.data.index)[prop];\n        await orama.index.beforeInsert?.(orama.data.index, prop, id, value, expectedType, language, orama.tokenizer, docsCount);\n        const internalId = orama.internalDocumentIDStore.idToInternalId.get(id);\n        await orama.index.insert(orama.index, orama.data.index, prop, id, internalId, value, expectedType, language, orama.tokenizer, docsCount, options);\n        await orama.index.afterInsert?.(orama.data.index, prop, id, value, expectedType, language, orama.tokenizer, docsCount);\n    }\n    const sortableProperties = orama.sorter.getSortableProperties(orama.data.sorting);\n    const sortableValues = orama.getDocumentProperties(doc, sortableProperties);\n    for (const prop of sortableProperties) {\n        const value = sortableValues[prop];\n        if (typeof value === 'undefined')\n            continue;\n        const expectedType = orama.sorter.getSortablePropertiesWithTypes(orama.data.sorting)[prop];\n        orama.sorter.insert(orama.data.sorting, prop, id, value, expectedType, language);\n    }\n}\nfunction indexAndSortDocumentSync(orama, id, indexableProperties, indexableValues, docsCount, language, doc, options) {\n    for (const prop of indexableProperties) {\n        const value = indexableValues[prop];\n        if (typeof value === 'undefined')\n            continue;\n        const expectedType = orama.index.getSearchablePropertiesWithTypes(orama.data.index)[prop];\n        const internalDocumentId = (0,_components_internal_document_id_store_js__WEBPACK_IMPORTED_MODULE_5__.getInternalDocumentId)(orama.internalDocumentIDStore, id);\n        orama.index.beforeInsert?.(orama.data.index, prop, id, value, expectedType, language, orama.tokenizer, docsCount);\n        orama.index.insert(orama.index, orama.data.index, prop, id, internalDocumentId, value, expectedType, language, orama.tokenizer, docsCount, options);\n        orama.index.afterInsert?.(orama.data.index, prop, id, value, expectedType, language, orama.tokenizer, docsCount);\n    }\n    const sortableProperties = orama.sorter.getSortableProperties(orama.data.sorting);\n    const sortableValues = orama.getDocumentProperties(doc, sortableProperties);\n    for (const prop of sortableProperties) {\n        const value = sortableValues[prop];\n        if (typeof value === 'undefined')\n            continue;\n        const expectedType = orama.sorter.getSortablePropertiesWithTypes(orama.data.sorting)[prop];\n        orama.sorter.insert(orama.data.sorting, prop, id, value, expectedType, language);\n    }\n}\nfunction insertMultiple(orama, docs, batchSize, language, skipHooks, timeout) {\n    const asyncNeeded = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isAsyncFunction)(orama.afterInsertMultiple) ||\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isAsyncFunction)(orama.beforeInsertMultiple) ||\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isAsyncFunction)(orama.index.beforeInsert) ||\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isAsyncFunction)(orama.index.insert) ||\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isAsyncFunction)(orama.index.afterInsert);\n    if (asyncNeeded) {\n        return innerInsertMultipleAsync(orama, docs, batchSize, language, skipHooks, timeout);\n    }\n    return innerInsertMultipleSync(orama, docs, batchSize, language, skipHooks, timeout);\n}\nasync function innerInsertMultipleAsync(orama, docs, batchSize = 1000, language, skipHooks, timeout = 0) {\n    const ids = [];\n    const processNextBatch = async (startIndex) => {\n        const endIndex = Math.min(startIndex + batchSize, docs.length);\n        const batch = docs.slice(startIndex, endIndex);\n        for (const doc of batch) {\n            const options = { avlRebalanceThreshold: batch.length };\n            const id = await insert(orama, doc, language, skipHooks, options);\n            ids.push(id);\n        }\n        return endIndex;\n    };\n    const processAllBatches = async () => {\n        let currentIndex = 0;\n        while (currentIndex < docs.length) {\n            const startTime = Date.now();\n            currentIndex = await processNextBatch(currentIndex);\n            if (timeout > 0) {\n                const elapsedTime = Date.now() - startTime;\n                const waitTime = timeout - elapsedTime;\n                if (waitTime > 0) {\n                    (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.sleep)(waitTime);\n                }\n            }\n        }\n    };\n    await processAllBatches();\n    if (!skipHooks) {\n        await (0,_components_hooks_js__WEBPACK_IMPORTED_MODULE_2__.runMultipleHook)(orama.afterInsertMultiple, orama, docs);\n    }\n    return ids;\n}\nfunction innerInsertMultipleSync(orama, docs, batchSize = 1000, language, skipHooks, timeout = 0) {\n    const ids = [];\n    let i = 0;\n    function processNextBatch() {\n        const batch = docs.slice(i * batchSize, (i + 1) * batchSize);\n        if (batch.length === 0)\n            return false;\n        for (const doc of batch) {\n            const options = { avlRebalanceThreshold: batch.length };\n            const id = insert(orama, doc, language, skipHooks, options);\n            ids.push(id);\n        }\n        i++;\n        return true;\n    }\n    function processAllBatches() {\n        const startTime = Date.now();\n        // eslint-disable-next-line no-constant-condition\n        while (true) {\n            const hasMoreBatches = processNextBatch();\n            if (!hasMoreBatches)\n                break;\n            if (timeout > 0) {\n                const elapsedTime = Date.now() - startTime;\n                if (elapsedTime >= timeout) {\n                    const remainingTime = timeout - (elapsedTime % timeout);\n                    if (remainingTime > 0) {\n                        (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.sleep)(remainingTime);\n                    }\n                }\n            }\n        }\n    }\n    processAllBatches();\n    if (!skipHooks) {\n        (0,_components_hooks_js__WEBPACK_IMPORTED_MODULE_2__.runMultipleHook)(orama.afterInsertMultiple, orama, docs);\n    }\n    return ids;\n}\nfunction innerInsertMultiple(orama, docs, batchSize, language, skipHooks, timeout) {\n    const asyncNeeded = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isAsyncFunction)(orama.beforeInsert) ||\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isAsyncFunction)(orama.afterInsert) ||\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isAsyncFunction)(orama.index.beforeInsert) ||\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isAsyncFunction)(orama.index.insert) ||\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isAsyncFunction)(orama.index.afterInsert);\n    if (asyncNeeded) {\n        return innerInsertMultipleAsync(orama, docs, batchSize, language, skipHooks, timeout);\n    }\n    return innerInsertMultipleSync(orama, docs, batchSize, language, skipHooks, timeout);\n}\n//# sourceMappingURL=insert.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9icm93c2VyL21ldGhvZHMvaW5zZXJ0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUE2RTtBQUN4QjtBQUNtQjtBQUNBO0FBQzdCO0FBQ3lDO0FBQzdFO0FBQ1A7QUFDQTtBQUNBLGNBQWMsdURBQVc7QUFDekI7QUFDQSx3QkFBd0IsMERBQWU7QUFDdkMsUUFBUSwwREFBZTtBQUN2QixRQUFRLDBEQUFlO0FBQ3ZCLFFBQVEsMERBQWU7QUFDdkIsUUFBUSwwREFBZTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxjQUFjO0FBQzFCO0FBQ0E7QUFDQSxjQUFjLHVEQUFXO0FBQ3pCO0FBQ0EsdUJBQXVCLGdHQUFxQjtBQUM1QztBQUNBLGNBQWMsdURBQVc7QUFDekI7QUFDQTtBQUNBO0FBQ0EsY0FBYyxtRUFBYTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsbUVBQWE7QUFDM0I7QUFDQSxJQUFJLG9GQUFjO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBLFlBQVksY0FBYztBQUMxQjtBQUNBO0FBQ0EsY0FBYyx1REFBVztBQUN6QjtBQUNBLHVCQUF1QixnR0FBcUI7QUFDNUM7QUFDQSxjQUFjLHVEQUFXO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLFFBQVEsbUVBQWE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLG1FQUFhO0FBQ3JCO0FBQ0EsSUFBSSxvRkFBYztBQUNsQjtBQUNBO0FBQ0E7QUFDQSxRQUFRLDhEQUFjO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLDREQUFZO0FBQ3BCO0FBQ0EsUUFBUSwyREFBVztBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsdURBQVc7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxnR0FBcUI7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1Asd0JBQXdCLDBEQUFlO0FBQ3ZDLFFBQVEsMERBQWU7QUFDdkIsUUFBUSwwREFBZTtBQUN2QixRQUFRLDBEQUFlO0FBQ3ZCLFFBQVEsMERBQWU7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGdEQUFLO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMscUVBQWU7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0RBQUs7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHFFQUFlO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNPO0FBQ1Asd0JBQXdCLDBEQUFlO0FBQ3ZDLFFBQVEsMERBQWU7QUFDdkIsUUFBUSwwREFBZTtBQUN2QixRQUFRLDBEQUFlO0FBQ3ZCLFFBQVEsMERBQWU7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvYXJjaGllbWNrZW56aWUvRGVza3RvcC9ndC1saWJyYXJpZXMvZG9jcy9ub2RlX21vZHVsZXMvQG9yYW1hL29yYW1hL2Rpc3QvYnJvd3Nlci9tZXRob2RzL2luc2VydC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc0FycmF5VHlwZSwgaXNHZW9Qb2ludFR5cGUsIGlzVmVjdG9yVHlwZSB9IGZyb20gJy4uL2NvbXBvbmVudHMuanMnO1xuaW1wb3J0IHsgaXNBc3luY0Z1bmN0aW9uLCBzbGVlcCB9IGZyb20gJy4uL3V0aWxzLmpzJztcbmltcG9ydCB7IHJ1bk11bHRpcGxlSG9vaywgcnVuU2luZ2xlSG9vayB9IGZyb20gJy4uL2NvbXBvbmVudHMvaG9va3MuanMnO1xuaW1wb3J0IHsgdHJhY2tJbnNlcnRpb24gfSBmcm9tICcuLi9jb21wb25lbnRzL3N5bmMtYmxvY2tpbmctY2hlY2tlci5qcyc7XG5pbXBvcnQgeyBjcmVhdGVFcnJvciB9IGZyb20gJy4uL2Vycm9ycy5qcyc7XG5pbXBvcnQgeyBnZXRJbnRlcm5hbERvY3VtZW50SWQgfSBmcm9tICcuLi9jb21wb25lbnRzL2ludGVybmFsLWRvY3VtZW50LWlkLXN0b3JlLmpzJztcbmV4cG9ydCBmdW5jdGlvbiBpbnNlcnQob3JhbWEsIGRvYywgbGFuZ3VhZ2UsIHNraXBIb29rcywgb3B0aW9ucykge1xuICAgIGNvbnN0IGVycm9yUHJvcGVydHkgPSBvcmFtYS52YWxpZGF0ZVNjaGVtYShkb2MsIG9yYW1hLnNjaGVtYSk7XG4gICAgaWYgKGVycm9yUHJvcGVydHkpIHtcbiAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoJ1NDSEVNQV9WQUxJREFUSU9OX0ZBSUxVUkUnLCBlcnJvclByb3BlcnR5KTtcbiAgICB9XG4gICAgY29uc3QgYXN5bmNOZWVkZWQgPSBpc0FzeW5jRnVuY3Rpb24ob3JhbWEuYmVmb3JlSW5zZXJ0KSB8fFxuICAgICAgICBpc0FzeW5jRnVuY3Rpb24ob3JhbWEuYWZ0ZXJJbnNlcnQpIHx8XG4gICAgICAgIGlzQXN5bmNGdW5jdGlvbihvcmFtYS5pbmRleC5iZWZvcmVJbnNlcnQpIHx8XG4gICAgICAgIGlzQXN5bmNGdW5jdGlvbihvcmFtYS5pbmRleC5pbnNlcnQpIHx8XG4gICAgICAgIGlzQXN5bmNGdW5jdGlvbihvcmFtYS5pbmRleC5hZnRlckluc2VydCk7XG4gICAgaWYgKGFzeW5jTmVlZGVkKSB7XG4gICAgICAgIHJldHVybiBpbm5lckluc2VydEFzeW5jKG9yYW1hLCBkb2MsIGxhbmd1YWdlLCBza2lwSG9va3MsIG9wdGlvbnMpO1xuICAgIH1cbiAgICByZXR1cm4gaW5uZXJJbnNlcnRTeW5jKG9yYW1hLCBkb2MsIGxhbmd1YWdlLCBza2lwSG9va3MsIG9wdGlvbnMpO1xufVxuY29uc3QgRU5VTV9UWVBFID0gbmV3IFNldChbJ2VudW0nLCAnZW51bVtdJ10pO1xuY29uc3QgU1RSSU5HX05VTUJFUl9UWVBFID0gbmV3IFNldChbJ3N0cmluZycsICdudW1iZXInXSk7XG5hc3luYyBmdW5jdGlvbiBpbm5lckluc2VydEFzeW5jKG9yYW1hLCBkb2MsIGxhbmd1YWdlLCBza2lwSG9va3MsIG9wdGlvbnMpIHtcbiAgICBjb25zdCB7IGluZGV4LCBkb2NzIH0gPSBvcmFtYS5kYXRhO1xuICAgIGNvbnN0IGlkID0gb3JhbWEuZ2V0RG9jdW1lbnRJbmRleElkKGRvYyk7XG4gICAgaWYgKHR5cGVvZiBpZCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoJ0RPQ1VNRU5UX0lEX01VU1RfQkVfU1RSSU5HJywgdHlwZW9mIGlkKTtcbiAgICB9XG4gICAgY29uc3QgaW50ZXJuYWxJZCA9IGdldEludGVybmFsRG9jdW1lbnRJZChvcmFtYS5pbnRlcm5hbERvY3VtZW50SURTdG9yZSwgaWQpO1xuICAgIGlmICghb3JhbWEuZG9jdW1lbnRzU3RvcmUuc3RvcmUoZG9jcywgaWQsIGludGVybmFsSWQsIGRvYykpIHtcbiAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoJ0RPQ1VNRU5UX0FMUkVBRFlfRVhJU1RTJywgaWQpO1xuICAgIH1cbiAgICBjb25zdCBkb2NzQ291bnQgPSBvcmFtYS5kb2N1bWVudHNTdG9yZS5jb3VudChkb2NzKTtcbiAgICBpZiAoIXNraXBIb29rcykge1xuICAgICAgICBhd2FpdCBydW5TaW5nbGVIb29rKG9yYW1hLmJlZm9yZUluc2VydCwgb3JhbWEsIGlkLCBkb2MpO1xuICAgIH1cbiAgICBjb25zdCBpbmRleGFibGVQcm9wZXJ0aWVzID0gb3JhbWEuaW5kZXguZ2V0U2VhcmNoYWJsZVByb3BlcnRpZXMoaW5kZXgpO1xuICAgIGNvbnN0IGluZGV4YWJsZVByb3BlcnRpZXNXaXRoVHlwZXMgPSBvcmFtYS5pbmRleC5nZXRTZWFyY2hhYmxlUHJvcGVydGllc1dpdGhUeXBlcyhpbmRleCk7XG4gICAgY29uc3QgaW5kZXhhYmxlVmFsdWVzID0gb3JhbWEuZ2V0RG9jdW1lbnRQcm9wZXJ0aWVzKGRvYywgaW5kZXhhYmxlUHJvcGVydGllcyk7XG4gICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoaW5kZXhhYmxlVmFsdWVzKSkge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjb25zdCBhY3R1YWxUeXBlID0gdHlwZW9mIHZhbHVlO1xuICAgICAgICBjb25zdCBleHBlY3RlZFR5cGUgPSBpbmRleGFibGVQcm9wZXJ0aWVzV2l0aFR5cGVzW2tleV07XG4gICAgICAgIHZhbGlkYXRlRG9jdW1lbnRQcm9wZXJ0eShhY3R1YWxUeXBlLCBleHBlY3RlZFR5cGUsIGtleSwgdmFsdWUpO1xuICAgIH1cbiAgICBhd2FpdCBpbmRleEFuZFNvcnREb2N1bWVudChvcmFtYSwgaWQsIGluZGV4YWJsZVByb3BlcnRpZXMsIGluZGV4YWJsZVZhbHVlcywgZG9jc0NvdW50LCBsYW5ndWFnZSwgZG9jLCBvcHRpb25zKTtcbiAgICBpZiAoIXNraXBIb29rcykge1xuICAgICAgICBhd2FpdCBydW5TaW5nbGVIb29rKG9yYW1hLmFmdGVySW5zZXJ0LCBvcmFtYSwgaWQsIGRvYyk7XG4gICAgfVxuICAgIHRyYWNrSW5zZXJ0aW9uKG9yYW1hKTtcbiAgICByZXR1cm4gaWQ7XG59XG5mdW5jdGlvbiBpbm5lckluc2VydFN5bmMob3JhbWEsIGRvYywgbGFuZ3VhZ2UsIHNraXBIb29rcywgb3B0aW9ucykge1xuICAgIGNvbnN0IHsgaW5kZXgsIGRvY3MgfSA9IG9yYW1hLmRhdGE7XG4gICAgY29uc3QgaWQgPSBvcmFtYS5nZXREb2N1bWVudEluZGV4SWQoZG9jKTtcbiAgICBpZiAodHlwZW9mIGlkICE9PSAnc3RyaW5nJykge1xuICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignRE9DVU1FTlRfSURfTVVTVF9CRV9TVFJJTkcnLCB0eXBlb2YgaWQpO1xuICAgIH1cbiAgICBjb25zdCBpbnRlcm5hbElkID0gZ2V0SW50ZXJuYWxEb2N1bWVudElkKG9yYW1hLmludGVybmFsRG9jdW1lbnRJRFN0b3JlLCBpZCk7XG4gICAgaWYgKCFvcmFtYS5kb2N1bWVudHNTdG9yZS5zdG9yZShkb2NzLCBpZCwgaW50ZXJuYWxJZCwgZG9jKSkge1xuICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignRE9DVU1FTlRfQUxSRUFEWV9FWElTVFMnLCBpZCk7XG4gICAgfVxuICAgIGNvbnN0IGRvY3NDb3VudCA9IG9yYW1hLmRvY3VtZW50c1N0b3JlLmNvdW50KGRvY3MpO1xuICAgIGlmICghc2tpcEhvb2tzKSB7XG4gICAgICAgIHJ1blNpbmdsZUhvb2sob3JhbWEuYmVmb3JlSW5zZXJ0LCBvcmFtYSwgaWQsIGRvYyk7XG4gICAgfVxuICAgIGNvbnN0IGluZGV4YWJsZVByb3BlcnRpZXMgPSBvcmFtYS5pbmRleC5nZXRTZWFyY2hhYmxlUHJvcGVydGllcyhpbmRleCk7XG4gICAgY29uc3QgaW5kZXhhYmxlUHJvcGVydGllc1dpdGhUeXBlcyA9IG9yYW1hLmluZGV4LmdldFNlYXJjaGFibGVQcm9wZXJ0aWVzV2l0aFR5cGVzKGluZGV4KTtcbiAgICBjb25zdCBpbmRleGFibGVWYWx1ZXMgPSBvcmFtYS5nZXREb2N1bWVudFByb3BlcnRpZXMoZG9jLCBpbmRleGFibGVQcm9wZXJ0aWVzKTtcbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhpbmRleGFibGVWYWx1ZXMpKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNvbnN0IGFjdHVhbFR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gICAgICAgIGNvbnN0IGV4cGVjdGVkVHlwZSA9IGluZGV4YWJsZVByb3BlcnRpZXNXaXRoVHlwZXNba2V5XTtcbiAgICAgICAgdmFsaWRhdGVEb2N1bWVudFByb3BlcnR5KGFjdHVhbFR5cGUsIGV4cGVjdGVkVHlwZSwga2V5LCB2YWx1ZSk7XG4gICAgfVxuICAgIGluZGV4QW5kU29ydERvY3VtZW50U3luYyhvcmFtYSwgaWQsIGluZGV4YWJsZVByb3BlcnRpZXMsIGluZGV4YWJsZVZhbHVlcywgZG9jc0NvdW50LCBsYW5ndWFnZSwgZG9jLCBvcHRpb25zKTtcbiAgICBpZiAoIXNraXBIb29rcykge1xuICAgICAgICBydW5TaW5nbGVIb29rKG9yYW1hLmFmdGVySW5zZXJ0LCBvcmFtYSwgaWQsIGRvYyk7XG4gICAgfVxuICAgIHRyYWNrSW5zZXJ0aW9uKG9yYW1hKTtcbiAgICByZXR1cm4gaWQ7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZURvY3VtZW50UHJvcGVydHkoYWN0dWFsVHlwZSwgZXhwZWN0ZWRUeXBlLCBrZXksIHZhbHVlKSB7XG4gICAgaWYgKGlzR2VvUG9pbnRUeXBlKGV4cGVjdGVkVHlwZSkgJiZcbiAgICAgICAgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJlxuICAgICAgICB0eXBlb2YgdmFsdWUubG9uID09PSAnbnVtYmVyJyAmJlxuICAgICAgICB0eXBlb2YgdmFsdWUubGF0ID09PSAnbnVtYmVyJykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChpc1ZlY3RvclR5cGUoZXhwZWN0ZWRUeXBlKSAmJiBBcnJheS5pc0FycmF5KHZhbHVlKSlcbiAgICAgICAgcmV0dXJuO1xuICAgIGlmIChpc0FycmF5VHlwZShleHBlY3RlZFR5cGUpICYmIEFycmF5LmlzQXJyYXkodmFsdWUpKVxuICAgICAgICByZXR1cm47XG4gICAgaWYgKEVOVU1fVFlQRS5oYXMoZXhwZWN0ZWRUeXBlKSAmJiBTVFJJTkdfTlVNQkVSX1RZUEUuaGFzKGFjdHVhbFR5cGUpKVxuICAgICAgICByZXR1cm47XG4gICAgaWYgKGFjdHVhbFR5cGUgIT09IGV4cGVjdGVkVHlwZSkge1xuICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignSU5WQUxJRF9ET0NVTUVOVF9QUk9QRVJUWScsIGtleSwgZXhwZWN0ZWRUeXBlLCBhY3R1YWxUeXBlKTtcbiAgICB9XG59XG5hc3luYyBmdW5jdGlvbiBpbmRleEFuZFNvcnREb2N1bWVudChvcmFtYSwgaWQsIGluZGV4YWJsZVByb3BlcnRpZXMsIGluZGV4YWJsZVZhbHVlcywgZG9jc0NvdW50LCBsYW5ndWFnZSwgZG9jLCBvcHRpb25zKSB7XG4gICAgZm9yIChjb25zdCBwcm9wIG9mIGluZGV4YWJsZVByb3BlcnRpZXMpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBpbmRleGFibGVWYWx1ZXNbcHJvcF07XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNvbnN0IGV4cGVjdGVkVHlwZSA9IG9yYW1hLmluZGV4LmdldFNlYXJjaGFibGVQcm9wZXJ0aWVzV2l0aFR5cGVzKG9yYW1hLmRhdGEuaW5kZXgpW3Byb3BdO1xuICAgICAgICBhd2FpdCBvcmFtYS5pbmRleC5iZWZvcmVJbnNlcnQ/LihvcmFtYS5kYXRhLmluZGV4LCBwcm9wLCBpZCwgdmFsdWUsIGV4cGVjdGVkVHlwZSwgbGFuZ3VhZ2UsIG9yYW1hLnRva2VuaXplciwgZG9jc0NvdW50KTtcbiAgICAgICAgY29uc3QgaW50ZXJuYWxJZCA9IG9yYW1hLmludGVybmFsRG9jdW1lbnRJRFN0b3JlLmlkVG9JbnRlcm5hbElkLmdldChpZCk7XG4gICAgICAgIGF3YWl0IG9yYW1hLmluZGV4Lmluc2VydChvcmFtYS5pbmRleCwgb3JhbWEuZGF0YS5pbmRleCwgcHJvcCwgaWQsIGludGVybmFsSWQsIHZhbHVlLCBleHBlY3RlZFR5cGUsIGxhbmd1YWdlLCBvcmFtYS50b2tlbml6ZXIsIGRvY3NDb3VudCwgb3B0aW9ucyk7XG4gICAgICAgIGF3YWl0IG9yYW1hLmluZGV4LmFmdGVySW5zZXJ0Py4ob3JhbWEuZGF0YS5pbmRleCwgcHJvcCwgaWQsIHZhbHVlLCBleHBlY3RlZFR5cGUsIGxhbmd1YWdlLCBvcmFtYS50b2tlbml6ZXIsIGRvY3NDb3VudCk7XG4gICAgfVxuICAgIGNvbnN0IHNvcnRhYmxlUHJvcGVydGllcyA9IG9yYW1hLnNvcnRlci5nZXRTb3J0YWJsZVByb3BlcnRpZXMob3JhbWEuZGF0YS5zb3J0aW5nKTtcbiAgICBjb25zdCBzb3J0YWJsZVZhbHVlcyA9IG9yYW1hLmdldERvY3VtZW50UHJvcGVydGllcyhkb2MsIHNvcnRhYmxlUHJvcGVydGllcyk7XG4gICAgZm9yIChjb25zdCBwcm9wIG9mIHNvcnRhYmxlUHJvcGVydGllcykge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHNvcnRhYmxlVmFsdWVzW3Byb3BdO1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBjb25zdCBleHBlY3RlZFR5cGUgPSBvcmFtYS5zb3J0ZXIuZ2V0U29ydGFibGVQcm9wZXJ0aWVzV2l0aFR5cGVzKG9yYW1hLmRhdGEuc29ydGluZylbcHJvcF07XG4gICAgICAgIG9yYW1hLnNvcnRlci5pbnNlcnQob3JhbWEuZGF0YS5zb3J0aW5nLCBwcm9wLCBpZCwgdmFsdWUsIGV4cGVjdGVkVHlwZSwgbGFuZ3VhZ2UpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGluZGV4QW5kU29ydERvY3VtZW50U3luYyhvcmFtYSwgaWQsIGluZGV4YWJsZVByb3BlcnRpZXMsIGluZGV4YWJsZVZhbHVlcywgZG9jc0NvdW50LCBsYW5ndWFnZSwgZG9jLCBvcHRpb25zKSB7XG4gICAgZm9yIChjb25zdCBwcm9wIG9mIGluZGV4YWJsZVByb3BlcnRpZXMpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBpbmRleGFibGVWYWx1ZXNbcHJvcF07XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNvbnN0IGV4cGVjdGVkVHlwZSA9IG9yYW1hLmluZGV4LmdldFNlYXJjaGFibGVQcm9wZXJ0aWVzV2l0aFR5cGVzKG9yYW1hLmRhdGEuaW5kZXgpW3Byb3BdO1xuICAgICAgICBjb25zdCBpbnRlcm5hbERvY3VtZW50SWQgPSBnZXRJbnRlcm5hbERvY3VtZW50SWQob3JhbWEuaW50ZXJuYWxEb2N1bWVudElEU3RvcmUsIGlkKTtcbiAgICAgICAgb3JhbWEuaW5kZXguYmVmb3JlSW5zZXJ0Py4ob3JhbWEuZGF0YS5pbmRleCwgcHJvcCwgaWQsIHZhbHVlLCBleHBlY3RlZFR5cGUsIGxhbmd1YWdlLCBvcmFtYS50b2tlbml6ZXIsIGRvY3NDb3VudCk7XG4gICAgICAgIG9yYW1hLmluZGV4Lmluc2VydChvcmFtYS5pbmRleCwgb3JhbWEuZGF0YS5pbmRleCwgcHJvcCwgaWQsIGludGVybmFsRG9jdW1lbnRJZCwgdmFsdWUsIGV4cGVjdGVkVHlwZSwgbGFuZ3VhZ2UsIG9yYW1hLnRva2VuaXplciwgZG9jc0NvdW50LCBvcHRpb25zKTtcbiAgICAgICAgb3JhbWEuaW5kZXguYWZ0ZXJJbnNlcnQ/LihvcmFtYS5kYXRhLmluZGV4LCBwcm9wLCBpZCwgdmFsdWUsIGV4cGVjdGVkVHlwZSwgbGFuZ3VhZ2UsIG9yYW1hLnRva2VuaXplciwgZG9jc0NvdW50KTtcbiAgICB9XG4gICAgY29uc3Qgc29ydGFibGVQcm9wZXJ0aWVzID0gb3JhbWEuc29ydGVyLmdldFNvcnRhYmxlUHJvcGVydGllcyhvcmFtYS5kYXRhLnNvcnRpbmcpO1xuICAgIGNvbnN0IHNvcnRhYmxlVmFsdWVzID0gb3JhbWEuZ2V0RG9jdW1lbnRQcm9wZXJ0aWVzKGRvYywgc29ydGFibGVQcm9wZXJ0aWVzKTtcbiAgICBmb3IgKGNvbnN0IHByb3Agb2Ygc29ydGFibGVQcm9wZXJ0aWVzKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gc29ydGFibGVWYWx1ZXNbcHJvcF07XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNvbnN0IGV4cGVjdGVkVHlwZSA9IG9yYW1hLnNvcnRlci5nZXRTb3J0YWJsZVByb3BlcnRpZXNXaXRoVHlwZXMob3JhbWEuZGF0YS5zb3J0aW5nKVtwcm9wXTtcbiAgICAgICAgb3JhbWEuc29ydGVyLmluc2VydChvcmFtYS5kYXRhLnNvcnRpbmcsIHByb3AsIGlkLCB2YWx1ZSwgZXhwZWN0ZWRUeXBlLCBsYW5ndWFnZSk7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGluc2VydE11bHRpcGxlKG9yYW1hLCBkb2NzLCBiYXRjaFNpemUsIGxhbmd1YWdlLCBza2lwSG9va3MsIHRpbWVvdXQpIHtcbiAgICBjb25zdCBhc3luY05lZWRlZCA9IGlzQXN5bmNGdW5jdGlvbihvcmFtYS5hZnRlckluc2VydE11bHRpcGxlKSB8fFxuICAgICAgICBpc0FzeW5jRnVuY3Rpb24ob3JhbWEuYmVmb3JlSW5zZXJ0TXVsdGlwbGUpIHx8XG4gICAgICAgIGlzQXN5bmNGdW5jdGlvbihvcmFtYS5pbmRleC5iZWZvcmVJbnNlcnQpIHx8XG4gICAgICAgIGlzQXN5bmNGdW5jdGlvbihvcmFtYS5pbmRleC5pbnNlcnQpIHx8XG4gICAgICAgIGlzQXN5bmNGdW5jdGlvbihvcmFtYS5pbmRleC5hZnRlckluc2VydCk7XG4gICAgaWYgKGFzeW5jTmVlZGVkKSB7XG4gICAgICAgIHJldHVybiBpbm5lckluc2VydE11bHRpcGxlQXN5bmMob3JhbWEsIGRvY3MsIGJhdGNoU2l6ZSwgbGFuZ3VhZ2UsIHNraXBIb29rcywgdGltZW91dCk7XG4gICAgfVxuICAgIHJldHVybiBpbm5lckluc2VydE11bHRpcGxlU3luYyhvcmFtYSwgZG9jcywgYmF0Y2hTaXplLCBsYW5ndWFnZSwgc2tpcEhvb2tzLCB0aW1lb3V0KTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGlubmVySW5zZXJ0TXVsdGlwbGVBc3luYyhvcmFtYSwgZG9jcywgYmF0Y2hTaXplID0gMTAwMCwgbGFuZ3VhZ2UsIHNraXBIb29rcywgdGltZW91dCA9IDApIHtcbiAgICBjb25zdCBpZHMgPSBbXTtcbiAgICBjb25zdCBwcm9jZXNzTmV4dEJhdGNoID0gYXN5bmMgKHN0YXJ0SW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgZW5kSW5kZXggPSBNYXRoLm1pbihzdGFydEluZGV4ICsgYmF0Y2hTaXplLCBkb2NzLmxlbmd0aCk7XG4gICAgICAgIGNvbnN0IGJhdGNoID0gZG9jcy5zbGljZShzdGFydEluZGV4LCBlbmRJbmRleCk7XG4gICAgICAgIGZvciAoY29uc3QgZG9jIG9mIGJhdGNoKSB7XG4gICAgICAgICAgICBjb25zdCBvcHRpb25zID0geyBhdmxSZWJhbGFuY2VUaHJlc2hvbGQ6IGJhdGNoLmxlbmd0aCB9O1xuICAgICAgICAgICAgY29uc3QgaWQgPSBhd2FpdCBpbnNlcnQob3JhbWEsIGRvYywgbGFuZ3VhZ2UsIHNraXBIb29rcywgb3B0aW9ucyk7XG4gICAgICAgICAgICBpZHMucHVzaChpZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVuZEluZGV4O1xuICAgIH07XG4gICAgY29uc3QgcHJvY2Vzc0FsbEJhdGNoZXMgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIGxldCBjdXJyZW50SW5kZXggPSAwO1xuICAgICAgICB3aGlsZSAoY3VycmVudEluZGV4IDwgZG9jcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgICAgICAgICBjdXJyZW50SW5kZXggPSBhd2FpdCBwcm9jZXNzTmV4dEJhdGNoKGN1cnJlbnRJbmRleCk7XG4gICAgICAgICAgICBpZiAodGltZW91dCA+IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlbGFwc2VkVGltZSA9IERhdGUubm93KCkgLSBzdGFydFRpbWU7XG4gICAgICAgICAgICAgICAgY29uc3Qgd2FpdFRpbWUgPSB0aW1lb3V0IC0gZWxhcHNlZFRpbWU7XG4gICAgICAgICAgICAgICAgaWYgKHdhaXRUaW1lID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBzbGVlcCh3YWl0VGltZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBhd2FpdCBwcm9jZXNzQWxsQmF0Y2hlcygpO1xuICAgIGlmICghc2tpcEhvb2tzKSB7XG4gICAgICAgIGF3YWl0IHJ1bk11bHRpcGxlSG9vayhvcmFtYS5hZnRlckluc2VydE11bHRpcGxlLCBvcmFtYSwgZG9jcyk7XG4gICAgfVxuICAgIHJldHVybiBpZHM7XG59XG5mdW5jdGlvbiBpbm5lckluc2VydE11bHRpcGxlU3luYyhvcmFtYSwgZG9jcywgYmF0Y2hTaXplID0gMTAwMCwgbGFuZ3VhZ2UsIHNraXBIb29rcywgdGltZW91dCA9IDApIHtcbiAgICBjb25zdCBpZHMgPSBbXTtcbiAgICBsZXQgaSA9IDA7XG4gICAgZnVuY3Rpb24gcHJvY2Vzc05leHRCYXRjaCgpIHtcbiAgICAgICAgY29uc3QgYmF0Y2ggPSBkb2NzLnNsaWNlKGkgKiBiYXRjaFNpemUsIChpICsgMSkgKiBiYXRjaFNpemUpO1xuICAgICAgICBpZiAoYmF0Y2gubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBmb3IgKGNvbnN0IGRvYyBvZiBiYXRjaCkge1xuICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHsgYXZsUmViYWxhbmNlVGhyZXNob2xkOiBiYXRjaC5sZW5ndGggfTtcbiAgICAgICAgICAgIGNvbnN0IGlkID0gaW5zZXJ0KG9yYW1hLCBkb2MsIGxhbmd1YWdlLCBza2lwSG9va3MsIG9wdGlvbnMpO1xuICAgICAgICAgICAgaWRzLnB1c2goaWQpO1xuICAgICAgICB9XG4gICAgICAgIGkrKztcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHByb2Nlc3NBbGxCYXRjaGVzKCkge1xuICAgICAgICBjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc3RhbnQtY29uZGl0aW9uXG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICBjb25zdCBoYXNNb3JlQmF0Y2hlcyA9IHByb2Nlc3NOZXh0QmF0Y2goKTtcbiAgICAgICAgICAgIGlmICghaGFzTW9yZUJhdGNoZXMpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBpZiAodGltZW91dCA+IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlbGFwc2VkVGltZSA9IERhdGUubm93KCkgLSBzdGFydFRpbWU7XG4gICAgICAgICAgICAgICAgaWYgKGVsYXBzZWRUaW1lID49IHRpbWVvdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVtYWluaW5nVGltZSA9IHRpbWVvdXQgLSAoZWxhcHNlZFRpbWUgJSB0aW1lb3V0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlbWFpbmluZ1RpbWUgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzbGVlcChyZW1haW5pbmdUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBwcm9jZXNzQWxsQmF0Y2hlcygpO1xuICAgIGlmICghc2tpcEhvb2tzKSB7XG4gICAgICAgIHJ1bk11bHRpcGxlSG9vayhvcmFtYS5hZnRlckluc2VydE11bHRpcGxlLCBvcmFtYSwgZG9jcyk7XG4gICAgfVxuICAgIHJldHVybiBpZHM7XG59XG5leHBvcnQgZnVuY3Rpb24gaW5uZXJJbnNlcnRNdWx0aXBsZShvcmFtYSwgZG9jcywgYmF0Y2hTaXplLCBsYW5ndWFnZSwgc2tpcEhvb2tzLCB0aW1lb3V0KSB7XG4gICAgY29uc3QgYXN5bmNOZWVkZWQgPSBpc0FzeW5jRnVuY3Rpb24ob3JhbWEuYmVmb3JlSW5zZXJ0KSB8fFxuICAgICAgICBpc0FzeW5jRnVuY3Rpb24ob3JhbWEuYWZ0ZXJJbnNlcnQpIHx8XG4gICAgICAgIGlzQXN5bmNGdW5jdGlvbihvcmFtYS5pbmRleC5iZWZvcmVJbnNlcnQpIHx8XG4gICAgICAgIGlzQXN5bmNGdW5jdGlvbihvcmFtYS5pbmRleC5pbnNlcnQpIHx8XG4gICAgICAgIGlzQXN5bmNGdW5jdGlvbihvcmFtYS5pbmRleC5hZnRlckluc2VydCk7XG4gICAgaWYgKGFzeW5jTmVlZGVkKSB7XG4gICAgICAgIHJldHVybiBpbm5lckluc2VydE11bHRpcGxlQXN5bmMob3JhbWEsIGRvY3MsIGJhdGNoU2l6ZSwgbGFuZ3VhZ2UsIHNraXBIb29rcywgdGltZW91dCk7XG4gICAgfVxuICAgIHJldHVybiBpbm5lckluc2VydE11bHRpcGxlU3luYyhvcmFtYSwgZG9jcywgYmF0Y2hTaXplLCBsYW5ndWFnZSwgc2tpcEhvb2tzLCB0aW1lb3V0KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluc2VydC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@orama/orama/dist/browser/methods/insert.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@orama/orama/dist/browser/methods/remove.js":
/*!******************************************************************!*\
  !*** ./node_modules/@orama/orama/dist/browser/methods/remove.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   remove: () => (/* binding */ remove),\n/* harmony export */   removeMultiple: () => (/* binding */ removeMultiple)\n/* harmony export */ });\n/* harmony import */ var _components_hooks_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../components/hooks.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/hooks.js\");\n/* harmony import */ var _components_internal_document_id_store_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/internal-document-id-store.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/internal-document-id-store.js\");\n/* harmony import */ var _components_sync_blocking_checker_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/sync-blocking-checker.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/sync-blocking-checker.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/utils.js\");\n\n\n\n\nfunction remove(orama, id, language, skipHooks) {\n    const asyncNeeded = (0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.isAsyncFunction)(orama.index.beforeRemove) ||\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.isAsyncFunction)(orama.index.remove) ||\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.isAsyncFunction)(orama.index.afterRemove);\n    if (asyncNeeded) {\n        return removeAsync(orama, id, language, skipHooks);\n    }\n    return removeSync(orama, id, language, skipHooks);\n}\nasync function removeAsync(orama, id, language, skipHooks) {\n    let result = true;\n    const { index, docs } = orama.data;\n    const doc = orama.documentsStore.get(docs, id);\n    if (!doc) {\n        return false;\n    }\n    const internalId = (0,_components_internal_document_id_store_js__WEBPACK_IMPORTED_MODULE_1__.getInternalDocumentId)(orama.internalDocumentIDStore, id);\n    const docId = (0,_components_internal_document_id_store_js__WEBPACK_IMPORTED_MODULE_1__.getDocumentIdFromInternalId)(orama.internalDocumentIDStore, internalId);\n    const docsCount = orama.documentsStore.count(docs);\n    if (!skipHooks) {\n        await (0,_components_hooks_js__WEBPACK_IMPORTED_MODULE_0__.runSingleHook)(orama.beforeRemove, orama, docId);\n    }\n    const indexableProperties = orama.index.getSearchableProperties(index);\n    const indexablePropertiesWithTypes = orama.index.getSearchablePropertiesWithTypes(index);\n    const values = orama.getDocumentProperties(doc, indexableProperties);\n    for (const prop of indexableProperties) {\n        const value = values[prop];\n        if (typeof value === 'undefined') {\n            continue;\n        }\n        const schemaType = indexablePropertiesWithTypes[prop];\n        await orama.index.beforeRemove?.(orama.data.index, prop, docId, value, schemaType, language, orama.tokenizer, docsCount);\n        if (!(await orama.index.remove(orama.index, orama.data.index, prop, id, internalId, value, schemaType, language, orama.tokenizer, docsCount))) {\n            result = false;\n        }\n        await orama.index.afterRemove?.(orama.data.index, prop, docId, value, schemaType, language, orama.tokenizer, docsCount);\n    }\n    const sortableProperties = await orama.sorter.getSortableProperties(orama.data.sorting);\n    const sortableValues = await orama.getDocumentProperties(doc, sortableProperties);\n    for (const prop of sortableProperties) {\n        if (typeof sortableValues[prop] === 'undefined') {\n            continue;\n        }\n        orama.sorter.remove(orama.data.sorting, prop, id);\n    }\n    if (!skipHooks) {\n        await (0,_components_hooks_js__WEBPACK_IMPORTED_MODULE_0__.runSingleHook)(orama.afterRemove, orama, docId);\n    }\n    orama.documentsStore.remove(orama.data.docs, id, internalId);\n    (0,_components_sync_blocking_checker_js__WEBPACK_IMPORTED_MODULE_2__.trackRemoval)(orama);\n    return result;\n}\nfunction removeSync(orama, id, language, skipHooks) {\n    let result = true;\n    const { index, docs } = orama.data;\n    const doc = orama.documentsStore.get(docs, id);\n    if (!doc) {\n        return false;\n    }\n    const internalId = (0,_components_internal_document_id_store_js__WEBPACK_IMPORTED_MODULE_1__.getInternalDocumentId)(orama.internalDocumentIDStore, id);\n    const docId = (0,_components_internal_document_id_store_js__WEBPACK_IMPORTED_MODULE_1__.getDocumentIdFromInternalId)(orama.internalDocumentIDStore, internalId);\n    const docsCount = orama.documentsStore.count(docs);\n    if (!skipHooks) {\n        (0,_components_hooks_js__WEBPACK_IMPORTED_MODULE_0__.runSingleHook)(orama.beforeRemove, orama, docId);\n    }\n    const indexableProperties = orama.index.getSearchableProperties(index);\n    const indexablePropertiesWithTypes = orama.index.getSearchablePropertiesWithTypes(index);\n    const values = orama.getDocumentProperties(doc, indexableProperties);\n    for (const prop of indexableProperties) {\n        const value = values[prop];\n        if (typeof value === 'undefined') {\n            continue;\n        }\n        const schemaType = indexablePropertiesWithTypes[prop];\n        orama.index.beforeRemove?.(orama.data.index, prop, docId, value, schemaType, language, orama.tokenizer, docsCount);\n        if (!orama.index.remove(orama.index, orama.data.index, prop, id, internalId, value, schemaType, language, orama.tokenizer, docsCount)) {\n            result = false;\n        }\n        orama.index.afterRemove?.(orama.data.index, prop, docId, value, schemaType, language, orama.tokenizer, docsCount);\n    }\n    const sortableProperties = orama.sorter.getSortableProperties(orama.data.sorting);\n    const sortableValues = orama.getDocumentProperties(doc, sortableProperties);\n    for (const prop of sortableProperties) {\n        if (typeof sortableValues[prop] === 'undefined') {\n            continue;\n        }\n        orama.sorter.remove(orama.data.sorting, prop, id);\n    }\n    if (!skipHooks) {\n        (0,_components_hooks_js__WEBPACK_IMPORTED_MODULE_0__.runSingleHook)(orama.afterRemove, orama, docId);\n    }\n    orama.documentsStore.remove(orama.data.docs, id, internalId);\n    (0,_components_sync_blocking_checker_js__WEBPACK_IMPORTED_MODULE_2__.trackRemoval)(orama);\n    return result;\n}\nfunction removeMultiple(orama, ids, batchSize, language, skipHooks) {\n    const asyncNeeded = (0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.isAsyncFunction)(orama.index.beforeRemove) ||\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.isAsyncFunction)(orama.index.remove) ||\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.isAsyncFunction)(orama.index.afterRemove) ||\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.isAsyncFunction)(orama.beforeRemoveMultiple) ||\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.isAsyncFunction)(orama.afterRemoveMultiple);\n    if (asyncNeeded) {\n        return removeMultipleAsync(orama, ids, batchSize, language, skipHooks);\n    }\n    return removeMultipleSync(orama, ids, batchSize, language, skipHooks);\n}\nasync function removeMultipleAsync(orama, ids, batchSize, language, skipHooks) {\n    let result = 0;\n    if (!batchSize) {\n        batchSize = 1000;\n    }\n    const docIdsForHooks = skipHooks\n        ? []\n        : ids.map((id) => (0,_components_internal_document_id_store_js__WEBPACK_IMPORTED_MODULE_1__.getDocumentIdFromInternalId)(orama.internalDocumentIDStore, (0,_components_internal_document_id_store_js__WEBPACK_IMPORTED_MODULE_1__.getInternalDocumentId)(orama.internalDocumentIDStore, id)));\n    if (!skipHooks) {\n        await (0,_components_hooks_js__WEBPACK_IMPORTED_MODULE_0__.runMultipleHook)(orama.beforeRemoveMultiple, orama, docIdsForHooks);\n    }\n    await new Promise((resolve, reject) => {\n        let i = 0;\n        async function _removeMultiple() {\n            const batch = ids.slice(i * batchSize, ++i * batchSize);\n            if (!batch.length) {\n                return resolve();\n            }\n            for (const doc of batch) {\n                try {\n                    if (await remove(orama, doc, language, skipHooks)) {\n                        result++;\n                    }\n                }\n                catch (err) {\n                    reject(err);\n                }\n            }\n            setTimeout(_removeMultiple, 0);\n        }\n        setTimeout(_removeMultiple, 0);\n    });\n    if (!skipHooks) {\n        await (0,_components_hooks_js__WEBPACK_IMPORTED_MODULE_0__.runMultipleHook)(orama.afterRemoveMultiple, orama, docIdsForHooks);\n    }\n    return result;\n}\nfunction removeMultipleSync(orama, ids, batchSize, language, skipHooks) {\n    let result = 0;\n    if (!batchSize) {\n        batchSize = 1000;\n    }\n    const docIdsForHooks = skipHooks\n        ? []\n        : ids.map((id) => (0,_components_internal_document_id_store_js__WEBPACK_IMPORTED_MODULE_1__.getDocumentIdFromInternalId)(orama.internalDocumentIDStore, (0,_components_internal_document_id_store_js__WEBPACK_IMPORTED_MODULE_1__.getInternalDocumentId)(orama.internalDocumentIDStore, id)));\n    if (!skipHooks) {\n        (0,_components_hooks_js__WEBPACK_IMPORTED_MODULE_0__.runMultipleHook)(orama.beforeRemoveMultiple, orama, docIdsForHooks);\n    }\n    let i = 0;\n    function _removeMultipleSync() {\n        const batch = ids.slice(i * batchSize, ++i * batchSize);\n        if (!batch.length)\n            return;\n        for (const doc of batch) {\n            if (remove(orama, doc, language, skipHooks)) {\n                result++;\n            }\n        }\n        setTimeout(_removeMultipleSync, 0);\n    }\n    _removeMultipleSync();\n    if (!skipHooks) {\n        (0,_components_hooks_js__WEBPACK_IMPORTED_MODULE_0__.runMultipleHook)(orama.afterRemoveMultiple, orama, docIdsForHooks);\n    }\n    return result;\n}\n//# sourceMappingURL=remove.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9icm93c2VyL21ldGhvZHMvcmVtb3ZlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUF3RTtBQUMwQztBQUM1QztBQUN4QjtBQUN2QztBQUNQLHdCQUF3QiwwREFBZTtBQUN2QyxRQUFRLDBEQUFlO0FBQ3ZCLFFBQVEsMERBQWU7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGNBQWM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsZ0dBQXFCO0FBQzVDLGtCQUFrQixzR0FBMkI7QUFDN0M7QUFDQTtBQUNBLGNBQWMsbUVBQWE7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLG1FQUFhO0FBQzNCO0FBQ0E7QUFDQSxJQUFJLGtGQUFZO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxjQUFjO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLGdHQUFxQjtBQUM1QyxrQkFBa0Isc0dBQTJCO0FBQzdDO0FBQ0E7QUFDQSxRQUFRLG1FQUFhO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxtRUFBYTtBQUNyQjtBQUNBO0FBQ0EsSUFBSSxrRkFBWTtBQUNoQjtBQUNBO0FBQ087QUFDUCx3QkFBd0IsMERBQWU7QUFDdkMsUUFBUSwwREFBZTtBQUN2QixRQUFRLDBEQUFlO0FBQ3ZCLFFBQVEsMERBQWU7QUFDdkIsUUFBUSwwREFBZTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsc0dBQTJCLGdDQUFnQyxnR0FBcUI7QUFDMUc7QUFDQSxjQUFjLHFFQUFlO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLGNBQWMscUVBQWU7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsc0dBQTJCLGdDQUFnQyxnR0FBcUI7QUFDMUc7QUFDQSxRQUFRLHFFQUFlO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEscUVBQWU7QUFDdkI7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy9hcmNoaWVtY2tlbnppZS9EZXNrdG9wL2d0LWxpYnJhcmllcy9kb2NzL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9icm93c2VyL21ldGhvZHMvcmVtb3ZlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHJ1bk11bHRpcGxlSG9vaywgcnVuU2luZ2xlSG9vayB9IGZyb20gJy4uL2NvbXBvbmVudHMvaG9va3MuanMnO1xuaW1wb3J0IHsgZ2V0RG9jdW1lbnRJZEZyb21JbnRlcm5hbElkLCBnZXRJbnRlcm5hbERvY3VtZW50SWQsIH0gZnJvbSAnLi4vY29tcG9uZW50cy9pbnRlcm5hbC1kb2N1bWVudC1pZC1zdG9yZS5qcyc7XG5pbXBvcnQgeyB0cmFja1JlbW92YWwgfSBmcm9tICcuLi9jb21wb25lbnRzL3N5bmMtYmxvY2tpbmctY2hlY2tlci5qcyc7XG5pbXBvcnQgeyBpc0FzeW5jRnVuY3Rpb24gfSBmcm9tICcuLi91dGlscy5qcyc7XG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlKG9yYW1hLCBpZCwgbGFuZ3VhZ2UsIHNraXBIb29rcykge1xuICAgIGNvbnN0IGFzeW5jTmVlZGVkID0gaXNBc3luY0Z1bmN0aW9uKG9yYW1hLmluZGV4LmJlZm9yZVJlbW92ZSkgfHxcbiAgICAgICAgaXNBc3luY0Z1bmN0aW9uKG9yYW1hLmluZGV4LnJlbW92ZSkgfHxcbiAgICAgICAgaXNBc3luY0Z1bmN0aW9uKG9yYW1hLmluZGV4LmFmdGVyUmVtb3ZlKTtcbiAgICBpZiAoYXN5bmNOZWVkZWQpIHtcbiAgICAgICAgcmV0dXJuIHJlbW92ZUFzeW5jKG9yYW1hLCBpZCwgbGFuZ3VhZ2UsIHNraXBIb29rcyk7XG4gICAgfVxuICAgIHJldHVybiByZW1vdmVTeW5jKG9yYW1hLCBpZCwgbGFuZ3VhZ2UsIHNraXBIb29rcyk7XG59XG5hc3luYyBmdW5jdGlvbiByZW1vdmVBc3luYyhvcmFtYSwgaWQsIGxhbmd1YWdlLCBza2lwSG9va3MpIHtcbiAgICBsZXQgcmVzdWx0ID0gdHJ1ZTtcbiAgICBjb25zdCB7IGluZGV4LCBkb2NzIH0gPSBvcmFtYS5kYXRhO1xuICAgIGNvbnN0IGRvYyA9IG9yYW1hLmRvY3VtZW50c1N0b3JlLmdldChkb2NzLCBpZCk7XG4gICAgaWYgKCFkb2MpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBpbnRlcm5hbElkID0gZ2V0SW50ZXJuYWxEb2N1bWVudElkKG9yYW1hLmludGVybmFsRG9jdW1lbnRJRFN0b3JlLCBpZCk7XG4gICAgY29uc3QgZG9jSWQgPSBnZXREb2N1bWVudElkRnJvbUludGVybmFsSWQob3JhbWEuaW50ZXJuYWxEb2N1bWVudElEU3RvcmUsIGludGVybmFsSWQpO1xuICAgIGNvbnN0IGRvY3NDb3VudCA9IG9yYW1hLmRvY3VtZW50c1N0b3JlLmNvdW50KGRvY3MpO1xuICAgIGlmICghc2tpcEhvb2tzKSB7XG4gICAgICAgIGF3YWl0IHJ1blNpbmdsZUhvb2sob3JhbWEuYmVmb3JlUmVtb3ZlLCBvcmFtYSwgZG9jSWQpO1xuICAgIH1cbiAgICBjb25zdCBpbmRleGFibGVQcm9wZXJ0aWVzID0gb3JhbWEuaW5kZXguZ2V0U2VhcmNoYWJsZVByb3BlcnRpZXMoaW5kZXgpO1xuICAgIGNvbnN0IGluZGV4YWJsZVByb3BlcnRpZXNXaXRoVHlwZXMgPSBvcmFtYS5pbmRleC5nZXRTZWFyY2hhYmxlUHJvcGVydGllc1dpdGhUeXBlcyhpbmRleCk7XG4gICAgY29uc3QgdmFsdWVzID0gb3JhbWEuZ2V0RG9jdW1lbnRQcm9wZXJ0aWVzKGRvYywgaW5kZXhhYmxlUHJvcGVydGllcyk7XG4gICAgZm9yIChjb25zdCBwcm9wIG9mIGluZGV4YWJsZVByb3BlcnRpZXMpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSB2YWx1ZXNbcHJvcF07XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzY2hlbWFUeXBlID0gaW5kZXhhYmxlUHJvcGVydGllc1dpdGhUeXBlc1twcm9wXTtcbiAgICAgICAgYXdhaXQgb3JhbWEuaW5kZXguYmVmb3JlUmVtb3ZlPy4ob3JhbWEuZGF0YS5pbmRleCwgcHJvcCwgZG9jSWQsIHZhbHVlLCBzY2hlbWFUeXBlLCBsYW5ndWFnZSwgb3JhbWEudG9rZW5pemVyLCBkb2NzQ291bnQpO1xuICAgICAgICBpZiAoIShhd2FpdCBvcmFtYS5pbmRleC5yZW1vdmUob3JhbWEuaW5kZXgsIG9yYW1hLmRhdGEuaW5kZXgsIHByb3AsIGlkLCBpbnRlcm5hbElkLCB2YWx1ZSwgc2NoZW1hVHlwZSwgbGFuZ3VhZ2UsIG9yYW1hLnRva2VuaXplciwgZG9jc0NvdW50KSkpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IG9yYW1hLmluZGV4LmFmdGVyUmVtb3ZlPy4ob3JhbWEuZGF0YS5pbmRleCwgcHJvcCwgZG9jSWQsIHZhbHVlLCBzY2hlbWFUeXBlLCBsYW5ndWFnZSwgb3JhbWEudG9rZW5pemVyLCBkb2NzQ291bnQpO1xuICAgIH1cbiAgICBjb25zdCBzb3J0YWJsZVByb3BlcnRpZXMgPSBhd2FpdCBvcmFtYS5zb3J0ZXIuZ2V0U29ydGFibGVQcm9wZXJ0aWVzKG9yYW1hLmRhdGEuc29ydGluZyk7XG4gICAgY29uc3Qgc29ydGFibGVWYWx1ZXMgPSBhd2FpdCBvcmFtYS5nZXREb2N1bWVudFByb3BlcnRpZXMoZG9jLCBzb3J0YWJsZVByb3BlcnRpZXMpO1xuICAgIGZvciAoY29uc3QgcHJvcCBvZiBzb3J0YWJsZVByb3BlcnRpZXMpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzb3J0YWJsZVZhbHVlc1twcm9wXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIG9yYW1hLnNvcnRlci5yZW1vdmUob3JhbWEuZGF0YS5zb3J0aW5nLCBwcm9wLCBpZCk7XG4gICAgfVxuICAgIGlmICghc2tpcEhvb2tzKSB7XG4gICAgICAgIGF3YWl0IHJ1blNpbmdsZUhvb2sob3JhbWEuYWZ0ZXJSZW1vdmUsIG9yYW1hLCBkb2NJZCk7XG4gICAgfVxuICAgIG9yYW1hLmRvY3VtZW50c1N0b3JlLnJlbW92ZShvcmFtYS5kYXRhLmRvY3MsIGlkLCBpbnRlcm5hbElkKTtcbiAgICB0cmFja1JlbW92YWwob3JhbWEpO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiByZW1vdmVTeW5jKG9yYW1hLCBpZCwgbGFuZ3VhZ2UsIHNraXBIb29rcykge1xuICAgIGxldCByZXN1bHQgPSB0cnVlO1xuICAgIGNvbnN0IHsgaW5kZXgsIGRvY3MgfSA9IG9yYW1hLmRhdGE7XG4gICAgY29uc3QgZG9jID0gb3JhbWEuZG9jdW1lbnRzU3RvcmUuZ2V0KGRvY3MsIGlkKTtcbiAgICBpZiAoIWRvYykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IGludGVybmFsSWQgPSBnZXRJbnRlcm5hbERvY3VtZW50SWQob3JhbWEuaW50ZXJuYWxEb2N1bWVudElEU3RvcmUsIGlkKTtcbiAgICBjb25zdCBkb2NJZCA9IGdldERvY3VtZW50SWRGcm9tSW50ZXJuYWxJZChvcmFtYS5pbnRlcm5hbERvY3VtZW50SURTdG9yZSwgaW50ZXJuYWxJZCk7XG4gICAgY29uc3QgZG9jc0NvdW50ID0gb3JhbWEuZG9jdW1lbnRzU3RvcmUuY291bnQoZG9jcyk7XG4gICAgaWYgKCFza2lwSG9va3MpIHtcbiAgICAgICAgcnVuU2luZ2xlSG9vayhvcmFtYS5iZWZvcmVSZW1vdmUsIG9yYW1hLCBkb2NJZCk7XG4gICAgfVxuICAgIGNvbnN0IGluZGV4YWJsZVByb3BlcnRpZXMgPSBvcmFtYS5pbmRleC5nZXRTZWFyY2hhYmxlUHJvcGVydGllcyhpbmRleCk7XG4gICAgY29uc3QgaW5kZXhhYmxlUHJvcGVydGllc1dpdGhUeXBlcyA9IG9yYW1hLmluZGV4LmdldFNlYXJjaGFibGVQcm9wZXJ0aWVzV2l0aFR5cGVzKGluZGV4KTtcbiAgICBjb25zdCB2YWx1ZXMgPSBvcmFtYS5nZXREb2N1bWVudFByb3BlcnRpZXMoZG9jLCBpbmRleGFibGVQcm9wZXJ0aWVzKTtcbiAgICBmb3IgKGNvbnN0IHByb3Agb2YgaW5kZXhhYmxlUHJvcGVydGllcykge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHZhbHVlc1twcm9wXTtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNjaGVtYVR5cGUgPSBpbmRleGFibGVQcm9wZXJ0aWVzV2l0aFR5cGVzW3Byb3BdO1xuICAgICAgICBvcmFtYS5pbmRleC5iZWZvcmVSZW1vdmU/LihvcmFtYS5kYXRhLmluZGV4LCBwcm9wLCBkb2NJZCwgdmFsdWUsIHNjaGVtYVR5cGUsIGxhbmd1YWdlLCBvcmFtYS50b2tlbml6ZXIsIGRvY3NDb3VudCk7XG4gICAgICAgIGlmICghb3JhbWEuaW5kZXgucmVtb3ZlKG9yYW1hLmluZGV4LCBvcmFtYS5kYXRhLmluZGV4LCBwcm9wLCBpZCwgaW50ZXJuYWxJZCwgdmFsdWUsIHNjaGVtYVR5cGUsIGxhbmd1YWdlLCBvcmFtYS50b2tlbml6ZXIsIGRvY3NDb3VudCkpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIG9yYW1hLmluZGV4LmFmdGVyUmVtb3ZlPy4ob3JhbWEuZGF0YS5pbmRleCwgcHJvcCwgZG9jSWQsIHZhbHVlLCBzY2hlbWFUeXBlLCBsYW5ndWFnZSwgb3JhbWEudG9rZW5pemVyLCBkb2NzQ291bnQpO1xuICAgIH1cbiAgICBjb25zdCBzb3J0YWJsZVByb3BlcnRpZXMgPSBvcmFtYS5zb3J0ZXIuZ2V0U29ydGFibGVQcm9wZXJ0aWVzKG9yYW1hLmRhdGEuc29ydGluZyk7XG4gICAgY29uc3Qgc29ydGFibGVWYWx1ZXMgPSBvcmFtYS5nZXREb2N1bWVudFByb3BlcnRpZXMoZG9jLCBzb3J0YWJsZVByb3BlcnRpZXMpO1xuICAgIGZvciAoY29uc3QgcHJvcCBvZiBzb3J0YWJsZVByb3BlcnRpZXMpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzb3J0YWJsZVZhbHVlc1twcm9wXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIG9yYW1hLnNvcnRlci5yZW1vdmUob3JhbWEuZGF0YS5zb3J0aW5nLCBwcm9wLCBpZCk7XG4gICAgfVxuICAgIGlmICghc2tpcEhvb2tzKSB7XG4gICAgICAgIHJ1blNpbmdsZUhvb2sob3JhbWEuYWZ0ZXJSZW1vdmUsIG9yYW1hLCBkb2NJZCk7XG4gICAgfVxuICAgIG9yYW1hLmRvY3VtZW50c1N0b3JlLnJlbW92ZShvcmFtYS5kYXRhLmRvY3MsIGlkLCBpbnRlcm5hbElkKTtcbiAgICB0cmFja1JlbW92YWwob3JhbWEpO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlTXVsdGlwbGUob3JhbWEsIGlkcywgYmF0Y2hTaXplLCBsYW5ndWFnZSwgc2tpcEhvb2tzKSB7XG4gICAgY29uc3QgYXN5bmNOZWVkZWQgPSBpc0FzeW5jRnVuY3Rpb24ob3JhbWEuaW5kZXguYmVmb3JlUmVtb3ZlKSB8fFxuICAgICAgICBpc0FzeW5jRnVuY3Rpb24ob3JhbWEuaW5kZXgucmVtb3ZlKSB8fFxuICAgICAgICBpc0FzeW5jRnVuY3Rpb24ob3JhbWEuaW5kZXguYWZ0ZXJSZW1vdmUpIHx8XG4gICAgICAgIGlzQXN5bmNGdW5jdGlvbihvcmFtYS5iZWZvcmVSZW1vdmVNdWx0aXBsZSkgfHxcbiAgICAgICAgaXNBc3luY0Z1bmN0aW9uKG9yYW1hLmFmdGVyUmVtb3ZlTXVsdGlwbGUpO1xuICAgIGlmIChhc3luY05lZWRlZCkge1xuICAgICAgICByZXR1cm4gcmVtb3ZlTXVsdGlwbGVBc3luYyhvcmFtYSwgaWRzLCBiYXRjaFNpemUsIGxhbmd1YWdlLCBza2lwSG9va3MpO1xuICAgIH1cbiAgICByZXR1cm4gcmVtb3ZlTXVsdGlwbGVTeW5jKG9yYW1hLCBpZHMsIGJhdGNoU2l6ZSwgbGFuZ3VhZ2UsIHNraXBIb29rcyk7XG59XG5hc3luYyBmdW5jdGlvbiByZW1vdmVNdWx0aXBsZUFzeW5jKG9yYW1hLCBpZHMsIGJhdGNoU2l6ZSwgbGFuZ3VhZ2UsIHNraXBIb29rcykge1xuICAgIGxldCByZXN1bHQgPSAwO1xuICAgIGlmICghYmF0Y2hTaXplKSB7XG4gICAgICAgIGJhdGNoU2l6ZSA9IDEwMDA7XG4gICAgfVxuICAgIGNvbnN0IGRvY0lkc0Zvckhvb2tzID0gc2tpcEhvb2tzXG4gICAgICAgID8gW11cbiAgICAgICAgOiBpZHMubWFwKChpZCkgPT4gZ2V0RG9jdW1lbnRJZEZyb21JbnRlcm5hbElkKG9yYW1hLmludGVybmFsRG9jdW1lbnRJRFN0b3JlLCBnZXRJbnRlcm5hbERvY3VtZW50SWQob3JhbWEuaW50ZXJuYWxEb2N1bWVudElEU3RvcmUsIGlkKSkpO1xuICAgIGlmICghc2tpcEhvb2tzKSB7XG4gICAgICAgIGF3YWl0IHJ1bk11bHRpcGxlSG9vayhvcmFtYS5iZWZvcmVSZW1vdmVNdWx0aXBsZSwgb3JhbWEsIGRvY0lkc0Zvckhvb2tzKTtcbiAgICB9XG4gICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIGFzeW5jIGZ1bmN0aW9uIF9yZW1vdmVNdWx0aXBsZSgpIHtcbiAgICAgICAgICAgIGNvbnN0IGJhdGNoID0gaWRzLnNsaWNlKGkgKiBiYXRjaFNpemUsICsraSAqIGJhdGNoU2l6ZSk7XG4gICAgICAgICAgICBpZiAoIWJhdGNoLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGRvYyBvZiBiYXRjaCkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhd2FpdCByZW1vdmUob3JhbWEsIGRvYywgbGFuZ3VhZ2UsIHNraXBIb29rcykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCsrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0VGltZW91dChfcmVtb3ZlTXVsdGlwbGUsIDApO1xuICAgICAgICB9XG4gICAgICAgIHNldFRpbWVvdXQoX3JlbW92ZU11bHRpcGxlLCAwKTtcbiAgICB9KTtcbiAgICBpZiAoIXNraXBIb29rcykge1xuICAgICAgICBhd2FpdCBydW5NdWx0aXBsZUhvb2sob3JhbWEuYWZ0ZXJSZW1vdmVNdWx0aXBsZSwgb3JhbWEsIGRvY0lkc0Zvckhvb2tzKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIHJlbW92ZU11bHRpcGxlU3luYyhvcmFtYSwgaWRzLCBiYXRjaFNpemUsIGxhbmd1YWdlLCBza2lwSG9va3MpIHtcbiAgICBsZXQgcmVzdWx0ID0gMDtcbiAgICBpZiAoIWJhdGNoU2l6ZSkge1xuICAgICAgICBiYXRjaFNpemUgPSAxMDAwO1xuICAgIH1cbiAgICBjb25zdCBkb2NJZHNGb3JIb29rcyA9IHNraXBIb29rc1xuICAgICAgICA/IFtdXG4gICAgICAgIDogaWRzLm1hcCgoaWQpID0+IGdldERvY3VtZW50SWRGcm9tSW50ZXJuYWxJZChvcmFtYS5pbnRlcm5hbERvY3VtZW50SURTdG9yZSwgZ2V0SW50ZXJuYWxEb2N1bWVudElkKG9yYW1hLmludGVybmFsRG9jdW1lbnRJRFN0b3JlLCBpZCkpKTtcbiAgICBpZiAoIXNraXBIb29rcykge1xuICAgICAgICBydW5NdWx0aXBsZUhvb2sob3JhbWEuYmVmb3JlUmVtb3ZlTXVsdGlwbGUsIG9yYW1hLCBkb2NJZHNGb3JIb29rcyk7XG4gICAgfVxuICAgIGxldCBpID0gMDtcbiAgICBmdW5jdGlvbiBfcmVtb3ZlTXVsdGlwbGVTeW5jKCkge1xuICAgICAgICBjb25zdCBiYXRjaCA9IGlkcy5zbGljZShpICogYmF0Y2hTaXplLCArK2kgKiBiYXRjaFNpemUpO1xuICAgICAgICBpZiAoIWJhdGNoLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgZm9yIChjb25zdCBkb2Mgb2YgYmF0Y2gpIHtcbiAgICAgICAgICAgIGlmIChyZW1vdmUob3JhbWEsIGRvYywgbGFuZ3VhZ2UsIHNraXBIb29rcykpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzZXRUaW1lb3V0KF9yZW1vdmVNdWx0aXBsZVN5bmMsIDApO1xuICAgIH1cbiAgICBfcmVtb3ZlTXVsdGlwbGVTeW5jKCk7XG4gICAgaWYgKCFza2lwSG9va3MpIHtcbiAgICAgICAgcnVuTXVsdGlwbGVIb29rKG9yYW1hLmFmdGVyUmVtb3ZlTXVsdGlwbGUsIG9yYW1hLCBkb2NJZHNGb3JIb29rcyk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZW1vdmUuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@orama/orama/dist/browser/methods/remove.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@orama/orama/dist/browser/methods/search-fulltext.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@orama/orama/dist/browser/methods/search-fulltext.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   defaultBM25Params: () => (/* binding */ defaultBM25Params),\n/* harmony export */   fullTextSearch: () => (/* binding */ fullTextSearch),\n/* harmony export */   innerFullTextSearch: () => (/* binding */ innerFullTextSearch)\n/* harmony export */ });\n/* harmony import */ var _components_facets_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../components/facets.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/facets.js\");\n/* harmony import */ var _components_groups_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/groups.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/groups.js\");\n/* harmony import */ var _components_hooks_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/hooks.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/hooks.js\");\n/* harmony import */ var _components_internal_document_id_store_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/internal-document-id-store.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/internal-document-id-store.js\");\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../errors.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/errors.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/utils.js\");\n/* harmony import */ var _docs_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./docs.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/methods/docs.js\");\n/* harmony import */ var _search_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./search.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/methods/search.js\");\n\n\n\n\n\n\n\n\nfunction innerFullTextSearch(orama, params, language) {\n    const { term, properties } = params;\n    const index = orama.data.index;\n    // Get searchable string properties\n    let propertiesToSearch = orama.caches['propertiesToSearch'];\n    if (!propertiesToSearch) {\n        const propertiesToSearchWithTypes = orama.index.getSearchablePropertiesWithTypes(index);\n        propertiesToSearch = orama.index.getSearchableProperties(index);\n        propertiesToSearch = propertiesToSearch.filter((prop) => propertiesToSearchWithTypes[prop].startsWith('string'));\n        orama.caches['propertiesToSearch'] = propertiesToSearch;\n    }\n    if (properties && properties !== '*') {\n        for (const prop of properties) {\n            if (!propertiesToSearch.includes(prop)) {\n                throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_4__.createError)('UNKNOWN_INDEX', prop, propertiesToSearch.join(', '));\n            }\n        }\n        propertiesToSearch = propertiesToSearch.filter((prop) => properties.includes(prop));\n    }\n    // If filters are enabled, we need to get the IDs of the documents that match the filters.\n    const hasFilters = Object.keys(params.where ?? {}).length > 0;\n    let whereFiltersIDs;\n    if (hasFilters) {\n        whereFiltersIDs = orama.index.searchByWhereClause(index, orama.tokenizer, params.where, language);\n    }\n    let uniqueDocsIDs;\n    // We need to perform the search if:\n    // - we have a search term\n    // - or we have properties to search\n    //   in this case, we need to return all the documents that contains at least one of the given properties\n    if (term || properties) {\n        const docsCount = (0,_docs_js__WEBPACK_IMPORTED_MODULE_6__.count)(orama);\n        uniqueDocsIDs = orama.index.search(index, term || '', orama.tokenizer, language, propertiesToSearch, params.exact || false, params.tolerance || 0, params.boost || {}, applyDefault(params.relevance), docsCount, whereFiltersIDs, params.threshold !== undefined && params.threshold !== null ? params.threshold : 1);\n    }\n    else {\n        // Tokenizer returns empty array and the search term is empty as well.\n        // We return all the documents.\n        const docIds = whereFiltersIDs ? Array.from(whereFiltersIDs) : Object.keys(orama.documentsStore.getAll(orama.data.docs));\n        uniqueDocsIDs = docIds.map((k) => [+k, 0]);\n    }\n    return uniqueDocsIDs;\n}\nfunction fullTextSearch(orama, params, language) {\n    const timeStart = (0,_utils_js__WEBPACK_IMPORTED_MODULE_5__.getNanosecondsTime)();\n    function performSearchLogic() {\n        const vectorProperties = Object.keys(orama.data.index.vectorIndexes);\n        const shouldCalculateFacets = params.facets && Object.keys(params.facets).length > 0;\n        const { limit = 10, offset = 0, distinctOn, includeVectors = false } = params;\n        const isPreflight = params.preflight === true;\n        let uniqueDocsArray = innerFullTextSearch(orama, params, language);\n        if (params.sortBy) {\n            if (typeof params.sortBy === 'function') {\n                const ids = uniqueDocsArray.map(([id]) => id);\n                const docs = orama.documentsStore.getMultiple(orama.data.docs, ids);\n                const docsWithIdAndScore = docs.map((d, i) => [\n                    uniqueDocsArray[i][0],\n                    uniqueDocsArray[i][1],\n                    d\n                ]);\n                docsWithIdAndScore.sort(params.sortBy);\n                uniqueDocsArray = docsWithIdAndScore.map(([id, score]) => [id, score]);\n            }\n            else {\n                uniqueDocsArray = orama.sorter\n                    .sortBy(orama.data.sorting, uniqueDocsArray, params.sortBy)\n                    .map(([id, score]) => [(0,_components_internal_document_id_store_js__WEBPACK_IMPORTED_MODULE_3__.getInternalDocumentId)(orama.internalDocumentIDStore, id), score]);\n            }\n        }\n        else {\n            uniqueDocsArray = uniqueDocsArray.sort(_utils_js__WEBPACK_IMPORTED_MODULE_5__.sortTokenScorePredicate);\n        }\n        let results;\n        if (!isPreflight) {\n            results = distinctOn\n                ? (0,_search_js__WEBPACK_IMPORTED_MODULE_7__.fetchDocumentsWithDistinct)(orama, uniqueDocsArray, offset, limit, distinctOn)\n                : (0,_search_js__WEBPACK_IMPORTED_MODULE_7__.fetchDocuments)(orama, uniqueDocsArray, offset, limit);\n        }\n        const searchResult = {\n            elapsed: {\n                formatted: '',\n                raw: 0\n            },\n            hits: [],\n            count: uniqueDocsArray.length\n        };\n        if (typeof results !== 'undefined') {\n            searchResult.hits = results.filter(Boolean);\n            if (!includeVectors) {\n                (0,_utils_js__WEBPACK_IMPORTED_MODULE_5__.removeVectorsFromHits)(searchResult, vectorProperties);\n            }\n        }\n        if (shouldCalculateFacets) {\n            const facets = (0,_components_facets_js__WEBPACK_IMPORTED_MODULE_0__.getFacets)(orama, uniqueDocsArray, params.facets);\n            searchResult.facets = facets;\n        }\n        if (params.groupBy) {\n            searchResult.groups = (0,_components_groups_js__WEBPACK_IMPORTED_MODULE_1__.getGroups)(orama, uniqueDocsArray, params.groupBy);\n        }\n        searchResult.elapsed = orama.formatElapsedTime((0,_utils_js__WEBPACK_IMPORTED_MODULE_5__.getNanosecondsTime)() - timeStart);\n        return searchResult;\n    }\n    async function executeSearchAsync() {\n        if (orama.beforeSearch) {\n            await (0,_components_hooks_js__WEBPACK_IMPORTED_MODULE_2__.runBeforeSearch)(orama.beforeSearch, orama, params, language);\n        }\n        const searchResult = performSearchLogic();\n        if (orama.afterSearch) {\n            await (0,_components_hooks_js__WEBPACK_IMPORTED_MODULE_2__.runAfterSearch)(orama.afterSearch, orama, params, language, searchResult);\n        }\n        return searchResult;\n    }\n    const asyncNeeded = orama.beforeSearch?.length || orama.afterSearch?.length;\n    if (asyncNeeded) {\n        return executeSearchAsync();\n    }\n    return performSearchLogic();\n}\nconst defaultBM25Params = {\n    k: 1.2,\n    b: 0.75,\n    d: 0.5\n};\nfunction applyDefault(bm25Relevance) {\n    const r = bm25Relevance ?? {};\n    r.k = r.k ?? defaultBM25Params.k;\n    r.b = r.b ?? defaultBM25Params.b;\n    r.d = r.d ?? defaultBM25Params.d;\n    return r;\n}\n//# sourceMappingURL=search-fulltext.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9icm93c2VyL21ldGhvZHMvc2VhcmNoLWZ1bGx0ZXh0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQW9EO0FBQ0E7QUFDcUI7QUFDVztBQUN6QztBQUNzRDtBQUMvRDtBQUN1QztBQUNsRTtBQUNQLFlBQVksbUJBQW1CO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQix1REFBVztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFEO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLCtDQUFLO0FBQy9CLDZLQUE2SztBQUM3SztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLHNCQUFzQiw2REFBa0I7QUFDeEM7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLDZEQUE2RDtBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLGdHQUFxQjtBQUNoRTtBQUNBO0FBQ0E7QUFDQSxtREFBbUQsOERBQXVCO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLHNFQUEwQjtBQUM1QyxrQkFBa0IsMERBQWM7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsZ0VBQXFCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixnRUFBUztBQUNwQztBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsZ0VBQVM7QUFDM0M7QUFDQSx1REFBdUQsNkRBQWtCO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLHFFQUFlO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixvRUFBYztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL2FyY2hpZW1ja2VuemllL0Rlc2t0b3AvZ3QtbGlicmFyaWVzL2RvY3Mvbm9kZV9tb2R1bGVzL0BvcmFtYS9vcmFtYS9kaXN0L2Jyb3dzZXIvbWV0aG9kcy9zZWFyY2gtZnVsbHRleHQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0RmFjZXRzIH0gZnJvbSAnLi4vY29tcG9uZW50cy9mYWNldHMuanMnO1xuaW1wb3J0IHsgZ2V0R3JvdXBzIH0gZnJvbSAnLi4vY29tcG9uZW50cy9ncm91cHMuanMnO1xuaW1wb3J0IHsgcnVuQWZ0ZXJTZWFyY2gsIHJ1bkJlZm9yZVNlYXJjaCB9IGZyb20gJy4uL2NvbXBvbmVudHMvaG9va3MuanMnO1xuaW1wb3J0IHsgZ2V0SW50ZXJuYWxEb2N1bWVudElkIH0gZnJvbSAnLi4vY29tcG9uZW50cy9pbnRlcm5hbC1kb2N1bWVudC1pZC1zdG9yZS5qcyc7XG5pbXBvcnQgeyBjcmVhdGVFcnJvciB9IGZyb20gJy4uL2Vycm9ycy5qcyc7XG5pbXBvcnQgeyBnZXROYW5vc2Vjb25kc1RpbWUsIHJlbW92ZVZlY3RvcnNGcm9tSGl0cywgc29ydFRva2VuU2NvcmVQcmVkaWNhdGUgfSBmcm9tICcuLi91dGlscy5qcyc7XG5pbXBvcnQgeyBjb3VudCB9IGZyb20gJy4vZG9jcy5qcyc7XG5pbXBvcnQgeyBmZXRjaERvY3VtZW50cywgZmV0Y2hEb2N1bWVudHNXaXRoRGlzdGluY3QgfSBmcm9tICcuL3NlYXJjaC5qcyc7XG5leHBvcnQgZnVuY3Rpb24gaW5uZXJGdWxsVGV4dFNlYXJjaChvcmFtYSwgcGFyYW1zLCBsYW5ndWFnZSkge1xuICAgIGNvbnN0IHsgdGVybSwgcHJvcGVydGllcyB9ID0gcGFyYW1zO1xuICAgIGNvbnN0IGluZGV4ID0gb3JhbWEuZGF0YS5pbmRleDtcbiAgICAvLyBHZXQgc2VhcmNoYWJsZSBzdHJpbmcgcHJvcGVydGllc1xuICAgIGxldCBwcm9wZXJ0aWVzVG9TZWFyY2ggPSBvcmFtYS5jYWNoZXNbJ3Byb3BlcnRpZXNUb1NlYXJjaCddO1xuICAgIGlmICghcHJvcGVydGllc1RvU2VhcmNoKSB7XG4gICAgICAgIGNvbnN0IHByb3BlcnRpZXNUb1NlYXJjaFdpdGhUeXBlcyA9IG9yYW1hLmluZGV4LmdldFNlYXJjaGFibGVQcm9wZXJ0aWVzV2l0aFR5cGVzKGluZGV4KTtcbiAgICAgICAgcHJvcGVydGllc1RvU2VhcmNoID0gb3JhbWEuaW5kZXguZ2V0U2VhcmNoYWJsZVByb3BlcnRpZXMoaW5kZXgpO1xuICAgICAgICBwcm9wZXJ0aWVzVG9TZWFyY2ggPSBwcm9wZXJ0aWVzVG9TZWFyY2guZmlsdGVyKChwcm9wKSA9PiBwcm9wZXJ0aWVzVG9TZWFyY2hXaXRoVHlwZXNbcHJvcF0uc3RhcnRzV2l0aCgnc3RyaW5nJykpO1xuICAgICAgICBvcmFtYS5jYWNoZXNbJ3Byb3BlcnRpZXNUb1NlYXJjaCddID0gcHJvcGVydGllc1RvU2VhcmNoO1xuICAgIH1cbiAgICBpZiAocHJvcGVydGllcyAmJiBwcm9wZXJ0aWVzICE9PSAnKicpIHtcbiAgICAgICAgZm9yIChjb25zdCBwcm9wIG9mIHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgIGlmICghcHJvcGVydGllc1RvU2VhcmNoLmluY2x1ZGVzKHByb3ApKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoJ1VOS05PV05fSU5ERVgnLCBwcm9wLCBwcm9wZXJ0aWVzVG9TZWFyY2guam9pbignLCAnKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcHJvcGVydGllc1RvU2VhcmNoID0gcHJvcGVydGllc1RvU2VhcmNoLmZpbHRlcigocHJvcCkgPT4gcHJvcGVydGllcy5pbmNsdWRlcyhwcm9wKSk7XG4gICAgfVxuICAgIC8vIElmIGZpbHRlcnMgYXJlIGVuYWJsZWQsIHdlIG5lZWQgdG8gZ2V0IHRoZSBJRHMgb2YgdGhlIGRvY3VtZW50cyB0aGF0IG1hdGNoIHRoZSBmaWx0ZXJzLlxuICAgIGNvbnN0IGhhc0ZpbHRlcnMgPSBPYmplY3Qua2V5cyhwYXJhbXMud2hlcmUgPz8ge30pLmxlbmd0aCA+IDA7XG4gICAgbGV0IHdoZXJlRmlsdGVyc0lEcztcbiAgICBpZiAoaGFzRmlsdGVycykge1xuICAgICAgICB3aGVyZUZpbHRlcnNJRHMgPSBvcmFtYS5pbmRleC5zZWFyY2hCeVdoZXJlQ2xhdXNlKGluZGV4LCBvcmFtYS50b2tlbml6ZXIsIHBhcmFtcy53aGVyZSwgbGFuZ3VhZ2UpO1xuICAgIH1cbiAgICBsZXQgdW5pcXVlRG9jc0lEcztcbiAgICAvLyBXZSBuZWVkIHRvIHBlcmZvcm0gdGhlIHNlYXJjaCBpZjpcbiAgICAvLyAtIHdlIGhhdmUgYSBzZWFyY2ggdGVybVxuICAgIC8vIC0gb3Igd2UgaGF2ZSBwcm9wZXJ0aWVzIHRvIHNlYXJjaFxuICAgIC8vICAgaW4gdGhpcyBjYXNlLCB3ZSBuZWVkIHRvIHJldHVybiBhbGwgdGhlIGRvY3VtZW50cyB0aGF0IGNvbnRhaW5zIGF0IGxlYXN0IG9uZSBvZiB0aGUgZ2l2ZW4gcHJvcGVydGllc1xuICAgIGlmICh0ZXJtIHx8IHByb3BlcnRpZXMpIHtcbiAgICAgICAgY29uc3QgZG9jc0NvdW50ID0gY291bnQob3JhbWEpO1xuICAgICAgICB1bmlxdWVEb2NzSURzID0gb3JhbWEuaW5kZXguc2VhcmNoKGluZGV4LCB0ZXJtIHx8ICcnLCBvcmFtYS50b2tlbml6ZXIsIGxhbmd1YWdlLCBwcm9wZXJ0aWVzVG9TZWFyY2gsIHBhcmFtcy5leGFjdCB8fCBmYWxzZSwgcGFyYW1zLnRvbGVyYW5jZSB8fCAwLCBwYXJhbXMuYm9vc3QgfHwge30sIGFwcGx5RGVmYXVsdChwYXJhbXMucmVsZXZhbmNlKSwgZG9jc0NvdW50LCB3aGVyZUZpbHRlcnNJRHMsIHBhcmFtcy50aHJlc2hvbGQgIT09IHVuZGVmaW5lZCAmJiBwYXJhbXMudGhyZXNob2xkICE9PSBudWxsID8gcGFyYW1zLnRocmVzaG9sZCA6IDEpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gVG9rZW5pemVyIHJldHVybnMgZW1wdHkgYXJyYXkgYW5kIHRoZSBzZWFyY2ggdGVybSBpcyBlbXB0eSBhcyB3ZWxsLlxuICAgICAgICAvLyBXZSByZXR1cm4gYWxsIHRoZSBkb2N1bWVudHMuXG4gICAgICAgIGNvbnN0IGRvY0lkcyA9IHdoZXJlRmlsdGVyc0lEcyA/IEFycmF5LmZyb20od2hlcmVGaWx0ZXJzSURzKSA6IE9iamVjdC5rZXlzKG9yYW1hLmRvY3VtZW50c1N0b3JlLmdldEFsbChvcmFtYS5kYXRhLmRvY3MpKTtcbiAgICAgICAgdW5pcXVlRG9jc0lEcyA9IGRvY0lkcy5tYXAoKGspID0+IFsraywgMF0pO1xuICAgIH1cbiAgICByZXR1cm4gdW5pcXVlRG9jc0lEcztcbn1cbmV4cG9ydCBmdW5jdGlvbiBmdWxsVGV4dFNlYXJjaChvcmFtYSwgcGFyYW1zLCBsYW5ndWFnZSkge1xuICAgIGNvbnN0IHRpbWVTdGFydCA9IGdldE5hbm9zZWNvbmRzVGltZSgpO1xuICAgIGZ1bmN0aW9uIHBlcmZvcm1TZWFyY2hMb2dpYygpIHtcbiAgICAgICAgY29uc3QgdmVjdG9yUHJvcGVydGllcyA9IE9iamVjdC5rZXlzKG9yYW1hLmRhdGEuaW5kZXgudmVjdG9ySW5kZXhlcyk7XG4gICAgICAgIGNvbnN0IHNob3VsZENhbGN1bGF0ZUZhY2V0cyA9IHBhcmFtcy5mYWNldHMgJiYgT2JqZWN0LmtleXMocGFyYW1zLmZhY2V0cykubGVuZ3RoID4gMDtcbiAgICAgICAgY29uc3QgeyBsaW1pdCA9IDEwLCBvZmZzZXQgPSAwLCBkaXN0aW5jdE9uLCBpbmNsdWRlVmVjdG9ycyA9IGZhbHNlIH0gPSBwYXJhbXM7XG4gICAgICAgIGNvbnN0IGlzUHJlZmxpZ2h0ID0gcGFyYW1zLnByZWZsaWdodCA9PT0gdHJ1ZTtcbiAgICAgICAgbGV0IHVuaXF1ZURvY3NBcnJheSA9IGlubmVyRnVsbFRleHRTZWFyY2gob3JhbWEsIHBhcmFtcywgbGFuZ3VhZ2UpO1xuICAgICAgICBpZiAocGFyYW1zLnNvcnRCeSkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBwYXJhbXMuc29ydEJ5ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaWRzID0gdW5pcXVlRG9jc0FycmF5Lm1hcCgoW2lkXSkgPT4gaWQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRvY3MgPSBvcmFtYS5kb2N1bWVudHNTdG9yZS5nZXRNdWx0aXBsZShvcmFtYS5kYXRhLmRvY3MsIGlkcyk7XG4gICAgICAgICAgICAgICAgY29uc3QgZG9jc1dpdGhJZEFuZFNjb3JlID0gZG9jcy5tYXAoKGQsIGkpID0+IFtcbiAgICAgICAgICAgICAgICAgICAgdW5pcXVlRG9jc0FycmF5W2ldWzBdLFxuICAgICAgICAgICAgICAgICAgICB1bmlxdWVEb2NzQXJyYXlbaV1bMV0sXG4gICAgICAgICAgICAgICAgICAgIGRcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICBkb2NzV2l0aElkQW5kU2NvcmUuc29ydChwYXJhbXMuc29ydEJ5KTtcbiAgICAgICAgICAgICAgICB1bmlxdWVEb2NzQXJyYXkgPSBkb2NzV2l0aElkQW5kU2NvcmUubWFwKChbaWQsIHNjb3JlXSkgPT4gW2lkLCBzY29yZV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdW5pcXVlRG9jc0FycmF5ID0gb3JhbWEuc29ydGVyXG4gICAgICAgICAgICAgICAgICAgIC5zb3J0Qnkob3JhbWEuZGF0YS5zb3J0aW5nLCB1bmlxdWVEb2NzQXJyYXksIHBhcmFtcy5zb3J0QnkpXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoKFtpZCwgc2NvcmVdKSA9PiBbZ2V0SW50ZXJuYWxEb2N1bWVudElkKG9yYW1hLmludGVybmFsRG9jdW1lbnRJRFN0b3JlLCBpZCksIHNjb3JlXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB1bmlxdWVEb2NzQXJyYXkgPSB1bmlxdWVEb2NzQXJyYXkuc29ydChzb3J0VG9rZW5TY29yZVByZWRpY2F0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHJlc3VsdHM7XG4gICAgICAgIGlmICghaXNQcmVmbGlnaHQpIHtcbiAgICAgICAgICAgIHJlc3VsdHMgPSBkaXN0aW5jdE9uXG4gICAgICAgICAgICAgICAgPyBmZXRjaERvY3VtZW50c1dpdGhEaXN0aW5jdChvcmFtYSwgdW5pcXVlRG9jc0FycmF5LCBvZmZzZXQsIGxpbWl0LCBkaXN0aW5jdE9uKVxuICAgICAgICAgICAgICAgIDogZmV0Y2hEb2N1bWVudHMob3JhbWEsIHVuaXF1ZURvY3NBcnJheSwgb2Zmc2V0LCBsaW1pdCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2VhcmNoUmVzdWx0ID0ge1xuICAgICAgICAgICAgZWxhcHNlZDoge1xuICAgICAgICAgICAgICAgIGZvcm1hdHRlZDogJycsXG4gICAgICAgICAgICAgICAgcmF3OiAwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaGl0czogW10sXG4gICAgICAgICAgICBjb3VudDogdW5pcXVlRG9jc0FycmF5Lmxlbmd0aFxuICAgICAgICB9O1xuICAgICAgICBpZiAodHlwZW9mIHJlc3VsdHMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBzZWFyY2hSZXN1bHQuaGl0cyA9IHJlc3VsdHMuZmlsdGVyKEJvb2xlYW4pO1xuICAgICAgICAgICAgaWYgKCFpbmNsdWRlVmVjdG9ycykge1xuICAgICAgICAgICAgICAgIHJlbW92ZVZlY3RvcnNGcm9tSGl0cyhzZWFyY2hSZXN1bHQsIHZlY3RvclByb3BlcnRpZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzaG91bGRDYWxjdWxhdGVGYWNldHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGZhY2V0cyA9IGdldEZhY2V0cyhvcmFtYSwgdW5pcXVlRG9jc0FycmF5LCBwYXJhbXMuZmFjZXRzKTtcbiAgICAgICAgICAgIHNlYXJjaFJlc3VsdC5mYWNldHMgPSBmYWNldHM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcmFtcy5ncm91cEJ5KSB7XG4gICAgICAgICAgICBzZWFyY2hSZXN1bHQuZ3JvdXBzID0gZ2V0R3JvdXBzKG9yYW1hLCB1bmlxdWVEb2NzQXJyYXksIHBhcmFtcy5ncm91cEJ5KTtcbiAgICAgICAgfVxuICAgICAgICBzZWFyY2hSZXN1bHQuZWxhcHNlZCA9IG9yYW1hLmZvcm1hdEVsYXBzZWRUaW1lKGdldE5hbm9zZWNvbmRzVGltZSgpIC0gdGltZVN0YXJ0KTtcbiAgICAgICAgcmV0dXJuIHNlYXJjaFJlc3VsdDtcbiAgICB9XG4gICAgYXN5bmMgZnVuY3Rpb24gZXhlY3V0ZVNlYXJjaEFzeW5jKCkge1xuICAgICAgICBpZiAob3JhbWEuYmVmb3JlU2VhcmNoKSB7XG4gICAgICAgICAgICBhd2FpdCBydW5CZWZvcmVTZWFyY2gob3JhbWEuYmVmb3JlU2VhcmNoLCBvcmFtYSwgcGFyYW1zLCBsYW5ndWFnZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2VhcmNoUmVzdWx0ID0gcGVyZm9ybVNlYXJjaExvZ2ljKCk7XG4gICAgICAgIGlmIChvcmFtYS5hZnRlclNlYXJjaCkge1xuICAgICAgICAgICAgYXdhaXQgcnVuQWZ0ZXJTZWFyY2gob3JhbWEuYWZ0ZXJTZWFyY2gsIG9yYW1hLCBwYXJhbXMsIGxhbmd1YWdlLCBzZWFyY2hSZXN1bHQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZWFyY2hSZXN1bHQ7XG4gICAgfVxuICAgIGNvbnN0IGFzeW5jTmVlZGVkID0gb3JhbWEuYmVmb3JlU2VhcmNoPy5sZW5ndGggfHwgb3JhbWEuYWZ0ZXJTZWFyY2g/Lmxlbmd0aDtcbiAgICBpZiAoYXN5bmNOZWVkZWQpIHtcbiAgICAgICAgcmV0dXJuIGV4ZWN1dGVTZWFyY2hBc3luYygpO1xuICAgIH1cbiAgICByZXR1cm4gcGVyZm9ybVNlYXJjaExvZ2ljKCk7XG59XG5leHBvcnQgY29uc3QgZGVmYXVsdEJNMjVQYXJhbXMgPSB7XG4gICAgazogMS4yLFxuICAgIGI6IDAuNzUsXG4gICAgZDogMC41XG59O1xuZnVuY3Rpb24gYXBwbHlEZWZhdWx0KGJtMjVSZWxldmFuY2UpIHtcbiAgICBjb25zdCByID0gYm0yNVJlbGV2YW5jZSA/PyB7fTtcbiAgICByLmsgPSByLmsgPz8gZGVmYXVsdEJNMjVQYXJhbXMuaztcbiAgICByLmIgPSByLmIgPz8gZGVmYXVsdEJNMjVQYXJhbXMuYjtcbiAgICByLmQgPSByLmQgPz8gZGVmYXVsdEJNMjVQYXJhbXMuZDtcbiAgICByZXR1cm4gcjtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNlYXJjaC1mdWxsdGV4dC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@orama/orama/dist/browser/methods/search-fulltext.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@orama/orama/dist/browser/methods/search-hybrid.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@orama/orama/dist/browser/methods/search-hybrid.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   hybridSearch: () => (/* binding */ hybridSearch),\n/* harmony export */   innerHybridSearch: () => (/* binding */ innerHybridSearch)\n/* harmony export */ });\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/utils.js\");\n/* harmony import */ var _components_facets_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/facets.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/facets.js\");\n/* harmony import */ var _components_groups_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/groups.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/groups.js\");\n/* harmony import */ var _search_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./search.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/methods/search.js\");\n/* harmony import */ var _search_fulltext_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./search-fulltext.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/methods/search-fulltext.js\");\n/* harmony import */ var _search_vector_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./search-vector.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/methods/search-vector.js\");\n/* harmony import */ var _components_hooks_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../components/hooks.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/hooks.js\");\n\n\n\n\n\n\n\nfunction innerHybridSearch(orama, params, language) {\n    const fullTextIDs = minMaxScoreNormalization((0,_search_fulltext_js__WEBPACK_IMPORTED_MODULE_4__.innerFullTextSearch)(orama, params, language));\n    const vectorIDs = (0,_search_vector_js__WEBPACK_IMPORTED_MODULE_5__.innerVectorSearch)(orama, params, language);\n    const hybridWeights = params.hybridWeights;\n    return mergeAndRankResults(fullTextIDs, vectorIDs, params.term ?? '', hybridWeights);\n}\nfunction hybridSearch(orama, params, language) {\n    const timeStart = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.getNanosecondsTime)();\n    function performSearchLogic() {\n        const uniqueTokenScores = innerHybridSearch(orama, params, language);\n        let facetsResults;\n        const shouldCalculateFacets = params.facets && Object.keys(params.facets).length > 0;\n        if (shouldCalculateFacets) {\n            facetsResults = (0,_components_facets_js__WEBPACK_IMPORTED_MODULE_1__.getFacets)(orama, uniqueTokenScores, params.facets);\n        }\n        let groups;\n        if (params.groupBy) {\n            groups = (0,_components_groups_js__WEBPACK_IMPORTED_MODULE_2__.getGroups)(orama, uniqueTokenScores, params.groupBy);\n        }\n        const offset = params.offset ?? 0;\n        const limit = params.limit ?? 10;\n        const results = (0,_search_js__WEBPACK_IMPORTED_MODULE_3__.fetchDocuments)(orama, uniqueTokenScores, offset, limit).filter(Boolean);\n        const timeEnd = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.getNanosecondsTime)();\n        const returningResults = {\n            count: uniqueTokenScores.length,\n            elapsed: {\n                raw: Number(timeEnd - timeStart),\n                formatted: (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.formatNanoseconds)(timeEnd - timeStart)\n            },\n            hits: results,\n            ...(facetsResults ? { facets: facetsResults } : {}),\n            ...(groups ? { groups } : {})\n        };\n        const includeVectors = params.includeVectors ?? false;\n        if (!includeVectors) {\n            const vectorProperties = Object.keys(orama.data.index.vectorIndexes);\n            (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.removeVectorsFromHits)(returningResults, vectorProperties);\n        }\n        return returningResults;\n    }\n    async function executeSearchAsync() {\n        if (orama.beforeSearch) {\n            await (0,_components_hooks_js__WEBPACK_IMPORTED_MODULE_6__.runBeforeSearch)(orama.beforeSearch, orama, params, language);\n        }\n        const results = performSearchLogic();\n        if (orama.afterSearch) {\n            await (0,_components_hooks_js__WEBPACK_IMPORTED_MODULE_6__.runAfterSearch)(orama.afterSearch, orama, params, language, results);\n        }\n        return results;\n    }\n    const asyncNeeded = orama.beforeSearch?.length || orama.afterSearch?.length;\n    if (asyncNeeded) {\n        return executeSearchAsync();\n    }\n    return performSearchLogic();\n}\nfunction extractScore(token) {\n    return token[1];\n}\nfunction minMaxScoreNormalization(results) {\n    // In this case I disabled the `prefer-spread` rule because spread seems to be slower\n    // eslint-disable-next-line prefer-spread\n    const maxScore = Math.max.apply(Math, results.map(extractScore));\n    return results.map(([id, score]) => [id, score / maxScore]);\n}\nfunction normalizeScore(score, maxScore) {\n    return score / maxScore;\n}\nfunction hybridScoreBuilder(textWeight, vectorWeight) {\n    return (textScore, vectorScore) => textScore * textWeight + vectorScore * vectorWeight;\n}\nfunction mergeAndRankResults(textResults, vectorResults, query, hybridWeights) {\n    // eslint-disable-next-line prefer-spread\n    const maxTextScore = Math.max.apply(Math, textResults.map(extractScore));\n    // eslint-disable-next-line prefer-spread\n    const maxVectorScore = Math.max.apply(Math, vectorResults.map(extractScore));\n    const hasHybridWeights = hybridWeights && hybridWeights.text && hybridWeights.vector;\n    const { text: textWeight, vector: vectorWeight } = hasHybridWeights ? hybridWeights : getQueryWeights(query);\n    const mergedResults = new Map();\n    const textResultsLength = textResults.length;\n    const hybridScore = hybridScoreBuilder(textWeight, vectorWeight);\n    for (let i = 0; i < textResultsLength; i++) {\n        const [id, score] = textResults[i];\n        const normalizedScore = normalizeScore(score, maxTextScore);\n        const hybridScoreValue = hybridScore(normalizedScore, 0);\n        mergedResults.set(id, hybridScoreValue);\n    }\n    const vectorResultsLength = vectorResults.length;\n    for (let i = 0; i < vectorResultsLength; i++) {\n        const [resultId, score] = vectorResults[i];\n        const normalizedScore = normalizeScore(score, maxVectorScore);\n        const existingRes = mergedResults.get(resultId) ?? 0;\n        mergedResults.set(resultId, existingRes + hybridScore(0, normalizedScore));\n    }\n    return [...mergedResults].sort((a, b) => b[1] - a[1]);\n}\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nfunction getQueryWeights(query) {\n    // In the next versions of Orama, we will ship a plugin containing a ML model to adjust the weights\n    // based on whether the query is keyword-focused, conceptual, etc.\n    // For now, we just return a fixed value.\n    return {\n        text: 0.5,\n        vector: 0.5\n    };\n}\n//# sourceMappingURL=search-hybrid.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9icm93c2VyL21ldGhvZHMvc2VhcmNoLWh5YnJpZC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBMkY7QUFDdkM7QUFDQTtBQUNQO0FBQ2M7QUFDSjtBQUNrQjtBQUNsRTtBQUNQLGlEQUFpRCx3RUFBbUI7QUFDcEUsc0JBQXNCLG9FQUFpQjtBQUN2QztBQUNBO0FBQ0E7QUFDTztBQUNQLHNCQUFzQiw2REFBa0I7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixnRUFBUztBQUNyQztBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsZ0VBQVM7QUFDOUI7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLDBEQUFjO0FBQ3RDLHdCQUF3Qiw2REFBa0I7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsNERBQWlCO0FBQzVDLGFBQWE7QUFDYjtBQUNBLGtDQUFrQyx3QkFBd0IsSUFBSTtBQUM5RCwyQkFBMkIsU0FBUyxJQUFJO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxnRUFBcUI7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixxRUFBZTtBQUNqQztBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isb0VBQWM7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSx5Q0FBeUM7QUFDckQ7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHVCQUF1QjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IseUJBQXlCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL2FyY2hpZW1ja2VuemllL0Rlc2t0b3AvZ3QtbGlicmFyaWVzL2RvY3Mvbm9kZV9tb2R1bGVzL0BvcmFtYS9vcmFtYS9kaXN0L2Jyb3dzZXIvbWV0aG9kcy9zZWFyY2gtaHlicmlkLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldE5hbm9zZWNvbmRzVGltZSwgZm9ybWF0TmFub3NlY29uZHMsIHJlbW92ZVZlY3RvcnNGcm9tSGl0cyB9IGZyb20gJy4uL3V0aWxzLmpzJztcbmltcG9ydCB7IGdldEZhY2V0cyB9IGZyb20gJy4uL2NvbXBvbmVudHMvZmFjZXRzLmpzJztcbmltcG9ydCB7IGdldEdyb3VwcyB9IGZyb20gJy4uL2NvbXBvbmVudHMvZ3JvdXBzLmpzJztcbmltcG9ydCB7IGZldGNoRG9jdW1lbnRzIH0gZnJvbSAnLi9zZWFyY2guanMnO1xuaW1wb3J0IHsgaW5uZXJGdWxsVGV4dFNlYXJjaCB9IGZyb20gJy4vc2VhcmNoLWZ1bGx0ZXh0LmpzJztcbmltcG9ydCB7IGlubmVyVmVjdG9yU2VhcmNoIH0gZnJvbSAnLi9zZWFyY2gtdmVjdG9yLmpzJztcbmltcG9ydCB7IHJ1bkFmdGVyU2VhcmNoLCBydW5CZWZvcmVTZWFyY2ggfSBmcm9tICcuLi9jb21wb25lbnRzL2hvb2tzLmpzJztcbmV4cG9ydCBmdW5jdGlvbiBpbm5lckh5YnJpZFNlYXJjaChvcmFtYSwgcGFyYW1zLCBsYW5ndWFnZSkge1xuICAgIGNvbnN0IGZ1bGxUZXh0SURzID0gbWluTWF4U2NvcmVOb3JtYWxpemF0aW9uKGlubmVyRnVsbFRleHRTZWFyY2gob3JhbWEsIHBhcmFtcywgbGFuZ3VhZ2UpKTtcbiAgICBjb25zdCB2ZWN0b3JJRHMgPSBpbm5lclZlY3RvclNlYXJjaChvcmFtYSwgcGFyYW1zLCBsYW5ndWFnZSk7XG4gICAgY29uc3QgaHlicmlkV2VpZ2h0cyA9IHBhcmFtcy5oeWJyaWRXZWlnaHRzO1xuICAgIHJldHVybiBtZXJnZUFuZFJhbmtSZXN1bHRzKGZ1bGxUZXh0SURzLCB2ZWN0b3JJRHMsIHBhcmFtcy50ZXJtID8/ICcnLCBoeWJyaWRXZWlnaHRzKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBoeWJyaWRTZWFyY2gob3JhbWEsIHBhcmFtcywgbGFuZ3VhZ2UpIHtcbiAgICBjb25zdCB0aW1lU3RhcnQgPSBnZXROYW5vc2Vjb25kc1RpbWUoKTtcbiAgICBmdW5jdGlvbiBwZXJmb3JtU2VhcmNoTG9naWMoKSB7XG4gICAgICAgIGNvbnN0IHVuaXF1ZVRva2VuU2NvcmVzID0gaW5uZXJIeWJyaWRTZWFyY2gob3JhbWEsIHBhcmFtcywgbGFuZ3VhZ2UpO1xuICAgICAgICBsZXQgZmFjZXRzUmVzdWx0cztcbiAgICAgICAgY29uc3Qgc2hvdWxkQ2FsY3VsYXRlRmFjZXRzID0gcGFyYW1zLmZhY2V0cyAmJiBPYmplY3Qua2V5cyhwYXJhbXMuZmFjZXRzKS5sZW5ndGggPiAwO1xuICAgICAgICBpZiAoc2hvdWxkQ2FsY3VsYXRlRmFjZXRzKSB7XG4gICAgICAgICAgICBmYWNldHNSZXN1bHRzID0gZ2V0RmFjZXRzKG9yYW1hLCB1bmlxdWVUb2tlblNjb3JlcywgcGFyYW1zLmZhY2V0cyk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGdyb3VwcztcbiAgICAgICAgaWYgKHBhcmFtcy5ncm91cEJ5KSB7XG4gICAgICAgICAgICBncm91cHMgPSBnZXRHcm91cHMob3JhbWEsIHVuaXF1ZVRva2VuU2NvcmVzLCBwYXJhbXMuZ3JvdXBCeSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gcGFyYW1zLm9mZnNldCA/PyAwO1xuICAgICAgICBjb25zdCBsaW1pdCA9IHBhcmFtcy5saW1pdCA/PyAxMDtcbiAgICAgICAgY29uc3QgcmVzdWx0cyA9IGZldGNoRG9jdW1lbnRzKG9yYW1hLCB1bmlxdWVUb2tlblNjb3Jlcywgb2Zmc2V0LCBsaW1pdCkuZmlsdGVyKEJvb2xlYW4pO1xuICAgICAgICBjb25zdCB0aW1lRW5kID0gZ2V0TmFub3NlY29uZHNUaW1lKCk7XG4gICAgICAgIGNvbnN0IHJldHVybmluZ1Jlc3VsdHMgPSB7XG4gICAgICAgICAgICBjb3VudDogdW5pcXVlVG9rZW5TY29yZXMubGVuZ3RoLFxuICAgICAgICAgICAgZWxhcHNlZDoge1xuICAgICAgICAgICAgICAgIHJhdzogTnVtYmVyKHRpbWVFbmQgLSB0aW1lU3RhcnQpLFxuICAgICAgICAgICAgICAgIGZvcm1hdHRlZDogZm9ybWF0TmFub3NlY29uZHModGltZUVuZCAtIHRpbWVTdGFydClcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBoaXRzOiByZXN1bHRzLFxuICAgICAgICAgICAgLi4uKGZhY2V0c1Jlc3VsdHMgPyB7IGZhY2V0czogZmFjZXRzUmVzdWx0cyB9IDoge30pLFxuICAgICAgICAgICAgLi4uKGdyb3VwcyA/IHsgZ3JvdXBzIH0gOiB7fSlcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgaW5jbHVkZVZlY3RvcnMgPSBwYXJhbXMuaW5jbHVkZVZlY3RvcnMgPz8gZmFsc2U7XG4gICAgICAgIGlmICghaW5jbHVkZVZlY3RvcnMpIHtcbiAgICAgICAgICAgIGNvbnN0IHZlY3RvclByb3BlcnRpZXMgPSBPYmplY3Qua2V5cyhvcmFtYS5kYXRhLmluZGV4LnZlY3RvckluZGV4ZXMpO1xuICAgICAgICAgICAgcmVtb3ZlVmVjdG9yc0Zyb21IaXRzKHJldHVybmluZ1Jlc3VsdHMsIHZlY3RvclByb3BlcnRpZXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXR1cm5pbmdSZXN1bHRzO1xuICAgIH1cbiAgICBhc3luYyBmdW5jdGlvbiBleGVjdXRlU2VhcmNoQXN5bmMoKSB7XG4gICAgICAgIGlmIChvcmFtYS5iZWZvcmVTZWFyY2gpIHtcbiAgICAgICAgICAgIGF3YWl0IHJ1bkJlZm9yZVNlYXJjaChvcmFtYS5iZWZvcmVTZWFyY2gsIG9yYW1hLCBwYXJhbXMsIGxhbmd1YWdlKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXN1bHRzID0gcGVyZm9ybVNlYXJjaExvZ2ljKCk7XG4gICAgICAgIGlmIChvcmFtYS5hZnRlclNlYXJjaCkge1xuICAgICAgICAgICAgYXdhaXQgcnVuQWZ0ZXJTZWFyY2gob3JhbWEuYWZ0ZXJTZWFyY2gsIG9yYW1hLCBwYXJhbXMsIGxhbmd1YWdlLCByZXN1bHRzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICB9XG4gICAgY29uc3QgYXN5bmNOZWVkZWQgPSBvcmFtYS5iZWZvcmVTZWFyY2g/Lmxlbmd0aCB8fCBvcmFtYS5hZnRlclNlYXJjaD8ubGVuZ3RoO1xuICAgIGlmIChhc3luY05lZWRlZCkge1xuICAgICAgICByZXR1cm4gZXhlY3V0ZVNlYXJjaEFzeW5jKCk7XG4gICAgfVxuICAgIHJldHVybiBwZXJmb3JtU2VhcmNoTG9naWMoKTtcbn1cbmZ1bmN0aW9uIGV4dHJhY3RTY29yZSh0b2tlbikge1xuICAgIHJldHVybiB0b2tlblsxXTtcbn1cbmZ1bmN0aW9uIG1pbk1heFNjb3JlTm9ybWFsaXphdGlvbihyZXN1bHRzKSB7XG4gICAgLy8gSW4gdGhpcyBjYXNlIEkgZGlzYWJsZWQgdGhlIGBwcmVmZXItc3ByZWFkYCBydWxlIGJlY2F1c2Ugc3ByZWFkIHNlZW1zIHRvIGJlIHNsb3dlclxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItc3ByZWFkXG4gICAgY29uc3QgbWF4U2NvcmUgPSBNYXRoLm1heC5hcHBseShNYXRoLCByZXN1bHRzLm1hcChleHRyYWN0U2NvcmUpKTtcbiAgICByZXR1cm4gcmVzdWx0cy5tYXAoKFtpZCwgc2NvcmVdKSA9PiBbaWQsIHNjb3JlIC8gbWF4U2NvcmVdKTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZVNjb3JlKHNjb3JlLCBtYXhTY29yZSkge1xuICAgIHJldHVybiBzY29yZSAvIG1heFNjb3JlO1xufVxuZnVuY3Rpb24gaHlicmlkU2NvcmVCdWlsZGVyKHRleHRXZWlnaHQsIHZlY3RvcldlaWdodCkge1xuICAgIHJldHVybiAodGV4dFNjb3JlLCB2ZWN0b3JTY29yZSkgPT4gdGV4dFNjb3JlICogdGV4dFdlaWdodCArIHZlY3RvclNjb3JlICogdmVjdG9yV2VpZ2h0O1xufVxuZnVuY3Rpb24gbWVyZ2VBbmRSYW5rUmVzdWx0cyh0ZXh0UmVzdWx0cywgdmVjdG9yUmVzdWx0cywgcXVlcnksIGh5YnJpZFdlaWdodHMpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLXNwcmVhZFxuICAgIGNvbnN0IG1heFRleHRTY29yZSA9IE1hdGgubWF4LmFwcGx5KE1hdGgsIHRleHRSZXN1bHRzLm1hcChleHRyYWN0U2NvcmUpKTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLXNwcmVhZFxuICAgIGNvbnN0IG1heFZlY3RvclNjb3JlID0gTWF0aC5tYXguYXBwbHkoTWF0aCwgdmVjdG9yUmVzdWx0cy5tYXAoZXh0cmFjdFNjb3JlKSk7XG4gICAgY29uc3QgaGFzSHlicmlkV2VpZ2h0cyA9IGh5YnJpZFdlaWdodHMgJiYgaHlicmlkV2VpZ2h0cy50ZXh0ICYmIGh5YnJpZFdlaWdodHMudmVjdG9yO1xuICAgIGNvbnN0IHsgdGV4dDogdGV4dFdlaWdodCwgdmVjdG9yOiB2ZWN0b3JXZWlnaHQgfSA9IGhhc0h5YnJpZFdlaWdodHMgPyBoeWJyaWRXZWlnaHRzIDogZ2V0UXVlcnlXZWlnaHRzKHF1ZXJ5KTtcbiAgICBjb25zdCBtZXJnZWRSZXN1bHRzID0gbmV3IE1hcCgpO1xuICAgIGNvbnN0IHRleHRSZXN1bHRzTGVuZ3RoID0gdGV4dFJlc3VsdHMubGVuZ3RoO1xuICAgIGNvbnN0IGh5YnJpZFNjb3JlID0gaHlicmlkU2NvcmVCdWlsZGVyKHRleHRXZWlnaHQsIHZlY3RvcldlaWdodCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0ZXh0UmVzdWx0c0xlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IFtpZCwgc2NvcmVdID0gdGV4dFJlc3VsdHNbaV07XG4gICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRTY29yZSA9IG5vcm1hbGl6ZVNjb3JlKHNjb3JlLCBtYXhUZXh0U2NvcmUpO1xuICAgICAgICBjb25zdCBoeWJyaWRTY29yZVZhbHVlID0gaHlicmlkU2NvcmUobm9ybWFsaXplZFNjb3JlLCAwKTtcbiAgICAgICAgbWVyZ2VkUmVzdWx0cy5zZXQoaWQsIGh5YnJpZFNjb3JlVmFsdWUpO1xuICAgIH1cbiAgICBjb25zdCB2ZWN0b3JSZXN1bHRzTGVuZ3RoID0gdmVjdG9yUmVzdWx0cy5sZW5ndGg7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2ZWN0b3JSZXN1bHRzTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgW3Jlc3VsdElkLCBzY29yZV0gPSB2ZWN0b3JSZXN1bHRzW2ldO1xuICAgICAgICBjb25zdCBub3JtYWxpemVkU2NvcmUgPSBub3JtYWxpemVTY29yZShzY29yZSwgbWF4VmVjdG9yU2NvcmUpO1xuICAgICAgICBjb25zdCBleGlzdGluZ1JlcyA9IG1lcmdlZFJlc3VsdHMuZ2V0KHJlc3VsdElkKSA/PyAwO1xuICAgICAgICBtZXJnZWRSZXN1bHRzLnNldChyZXN1bHRJZCwgZXhpc3RpbmdSZXMgKyBoeWJyaWRTY29yZSgwLCBub3JtYWxpemVkU2NvcmUpKTtcbiAgICB9XG4gICAgcmV0dXJuIFsuLi5tZXJnZWRSZXN1bHRzXS5zb3J0KChhLCBiKSA9PiBiWzFdIC0gYVsxXSk7XG59XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXG5mdW5jdGlvbiBnZXRRdWVyeVdlaWdodHMocXVlcnkpIHtcbiAgICAvLyBJbiB0aGUgbmV4dCB2ZXJzaW9ucyBvZiBPcmFtYSwgd2Ugd2lsbCBzaGlwIGEgcGx1Z2luIGNvbnRhaW5pbmcgYSBNTCBtb2RlbCB0byBhZGp1c3QgdGhlIHdlaWdodHNcbiAgICAvLyBiYXNlZCBvbiB3aGV0aGVyIHRoZSBxdWVyeSBpcyBrZXl3b3JkLWZvY3VzZWQsIGNvbmNlcHR1YWwsIGV0Yy5cbiAgICAvLyBGb3Igbm93LCB3ZSBqdXN0IHJldHVybiBhIGZpeGVkIHZhbHVlLlxuICAgIHJldHVybiB7XG4gICAgICAgIHRleHQ6IDAuNSxcbiAgICAgICAgdmVjdG9yOiAwLjVcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2VhcmNoLWh5YnJpZC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@orama/orama/dist/browser/methods/search-hybrid.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@orama/orama/dist/browser/methods/search-vector.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@orama/orama/dist/browser/methods/search-vector.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   innerVectorSearch: () => (/* binding */ innerVectorSearch),\n/* harmony export */   searchVector: () => (/* binding */ searchVector)\n/* harmony export */ });\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/utils.js\");\n/* harmony import */ var _components_facets_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/facets.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/facets.js\");\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../errors.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/errors.js\");\n/* harmony import */ var _components_groups_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/groups.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/groups.js\");\n/* harmony import */ var _components_internal_document_id_store_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/internal-document-id-store.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/internal-document-id-store.js\");\n/* harmony import */ var _components_hooks_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/hooks.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/hooks.js\");\n/* harmony import */ var _trees_vector_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../trees/vector.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/trees/vector.js\");\n\n\n\n\n\n\n\nfunction innerVectorSearch(orama, params, language) {\n    const vector = params.vector;\n    if (vector && (!('value' in vector) || !('property' in vector))) {\n        throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_2__.createError)('INVALID_VECTOR_INPUT', Object.keys(vector).join(', '));\n    }\n    const vectorIndex = orama.data.index.vectorIndexes[vector.property];\n    const vectorSize = vectorIndex.node.size;\n    if (vector?.value.length !== vectorSize) {\n        if (vector?.property === undefined || vector?.value.length === undefined) {\n            throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_2__.createError)('INVALID_INPUT_VECTOR', 'undefined', vectorSize, 'undefined');\n        }\n        throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_2__.createError)('INVALID_INPUT_VECTOR', vector.property, vectorSize, vector.value.length);\n    }\n    const index = orama.data.index;\n    let whereFiltersIDs;\n    const hasFilters = Object.keys(params.where ?? {}).length > 0;\n    if (hasFilters) {\n        whereFiltersIDs = orama.index.searchByWhereClause(index, orama.tokenizer, params.where, language);\n    }\n    return vectorIndex.node.find(vector.value, params.similarity ?? _trees_vector_js__WEBPACK_IMPORTED_MODULE_6__.DEFAULT_SIMILARITY, whereFiltersIDs);\n}\nfunction searchVector(orama, params, language = 'english') {\n    const timeStart = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.getNanosecondsTime)();\n    function performSearchLogic() {\n        const results = innerVectorSearch(orama, params, language)\n            .sort(_utils_js__WEBPACK_IMPORTED_MODULE_0__.sortTokenScorePredicate);\n        let facetsResults = [];\n        const shouldCalculateFacets = params.facets && Object.keys(params.facets).length > 0;\n        if (shouldCalculateFacets) {\n            const facets = (0,_components_facets_js__WEBPACK_IMPORTED_MODULE_1__.getFacets)(orama, results, params.facets);\n            facetsResults = facets;\n        }\n        const vectorProperty = params.vector.property;\n        const includeVectors = params.includeVectors ?? false;\n        const limit = params.limit ?? 10;\n        const offset = params.offset ?? 0;\n        const docs = Array.from({ length: limit });\n        for (let i = 0; i < limit; i++) {\n            const result = results[i + offset];\n            if (!result) {\n                break;\n            }\n            const doc = orama.data.docs.docs[result[0]];\n            if (doc) {\n                if (!includeVectors) {\n                    doc[vectorProperty] = null;\n                }\n                const newDoc = {\n                    id: (0,_components_internal_document_id_store_js__WEBPACK_IMPORTED_MODULE_4__.getDocumentIdFromInternalId)(orama.internalDocumentIDStore, result[0]),\n                    score: result[1],\n                    document: doc\n                };\n                docs[i] = newDoc;\n            }\n        }\n        let groups = [];\n        if (params.groupBy) {\n            groups = (0,_components_groups_js__WEBPACK_IMPORTED_MODULE_3__.getGroups)(orama, results, params.groupBy);\n        }\n        const timeEnd = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.getNanosecondsTime)();\n        const elapsedTime = timeEnd - timeStart;\n        return {\n            count: results.length,\n            hits: docs.filter(Boolean),\n            elapsed: {\n                raw: Number(elapsedTime),\n                formatted: (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.formatNanoseconds)(elapsedTime)\n            },\n            ...(facetsResults ? { facets: facetsResults } : {}),\n            ...(groups ? { groups } : {})\n        };\n    }\n    async function executeSearchAsync() {\n        if (orama.beforeSearch) {\n            await (0,_components_hooks_js__WEBPACK_IMPORTED_MODULE_5__.runBeforeSearch)(orama.beforeSearch, orama, params, language);\n        }\n        const results = performSearchLogic();\n        if (orama.afterSearch) {\n            await (0,_components_hooks_js__WEBPACK_IMPORTED_MODULE_5__.runAfterSearch)(orama.afterSearch, orama, params, language, results);\n        }\n        return results;\n    }\n    const asyncNeeded = orama.beforeSearch?.length || orama.afterSearch?.length;\n    if (asyncNeeded) {\n        return executeSearchAsync();\n    }\n    // Sync path\n    return performSearchLogic();\n}\n//# sourceMappingURL=search-vector.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9icm93c2VyL21ldGhvZHMvc2VhcmNoLXZlY3Rvci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBNkY7QUFDekM7QUFDVDtBQUNTO0FBQ3NDO0FBQ2pCO0FBQ2pCO0FBQ2pEO0FBQ1A7QUFDQTtBQUNBLGNBQWMsdURBQVc7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQix1REFBVztBQUM3QjtBQUNBLGNBQWMsdURBQVc7QUFDekI7QUFDQTtBQUNBO0FBQ0EscURBQXFEO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBLG9FQUFvRSxnRUFBa0I7QUFDdEY7QUFDTztBQUNQLHNCQUFzQiw2REFBa0I7QUFDeEM7QUFDQTtBQUNBLGtCQUFrQiw4REFBdUI7QUFDekM7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLGdFQUFTO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxlQUFlO0FBQ2pELHdCQUF3QixXQUFXO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHNHQUEyQjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLGdFQUFTO0FBQzlCO0FBQ0Esd0JBQXdCLDZEQUFrQjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsNERBQWlCO0FBQzVDLGFBQWE7QUFDYixrQ0FBa0Msd0JBQXdCLElBQUk7QUFDOUQsMkJBQTJCLFNBQVMsSUFBSTtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixxRUFBZTtBQUNqQztBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isb0VBQWM7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL2FyY2hpZW1ja2VuemllL0Rlc2t0b3AvZ3QtbGlicmFyaWVzL2RvY3Mvbm9kZV9tb2R1bGVzL0BvcmFtYS9vcmFtYS9kaXN0L2Jyb3dzZXIvbWV0aG9kcy9zZWFyY2gtdmVjdG9yLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldE5hbm9zZWNvbmRzVGltZSwgZm9ybWF0TmFub3NlY29uZHMsIHNvcnRUb2tlblNjb3JlUHJlZGljYXRlIH0gZnJvbSAnLi4vdXRpbHMuanMnO1xuaW1wb3J0IHsgZ2V0RmFjZXRzIH0gZnJvbSAnLi4vY29tcG9uZW50cy9mYWNldHMuanMnO1xuaW1wb3J0IHsgY3JlYXRlRXJyb3IgfSBmcm9tICcuLi9lcnJvcnMuanMnO1xuaW1wb3J0IHsgZ2V0R3JvdXBzIH0gZnJvbSAnLi4vY29tcG9uZW50cy9ncm91cHMuanMnO1xuaW1wb3J0IHsgZ2V0RG9jdW1lbnRJZEZyb21JbnRlcm5hbElkIH0gZnJvbSAnLi4vY29tcG9uZW50cy9pbnRlcm5hbC1kb2N1bWVudC1pZC1zdG9yZS5qcyc7XG5pbXBvcnQgeyBydW5CZWZvcmVTZWFyY2gsIHJ1bkFmdGVyU2VhcmNoIH0gZnJvbSAnLi4vY29tcG9uZW50cy9ob29rcy5qcyc7XG5pbXBvcnQgeyBERUZBVUxUX1NJTUlMQVJJVFkgfSBmcm9tICcuLi90cmVlcy92ZWN0b3IuanMnO1xuZXhwb3J0IGZ1bmN0aW9uIGlubmVyVmVjdG9yU2VhcmNoKG9yYW1hLCBwYXJhbXMsIGxhbmd1YWdlKSB7XG4gICAgY29uc3QgdmVjdG9yID0gcGFyYW1zLnZlY3RvcjtcbiAgICBpZiAodmVjdG9yICYmICghKCd2YWx1ZScgaW4gdmVjdG9yKSB8fCAhKCdwcm9wZXJ0eScgaW4gdmVjdG9yKSkpIHtcbiAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoJ0lOVkFMSURfVkVDVE9SX0lOUFVUJywgT2JqZWN0LmtleXModmVjdG9yKS5qb2luKCcsICcpKTtcbiAgICB9XG4gICAgY29uc3QgdmVjdG9ySW5kZXggPSBvcmFtYS5kYXRhLmluZGV4LnZlY3RvckluZGV4ZXNbdmVjdG9yLnByb3BlcnR5XTtcbiAgICBjb25zdCB2ZWN0b3JTaXplID0gdmVjdG9ySW5kZXgubm9kZS5zaXplO1xuICAgIGlmICh2ZWN0b3I/LnZhbHVlLmxlbmd0aCAhPT0gdmVjdG9yU2l6ZSkge1xuICAgICAgICBpZiAodmVjdG9yPy5wcm9wZXJ0eSA9PT0gdW5kZWZpbmVkIHx8IHZlY3Rvcj8udmFsdWUubGVuZ3RoID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUVycm9yKCdJTlZBTElEX0lOUFVUX1ZFQ1RPUicsICd1bmRlZmluZWQnLCB2ZWN0b3JTaXplLCAndW5kZWZpbmVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoJ0lOVkFMSURfSU5QVVRfVkVDVE9SJywgdmVjdG9yLnByb3BlcnR5LCB2ZWN0b3JTaXplLCB2ZWN0b3IudmFsdWUubGVuZ3RoKTtcbiAgICB9XG4gICAgY29uc3QgaW5kZXggPSBvcmFtYS5kYXRhLmluZGV4O1xuICAgIGxldCB3aGVyZUZpbHRlcnNJRHM7XG4gICAgY29uc3QgaGFzRmlsdGVycyA9IE9iamVjdC5rZXlzKHBhcmFtcy53aGVyZSA/PyB7fSkubGVuZ3RoID4gMDtcbiAgICBpZiAoaGFzRmlsdGVycykge1xuICAgICAgICB3aGVyZUZpbHRlcnNJRHMgPSBvcmFtYS5pbmRleC5zZWFyY2hCeVdoZXJlQ2xhdXNlKGluZGV4LCBvcmFtYS50b2tlbml6ZXIsIHBhcmFtcy53aGVyZSwgbGFuZ3VhZ2UpO1xuICAgIH1cbiAgICByZXR1cm4gdmVjdG9ySW5kZXgubm9kZS5maW5kKHZlY3Rvci52YWx1ZSwgcGFyYW1zLnNpbWlsYXJpdHkgPz8gREVGQVVMVF9TSU1JTEFSSVRZLCB3aGVyZUZpbHRlcnNJRHMpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNlYXJjaFZlY3RvcihvcmFtYSwgcGFyYW1zLCBsYW5ndWFnZSA9ICdlbmdsaXNoJykge1xuICAgIGNvbnN0IHRpbWVTdGFydCA9IGdldE5hbm9zZWNvbmRzVGltZSgpO1xuICAgIGZ1bmN0aW9uIHBlcmZvcm1TZWFyY2hMb2dpYygpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0cyA9IGlubmVyVmVjdG9yU2VhcmNoKG9yYW1hLCBwYXJhbXMsIGxhbmd1YWdlKVxuICAgICAgICAgICAgLnNvcnQoc29ydFRva2VuU2NvcmVQcmVkaWNhdGUpO1xuICAgICAgICBsZXQgZmFjZXRzUmVzdWx0cyA9IFtdO1xuICAgICAgICBjb25zdCBzaG91bGRDYWxjdWxhdGVGYWNldHMgPSBwYXJhbXMuZmFjZXRzICYmIE9iamVjdC5rZXlzKHBhcmFtcy5mYWNldHMpLmxlbmd0aCA+IDA7XG4gICAgICAgIGlmIChzaG91bGRDYWxjdWxhdGVGYWNldHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGZhY2V0cyA9IGdldEZhY2V0cyhvcmFtYSwgcmVzdWx0cywgcGFyYW1zLmZhY2V0cyk7XG4gICAgICAgICAgICBmYWNldHNSZXN1bHRzID0gZmFjZXRzO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZlY3RvclByb3BlcnR5ID0gcGFyYW1zLnZlY3Rvci5wcm9wZXJ0eTtcbiAgICAgICAgY29uc3QgaW5jbHVkZVZlY3RvcnMgPSBwYXJhbXMuaW5jbHVkZVZlY3RvcnMgPz8gZmFsc2U7XG4gICAgICAgIGNvbnN0IGxpbWl0ID0gcGFyYW1zLmxpbWl0ID8/IDEwO1xuICAgICAgICBjb25zdCBvZmZzZXQgPSBwYXJhbXMub2Zmc2V0ID8/IDA7XG4gICAgICAgIGNvbnN0IGRvY3MgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiBsaW1pdCB9KTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaW1pdDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSByZXN1bHRzW2kgKyBvZmZzZXRdO1xuICAgICAgICAgICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGRvYyA9IG9yYW1hLmRhdGEuZG9jcy5kb2NzW3Jlc3VsdFswXV07XG4gICAgICAgICAgICBpZiAoZG9jKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpbmNsdWRlVmVjdG9ycykge1xuICAgICAgICAgICAgICAgICAgICBkb2NbdmVjdG9yUHJvcGVydHldID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3RG9jID0ge1xuICAgICAgICAgICAgICAgICAgICBpZDogZ2V0RG9jdW1lbnRJZEZyb21JbnRlcm5hbElkKG9yYW1hLmludGVybmFsRG9jdW1lbnRJRFN0b3JlLCByZXN1bHRbMF0pLFxuICAgICAgICAgICAgICAgICAgICBzY29yZTogcmVzdWx0WzFdLFxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudDogZG9jXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBkb2NzW2ldID0gbmV3RG9jO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCBncm91cHMgPSBbXTtcbiAgICAgICAgaWYgKHBhcmFtcy5ncm91cEJ5KSB7XG4gICAgICAgICAgICBncm91cHMgPSBnZXRHcm91cHMob3JhbWEsIHJlc3VsdHMsIHBhcmFtcy5ncm91cEJ5KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0aW1lRW5kID0gZ2V0TmFub3NlY29uZHNUaW1lKCk7XG4gICAgICAgIGNvbnN0IGVsYXBzZWRUaW1lID0gdGltZUVuZCAtIHRpbWVTdGFydDtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNvdW50OiByZXN1bHRzLmxlbmd0aCxcbiAgICAgICAgICAgIGhpdHM6IGRvY3MuZmlsdGVyKEJvb2xlYW4pLFxuICAgICAgICAgICAgZWxhcHNlZDoge1xuICAgICAgICAgICAgICAgIHJhdzogTnVtYmVyKGVsYXBzZWRUaW1lKSxcbiAgICAgICAgICAgICAgICBmb3JtYXR0ZWQ6IGZvcm1hdE5hbm9zZWNvbmRzKGVsYXBzZWRUaW1lKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC4uLihmYWNldHNSZXN1bHRzID8geyBmYWNldHM6IGZhY2V0c1Jlc3VsdHMgfSA6IHt9KSxcbiAgICAgICAgICAgIC4uLihncm91cHMgPyB7IGdyb3VwcyB9IDoge30pXG4gICAgICAgIH07XG4gICAgfVxuICAgIGFzeW5jIGZ1bmN0aW9uIGV4ZWN1dGVTZWFyY2hBc3luYygpIHtcbiAgICAgICAgaWYgKG9yYW1hLmJlZm9yZVNlYXJjaCkge1xuICAgICAgICAgICAgYXdhaXQgcnVuQmVmb3JlU2VhcmNoKG9yYW1hLmJlZm9yZVNlYXJjaCwgb3JhbWEsIHBhcmFtcywgbGFuZ3VhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdHMgPSBwZXJmb3JtU2VhcmNoTG9naWMoKTtcbiAgICAgICAgaWYgKG9yYW1hLmFmdGVyU2VhcmNoKSB7XG4gICAgICAgICAgICBhd2FpdCBydW5BZnRlclNlYXJjaChvcmFtYS5hZnRlclNlYXJjaCwgb3JhbWEsIHBhcmFtcywgbGFuZ3VhZ2UsIHJlc3VsdHMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgIH1cbiAgICBjb25zdCBhc3luY05lZWRlZCA9IG9yYW1hLmJlZm9yZVNlYXJjaD8ubGVuZ3RoIHx8IG9yYW1hLmFmdGVyU2VhcmNoPy5sZW5ndGg7XG4gICAgaWYgKGFzeW5jTmVlZGVkKSB7XG4gICAgICAgIHJldHVybiBleGVjdXRlU2VhcmNoQXN5bmMoKTtcbiAgICB9XG4gICAgLy8gU3luYyBwYXRoXG4gICAgcmV0dXJuIHBlcmZvcm1TZWFyY2hMb2dpYygpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2VhcmNoLXZlY3Rvci5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@orama/orama/dist/browser/methods/search-vector.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@orama/orama/dist/browser/methods/search.js":
/*!******************************************************************!*\
  !*** ./node_modules/@orama/orama/dist/browser/methods/search.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   fetchDocuments: () => (/* binding */ fetchDocuments),\n/* harmony export */   fetchDocumentsWithDistinct: () => (/* binding */ fetchDocumentsWithDistinct),\n/* harmony export */   search: () => (/* binding */ search)\n/* harmony export */ });\n/* harmony import */ var _components_internal_document_id_store_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../components/internal-document-id-store.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/internal-document-id-store.js\");\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../errors.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/errors.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/utils.js\");\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../constants.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/constants.js\");\n/* harmony import */ var _search_fulltext_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./search-fulltext.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/methods/search-fulltext.js\");\n/* harmony import */ var _search_vector_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./search-vector.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/methods/search-vector.js\");\n/* harmony import */ var _search_hybrid_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./search-hybrid.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/methods/search-hybrid.js\");\n\n\n\n\n\n\n\nfunction search(orama, params, language) {\n    const mode = params.mode ?? _constants_js__WEBPACK_IMPORTED_MODULE_3__.MODE_FULLTEXT_SEARCH;\n    if (mode === _constants_js__WEBPACK_IMPORTED_MODULE_3__.MODE_FULLTEXT_SEARCH) {\n        return (0,_search_fulltext_js__WEBPACK_IMPORTED_MODULE_4__.fullTextSearch)(orama, params, language);\n    }\n    if (mode === _constants_js__WEBPACK_IMPORTED_MODULE_3__.MODE_VECTOR_SEARCH) {\n        return (0,_search_vector_js__WEBPACK_IMPORTED_MODULE_5__.searchVector)(orama, params);\n    }\n    if (mode === _constants_js__WEBPACK_IMPORTED_MODULE_3__.MODE_HYBRID_SEARCH) {\n        return (0,_search_hybrid_js__WEBPACK_IMPORTED_MODULE_6__.hybridSearch)(orama, params);\n    }\n    throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_1__.createError)('INVALID_SEARCH_MODE', mode);\n}\nfunction fetchDocumentsWithDistinct(orama, uniqueDocsArray, offset, limit, distinctOn) {\n    const docs = orama.data.docs;\n    // Keep track which values we already seen\n    const values = new Map();\n    // We cannot know how many results we will have in the end,\n    // so we need cannot pre-allocate the array.\n    const results = [];\n    const resultIDs = new Set();\n    const uniqueDocsArrayLength = uniqueDocsArray.length;\n    let count = 0;\n    for (let i = 0; i < uniqueDocsArrayLength; i++) {\n        const idAndScore = uniqueDocsArray[i];\n        // If there are no more results, just break the loop\n        if (typeof idAndScore === 'undefined') {\n            continue;\n        }\n        const [id, score] = idAndScore;\n        if (resultIDs.has(id)) {\n            continue;\n        }\n        const doc = orama.documentsStore.get(docs, id);\n        const value = (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.getNested)(doc, distinctOn);\n        if (typeof value === 'undefined' || values.has(value)) {\n            continue;\n        }\n        values.set(value, true);\n        count++;\n        // We shouldn't consider the document if it's not in the offset range\n        if (count <= offset) {\n            continue;\n        }\n        results.push({ id: (0,_components_internal_document_id_store_js__WEBPACK_IMPORTED_MODULE_0__.getDocumentIdFromInternalId)(orama.internalDocumentIDStore, id), score, document: doc });\n        resultIDs.add(id);\n        // reached the limit, break the loop\n        if (count >= offset + limit) {\n            break;\n        }\n    }\n    return results;\n}\nfunction fetchDocuments(orama, uniqueDocsArray, offset, limit) {\n    const docs = orama.data.docs;\n    const results = Array.from({\n        length: limit\n    });\n    const resultIDs = new Set();\n    // We already have the list of ALL the document IDs containing the search terms.\n    // We loop over them starting from a positional value \"offset\" and ending at \"offset + limit\"\n    // to provide pagination capabilities to the search.\n    for (let i = offset; i < limit + offset; i++) {\n        const idAndScore = uniqueDocsArray[i];\n        // If there are no more results, just break the loop\n        if (typeof idAndScore === 'undefined') {\n            break;\n        }\n        const [id, score] = idAndScore;\n        if (!resultIDs.has(id)) {\n            // We retrieve the full document only AFTER making sure that we really want it.\n            // We never retrieve the full document preventively.\n            const fullDoc = orama.documentsStore.get(docs, id);\n            results[i] = { id: (0,_components_internal_document_id_store_js__WEBPACK_IMPORTED_MODULE_0__.getDocumentIdFromInternalId)(orama.internalDocumentIDStore, id), score, document: fullDoc };\n            resultIDs.add(id);\n        }\n    }\n    return results;\n}\n//# sourceMappingURL=search.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9icm93c2VyL21ldGhvZHMvc2VhcmNoLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBMEY7QUFDL0M7QUFDSDtBQUN1RDtBQUN6QztBQUNKO0FBQ0E7QUFDM0M7QUFDUCxnQ0FBZ0MsK0RBQW9CO0FBQ3BELGlCQUFpQiwrREFBb0I7QUFDckMsZUFBZSxtRUFBYztBQUM3QjtBQUNBLGlCQUFpQiw2REFBa0I7QUFDbkMsZUFBZSwrREFBWTtBQUMzQjtBQUNBLGlCQUFpQiw2REFBa0I7QUFDbkMsZUFBZSwrREFBWTtBQUMzQjtBQUNBLFVBQVUsdURBQVc7QUFDckI7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiwyQkFBMkI7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0Isb0RBQVM7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLElBQUksc0dBQTJCLDJEQUEyRDtBQUNqSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsb0JBQW9CO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLElBQUksc0dBQTJCO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL2FyY2hpZW1ja2VuemllL0Rlc2t0b3AvZ3QtbGlicmFyaWVzL2RvY3Mvbm9kZV9tb2R1bGVzL0BvcmFtYS9vcmFtYS9kaXN0L2Jyb3dzZXIvbWV0aG9kcy9zZWFyY2guanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0RG9jdW1lbnRJZEZyb21JbnRlcm5hbElkIH0gZnJvbSAnLi4vY29tcG9uZW50cy9pbnRlcm5hbC1kb2N1bWVudC1pZC1zdG9yZS5qcyc7XG5pbXBvcnQgeyBjcmVhdGVFcnJvciB9IGZyb20gJy4uL2Vycm9ycy5qcyc7XG5pbXBvcnQgeyBnZXROZXN0ZWQgfSBmcm9tICcuLi91dGlscy5qcyc7XG5pbXBvcnQgeyBNT0RFX0ZVTExURVhUX1NFQVJDSCwgTU9ERV9IWUJSSURfU0VBUkNILCBNT0RFX1ZFQ1RPUl9TRUFSQ0ggfSBmcm9tICcuLi9jb25zdGFudHMuanMnO1xuaW1wb3J0IHsgZnVsbFRleHRTZWFyY2ggfSBmcm9tICcuL3NlYXJjaC1mdWxsdGV4dC5qcyc7XG5pbXBvcnQgeyBzZWFyY2hWZWN0b3IgfSBmcm9tICcuL3NlYXJjaC12ZWN0b3IuanMnO1xuaW1wb3J0IHsgaHlicmlkU2VhcmNoIH0gZnJvbSAnLi9zZWFyY2gtaHlicmlkLmpzJztcbmV4cG9ydCBmdW5jdGlvbiBzZWFyY2gob3JhbWEsIHBhcmFtcywgbGFuZ3VhZ2UpIHtcbiAgICBjb25zdCBtb2RlID0gcGFyYW1zLm1vZGUgPz8gTU9ERV9GVUxMVEVYVF9TRUFSQ0g7XG4gICAgaWYgKG1vZGUgPT09IE1PREVfRlVMTFRFWFRfU0VBUkNIKSB7XG4gICAgICAgIHJldHVybiBmdWxsVGV4dFNlYXJjaChvcmFtYSwgcGFyYW1zLCBsYW5ndWFnZSk7XG4gICAgfVxuICAgIGlmIChtb2RlID09PSBNT0RFX1ZFQ1RPUl9TRUFSQ0gpIHtcbiAgICAgICAgcmV0dXJuIHNlYXJjaFZlY3RvcihvcmFtYSwgcGFyYW1zKTtcbiAgICB9XG4gICAgaWYgKG1vZGUgPT09IE1PREVfSFlCUklEX1NFQVJDSCkge1xuICAgICAgICByZXR1cm4gaHlicmlkU2VhcmNoKG9yYW1hLCBwYXJhbXMpO1xuICAgIH1cbiAgICB0aHJvdyBjcmVhdGVFcnJvcignSU5WQUxJRF9TRUFSQ0hfTU9ERScsIG1vZGUpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZldGNoRG9jdW1lbnRzV2l0aERpc3RpbmN0KG9yYW1hLCB1bmlxdWVEb2NzQXJyYXksIG9mZnNldCwgbGltaXQsIGRpc3RpbmN0T24pIHtcbiAgICBjb25zdCBkb2NzID0gb3JhbWEuZGF0YS5kb2NzO1xuICAgIC8vIEtlZXAgdHJhY2sgd2hpY2ggdmFsdWVzIHdlIGFscmVhZHkgc2VlblxuICAgIGNvbnN0IHZhbHVlcyA9IG5ldyBNYXAoKTtcbiAgICAvLyBXZSBjYW5ub3Qga25vdyBob3cgbWFueSByZXN1bHRzIHdlIHdpbGwgaGF2ZSBpbiB0aGUgZW5kLFxuICAgIC8vIHNvIHdlIG5lZWQgY2Fubm90IHByZS1hbGxvY2F0ZSB0aGUgYXJyYXkuXG4gICAgY29uc3QgcmVzdWx0cyA9IFtdO1xuICAgIGNvbnN0IHJlc3VsdElEcyA9IG5ldyBTZXQoKTtcbiAgICBjb25zdCB1bmlxdWVEb2NzQXJyYXlMZW5ndGggPSB1bmlxdWVEb2NzQXJyYXkubGVuZ3RoO1xuICAgIGxldCBjb3VudCA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB1bmlxdWVEb2NzQXJyYXlMZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBpZEFuZFNjb3JlID0gdW5pcXVlRG9jc0FycmF5W2ldO1xuICAgICAgICAvLyBJZiB0aGVyZSBhcmUgbm8gbW9yZSByZXN1bHRzLCBqdXN0IGJyZWFrIHRoZSBsb29wXG4gICAgICAgIGlmICh0eXBlb2YgaWRBbmRTY29yZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IFtpZCwgc2NvcmVdID0gaWRBbmRTY29yZTtcbiAgICAgICAgaWYgKHJlc3VsdElEcy5oYXMoaWQpKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkb2MgPSBvcmFtYS5kb2N1bWVudHNTdG9yZS5nZXQoZG9jcywgaWQpO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGdldE5lc3RlZChkb2MsIGRpc3RpbmN0T24pO1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJyB8fCB2YWx1ZXMuaGFzKHZhbHVlKSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFsdWVzLnNldCh2YWx1ZSwgdHJ1ZSk7XG4gICAgICAgIGNvdW50Kys7XG4gICAgICAgIC8vIFdlIHNob3VsZG4ndCBjb25zaWRlciB0aGUgZG9jdW1lbnQgaWYgaXQncyBub3QgaW4gdGhlIG9mZnNldCByYW5nZVxuICAgICAgICBpZiAoY291bnQgPD0gb2Zmc2V0KSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHRzLnB1c2goeyBpZDogZ2V0RG9jdW1lbnRJZEZyb21JbnRlcm5hbElkKG9yYW1hLmludGVybmFsRG9jdW1lbnRJRFN0b3JlLCBpZCksIHNjb3JlLCBkb2N1bWVudDogZG9jIH0pO1xuICAgICAgICByZXN1bHRJRHMuYWRkKGlkKTtcbiAgICAgICAgLy8gcmVhY2hlZCB0aGUgbGltaXQsIGJyZWFrIHRoZSBsb29wXG4gICAgICAgIGlmIChjb3VudCA+PSBvZmZzZXQgKyBsaW1pdCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdHM7XG59XG5leHBvcnQgZnVuY3Rpb24gZmV0Y2hEb2N1bWVudHMob3JhbWEsIHVuaXF1ZURvY3NBcnJheSwgb2Zmc2V0LCBsaW1pdCkge1xuICAgIGNvbnN0IGRvY3MgPSBvcmFtYS5kYXRhLmRvY3M7XG4gICAgY29uc3QgcmVzdWx0cyA9IEFycmF5LmZyb20oe1xuICAgICAgICBsZW5ndGg6IGxpbWl0XG4gICAgfSk7XG4gICAgY29uc3QgcmVzdWx0SURzID0gbmV3IFNldCgpO1xuICAgIC8vIFdlIGFscmVhZHkgaGF2ZSB0aGUgbGlzdCBvZiBBTEwgdGhlIGRvY3VtZW50IElEcyBjb250YWluaW5nIHRoZSBzZWFyY2ggdGVybXMuXG4gICAgLy8gV2UgbG9vcCBvdmVyIHRoZW0gc3RhcnRpbmcgZnJvbSBhIHBvc2l0aW9uYWwgdmFsdWUgXCJvZmZzZXRcIiBhbmQgZW5kaW5nIGF0IFwib2Zmc2V0ICsgbGltaXRcIlxuICAgIC8vIHRvIHByb3ZpZGUgcGFnaW5hdGlvbiBjYXBhYmlsaXRpZXMgdG8gdGhlIHNlYXJjaC5cbiAgICBmb3IgKGxldCBpID0gb2Zmc2V0OyBpIDwgbGltaXQgKyBvZmZzZXQ7IGkrKykge1xuICAgICAgICBjb25zdCBpZEFuZFNjb3JlID0gdW5pcXVlRG9jc0FycmF5W2ldO1xuICAgICAgICAvLyBJZiB0aGVyZSBhcmUgbm8gbW9yZSByZXN1bHRzLCBqdXN0IGJyZWFrIHRoZSBsb29wXG4gICAgICAgIGlmICh0eXBlb2YgaWRBbmRTY29yZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IFtpZCwgc2NvcmVdID0gaWRBbmRTY29yZTtcbiAgICAgICAgaWYgKCFyZXN1bHRJRHMuaGFzKGlkKSkge1xuICAgICAgICAgICAgLy8gV2UgcmV0cmlldmUgdGhlIGZ1bGwgZG9jdW1lbnQgb25seSBBRlRFUiBtYWtpbmcgc3VyZSB0aGF0IHdlIHJlYWxseSB3YW50IGl0LlxuICAgICAgICAgICAgLy8gV2UgbmV2ZXIgcmV0cmlldmUgdGhlIGZ1bGwgZG9jdW1lbnQgcHJldmVudGl2ZWx5LlxuICAgICAgICAgICAgY29uc3QgZnVsbERvYyA9IG9yYW1hLmRvY3VtZW50c1N0b3JlLmdldChkb2NzLCBpZCk7XG4gICAgICAgICAgICByZXN1bHRzW2ldID0geyBpZDogZ2V0RG9jdW1lbnRJZEZyb21JbnRlcm5hbElkKG9yYW1hLmludGVybmFsRG9jdW1lbnRJRFN0b3JlLCBpZCksIHNjb3JlLCBkb2N1bWVudDogZnVsbERvYyB9O1xuICAgICAgICAgICAgcmVzdWx0SURzLmFkZChpZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdHM7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZWFyY2guanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@orama/orama/dist/browser/methods/search.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@orama/orama/dist/browser/methods/serialization.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@orama/orama/dist/browser/methods/serialization.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   load: () => (/* binding */ load),\n/* harmony export */   save: () => (/* binding */ save)\n/* harmony export */ });\nfunction load(orama, raw) {\n    orama.internalDocumentIDStore.load(orama, raw.internalDocumentIDStore);\n    orama.data.index = orama.index.load(orama.internalDocumentIDStore, raw.index);\n    orama.data.docs = orama.documentsStore.load(orama.internalDocumentIDStore, raw.docs);\n    orama.data.sorting = orama.sorter.load(orama.internalDocumentIDStore, raw.sorting);\n    orama.tokenizer.language = raw.language;\n}\nfunction save(orama) {\n    return {\n        internalDocumentIDStore: orama.internalDocumentIDStore.save(orama.internalDocumentIDStore),\n        index: orama.index.save(orama.data.index),\n        docs: orama.documentsStore.save(orama.data.docs),\n        sorting: orama.sorter.save(orama.data.sorting),\n        language: orama.tokenizer.language\n    };\n}\n//# sourceMappingURL=serialization.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9icm93c2VyL21ldGhvZHMvc2VyaWFsaXphdGlvbi5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy9hcmNoaWVtY2tlbnppZS9EZXNrdG9wL2d0LWxpYnJhcmllcy9kb2NzL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9icm93c2VyL21ldGhvZHMvc2VyaWFsaXphdGlvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gbG9hZChvcmFtYSwgcmF3KSB7XG4gICAgb3JhbWEuaW50ZXJuYWxEb2N1bWVudElEU3RvcmUubG9hZChvcmFtYSwgcmF3LmludGVybmFsRG9jdW1lbnRJRFN0b3JlKTtcbiAgICBvcmFtYS5kYXRhLmluZGV4ID0gb3JhbWEuaW5kZXgubG9hZChvcmFtYS5pbnRlcm5hbERvY3VtZW50SURTdG9yZSwgcmF3LmluZGV4KTtcbiAgICBvcmFtYS5kYXRhLmRvY3MgPSBvcmFtYS5kb2N1bWVudHNTdG9yZS5sb2FkKG9yYW1hLmludGVybmFsRG9jdW1lbnRJRFN0b3JlLCByYXcuZG9jcyk7XG4gICAgb3JhbWEuZGF0YS5zb3J0aW5nID0gb3JhbWEuc29ydGVyLmxvYWQob3JhbWEuaW50ZXJuYWxEb2N1bWVudElEU3RvcmUsIHJhdy5zb3J0aW5nKTtcbiAgICBvcmFtYS50b2tlbml6ZXIubGFuZ3VhZ2UgPSByYXcubGFuZ3VhZ2U7XG59XG5leHBvcnQgZnVuY3Rpb24gc2F2ZShvcmFtYSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGludGVybmFsRG9jdW1lbnRJRFN0b3JlOiBvcmFtYS5pbnRlcm5hbERvY3VtZW50SURTdG9yZS5zYXZlKG9yYW1hLmludGVybmFsRG9jdW1lbnRJRFN0b3JlKSxcbiAgICAgICAgaW5kZXg6IG9yYW1hLmluZGV4LnNhdmUob3JhbWEuZGF0YS5pbmRleCksXG4gICAgICAgIGRvY3M6IG9yYW1hLmRvY3VtZW50c1N0b3JlLnNhdmUob3JhbWEuZGF0YS5kb2NzKSxcbiAgICAgICAgc29ydGluZzogb3JhbWEuc29ydGVyLnNhdmUob3JhbWEuZGF0YS5zb3J0aW5nKSxcbiAgICAgICAgbGFuZ3VhZ2U6IG9yYW1hLnRva2VuaXplci5sYW5ndWFnZVxuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXJpYWxpemF0aW9uLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@orama/orama/dist/browser/methods/serialization.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@orama/orama/dist/browser/methods/update.js":
/*!******************************************************************!*\
  !*** ./node_modules/@orama/orama/dist/browser/methods/update.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   update: () => (/* binding */ update),\n/* harmony export */   updateMultiple: () => (/* binding */ updateMultiple)\n/* harmony export */ });\n/* harmony import */ var _components_hooks_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../components/hooks.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/hooks.js\");\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../errors.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/errors.js\");\n/* harmony import */ var _insert_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./insert.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/methods/insert.js\");\n/* harmony import */ var _remove_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./remove.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/methods/remove.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/utils.js\");\n\n\n\n\n\nfunction update(orama, id, doc, language, skipHooks) {\n    const asyncNeeded = (0,_utils_js__WEBPACK_IMPORTED_MODULE_4__.isAsyncFunction)(orama.afterInsert) ||\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_4__.isAsyncFunction)(orama.beforeInsert) ||\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_4__.isAsyncFunction)(orama.afterRemove) ||\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_4__.isAsyncFunction)(orama.beforeRemove) ||\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_4__.isAsyncFunction)(orama.beforeUpdate) ||\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_4__.isAsyncFunction)(orama.afterUpdate);\n    if (asyncNeeded) {\n        return updateAsync(orama, id, doc, language, skipHooks);\n    }\n    return updateSync(orama, id, doc, language, skipHooks);\n}\nasync function updateAsync(orama, id, doc, language, skipHooks) {\n    if (!skipHooks && orama.beforeUpdate) {\n        await (0,_components_hooks_js__WEBPACK_IMPORTED_MODULE_0__.runSingleHook)(orama.beforeUpdate, orama, id);\n    }\n    await (0,_remove_js__WEBPACK_IMPORTED_MODULE_3__.remove)(orama, id, language, skipHooks);\n    const newId = await (0,_insert_js__WEBPACK_IMPORTED_MODULE_2__.insert)(orama, doc, language, skipHooks);\n    if (!skipHooks && orama.afterUpdate) {\n        await (0,_components_hooks_js__WEBPACK_IMPORTED_MODULE_0__.runSingleHook)(orama.afterUpdate, orama, newId);\n    }\n    return newId;\n}\nfunction updateSync(orama, id, doc, language, skipHooks) {\n    if (!skipHooks && orama.beforeUpdate) {\n        (0,_components_hooks_js__WEBPACK_IMPORTED_MODULE_0__.runSingleHook)(orama.beforeUpdate, orama, id);\n    }\n    (0,_remove_js__WEBPACK_IMPORTED_MODULE_3__.remove)(orama, id, language, skipHooks);\n    const newId = (0,_insert_js__WEBPACK_IMPORTED_MODULE_2__.insert)(orama, doc, language, skipHooks);\n    if (!skipHooks && orama.afterUpdate) {\n        (0,_components_hooks_js__WEBPACK_IMPORTED_MODULE_0__.runSingleHook)(orama.afterUpdate, orama, newId);\n    }\n    return newId;\n}\nfunction updateMultiple(orama, ids, docs, batchSize, language, skipHooks) {\n    const asyncNeeded = (0,_utils_js__WEBPACK_IMPORTED_MODULE_4__.isAsyncFunction)(orama.afterInsert) ||\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_4__.isAsyncFunction)(orama.beforeInsert) ||\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_4__.isAsyncFunction)(orama.afterRemove) ||\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_4__.isAsyncFunction)(orama.beforeRemove) ||\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_4__.isAsyncFunction)(orama.beforeUpdate) ||\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_4__.isAsyncFunction)(orama.afterUpdate) ||\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_4__.isAsyncFunction)(orama.beforeUpdateMultiple) ||\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_4__.isAsyncFunction)(orama.afterUpdateMultiple) ||\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_4__.isAsyncFunction)(orama.beforeRemoveMultiple) ||\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_4__.isAsyncFunction)(orama.afterRemoveMultiple) ||\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_4__.isAsyncFunction)(orama.beforeInsertMultiple) ||\n        (0,_utils_js__WEBPACK_IMPORTED_MODULE_4__.isAsyncFunction)(orama.afterInsertMultiple);\n    if (asyncNeeded) {\n        return updateMultipleAsync(orama, ids, docs, batchSize, language, skipHooks);\n    }\n    return updateMultipleSync(orama, ids, docs, batchSize, language, skipHooks);\n}\nasync function updateMultipleAsync(orama, ids, docs, batchSize, language, skipHooks) {\n    if (!skipHooks) {\n        await (0,_components_hooks_js__WEBPACK_IMPORTED_MODULE_0__.runMultipleHook)(orama.beforeUpdateMultiple, orama, ids);\n    }\n    const docsLength = docs.length;\n    for (let i = 0; i < docsLength; i++) {\n        const errorProperty = orama.validateSchema(docs[i], orama.schema);\n        if (errorProperty) {\n            throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_1__.createError)('SCHEMA_VALIDATION_FAILURE', errorProperty);\n        }\n    }\n    await (0,_remove_js__WEBPACK_IMPORTED_MODULE_3__.removeMultiple)(orama, ids, batchSize, language, skipHooks);\n    const newIds = await (0,_insert_js__WEBPACK_IMPORTED_MODULE_2__.innerInsertMultiple)(orama, docs, batchSize, language, skipHooks);\n    if (!skipHooks) {\n        await (0,_components_hooks_js__WEBPACK_IMPORTED_MODULE_0__.runMultipleHook)(orama.afterUpdateMultiple, orama, newIds);\n    }\n    return newIds;\n}\nfunction updateMultipleSync(orama, ids, docs, batchSize, language, skipHooks) {\n    if (!skipHooks) {\n        (0,_components_hooks_js__WEBPACK_IMPORTED_MODULE_0__.runMultipleHook)(orama.beforeUpdateMultiple, orama, ids);\n    }\n    const docsLength = docs.length;\n    for (let i = 0; i < docsLength; i++) {\n        const errorProperty = orama.validateSchema(docs[i], orama.schema);\n        if (errorProperty) {\n            throw (0,_errors_js__WEBPACK_IMPORTED_MODULE_1__.createError)('SCHEMA_VALIDATION_FAILURE', errorProperty);\n        }\n    }\n    (0,_remove_js__WEBPACK_IMPORTED_MODULE_3__.removeMultiple)(orama, ids, batchSize, language, skipHooks);\n    const newIds = (0,_insert_js__WEBPACK_IMPORTED_MODULE_2__.innerInsertMultiple)(orama, docs, batchSize, language, skipHooks);\n    if (!skipHooks) {\n        (0,_components_hooks_js__WEBPACK_IMPORTED_MODULE_0__.runMultipleHook)(orama.afterUpdateMultiple, orama, newIds);\n    }\n    return newIds;\n}\n//# sourceMappingURL=update.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9icm93c2VyL21ldGhvZHMvdXBkYXRlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBd0U7QUFDN0I7QUFDZTtBQUNMO0FBQ1A7QUFDdkM7QUFDUCx3QkFBd0IsMERBQWU7QUFDdkMsUUFBUSwwREFBZTtBQUN2QixRQUFRLDBEQUFlO0FBQ3ZCLFFBQVEsMERBQWU7QUFDdkIsUUFBUSwwREFBZTtBQUN2QixRQUFRLDBEQUFlO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxtRUFBYTtBQUMzQjtBQUNBLFVBQVUsa0RBQU07QUFDaEIsd0JBQXdCLGtEQUFNO0FBQzlCO0FBQ0EsY0FBYyxtRUFBYTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxtRUFBYTtBQUNyQjtBQUNBLElBQUksa0RBQU07QUFDVixrQkFBa0Isa0RBQU07QUFDeEI7QUFDQSxRQUFRLG1FQUFhO0FBQ3JCO0FBQ0E7QUFDQTtBQUNPO0FBQ1Asd0JBQXdCLDBEQUFlO0FBQ3ZDLFFBQVEsMERBQWU7QUFDdkIsUUFBUSwwREFBZTtBQUN2QixRQUFRLDBEQUFlO0FBQ3ZCLFFBQVEsMERBQWU7QUFDdkIsUUFBUSwwREFBZTtBQUN2QixRQUFRLDBEQUFlO0FBQ3ZCLFFBQVEsMERBQWU7QUFDdkIsUUFBUSwwREFBZTtBQUN2QixRQUFRLDBEQUFlO0FBQ3ZCLFFBQVEsMERBQWU7QUFDdkIsUUFBUSwwREFBZTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMscUVBQWU7QUFDN0I7QUFDQTtBQUNBLG9CQUFvQixnQkFBZ0I7QUFDcEM7QUFDQTtBQUNBLGtCQUFrQix1REFBVztBQUM3QjtBQUNBO0FBQ0EsVUFBVSwwREFBYztBQUN4Qix5QkFBeUIsK0RBQW1CO0FBQzVDO0FBQ0EsY0FBYyxxRUFBZTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxxRUFBZTtBQUN2QjtBQUNBO0FBQ0Esb0JBQW9CLGdCQUFnQjtBQUNwQztBQUNBO0FBQ0Esa0JBQWtCLHVEQUFXO0FBQzdCO0FBQ0E7QUFDQSxJQUFJLDBEQUFjO0FBQ2xCLG1CQUFtQiwrREFBbUI7QUFDdEM7QUFDQSxRQUFRLHFFQUFlO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvYXJjaGllbWNrZW56aWUvRGVza3RvcC9ndC1saWJyYXJpZXMvZG9jcy9ub2RlX21vZHVsZXMvQG9yYW1hL29yYW1hL2Rpc3QvYnJvd3Nlci9tZXRob2RzL3VwZGF0ZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBydW5NdWx0aXBsZUhvb2ssIHJ1blNpbmdsZUhvb2sgfSBmcm9tICcuLi9jb21wb25lbnRzL2hvb2tzLmpzJztcbmltcG9ydCB7IGNyZWF0ZUVycm9yIH0gZnJvbSAnLi4vZXJyb3JzLmpzJztcbmltcG9ydCB7IGlubmVySW5zZXJ0TXVsdGlwbGUsIGluc2VydCB9IGZyb20gJy4vaW5zZXJ0LmpzJztcbmltcG9ydCB7IHJlbW92ZSwgcmVtb3ZlTXVsdGlwbGUgfSBmcm9tICcuL3JlbW92ZS5qcyc7XG5pbXBvcnQgeyBpc0FzeW5jRnVuY3Rpb24gfSBmcm9tICcuLi91dGlscy5qcyc7XG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlKG9yYW1hLCBpZCwgZG9jLCBsYW5ndWFnZSwgc2tpcEhvb2tzKSB7XG4gICAgY29uc3QgYXN5bmNOZWVkZWQgPSBpc0FzeW5jRnVuY3Rpb24ob3JhbWEuYWZ0ZXJJbnNlcnQpIHx8XG4gICAgICAgIGlzQXN5bmNGdW5jdGlvbihvcmFtYS5iZWZvcmVJbnNlcnQpIHx8XG4gICAgICAgIGlzQXN5bmNGdW5jdGlvbihvcmFtYS5hZnRlclJlbW92ZSkgfHxcbiAgICAgICAgaXNBc3luY0Z1bmN0aW9uKG9yYW1hLmJlZm9yZVJlbW92ZSkgfHxcbiAgICAgICAgaXNBc3luY0Z1bmN0aW9uKG9yYW1hLmJlZm9yZVVwZGF0ZSkgfHxcbiAgICAgICAgaXNBc3luY0Z1bmN0aW9uKG9yYW1hLmFmdGVyVXBkYXRlKTtcbiAgICBpZiAoYXN5bmNOZWVkZWQpIHtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZUFzeW5jKG9yYW1hLCBpZCwgZG9jLCBsYW5ndWFnZSwgc2tpcEhvb2tzKTtcbiAgICB9XG4gICAgcmV0dXJuIHVwZGF0ZVN5bmMob3JhbWEsIGlkLCBkb2MsIGxhbmd1YWdlLCBza2lwSG9va3MpO1xufVxuYXN5bmMgZnVuY3Rpb24gdXBkYXRlQXN5bmMob3JhbWEsIGlkLCBkb2MsIGxhbmd1YWdlLCBza2lwSG9va3MpIHtcbiAgICBpZiAoIXNraXBIb29rcyAmJiBvcmFtYS5iZWZvcmVVcGRhdGUpIHtcbiAgICAgICAgYXdhaXQgcnVuU2luZ2xlSG9vayhvcmFtYS5iZWZvcmVVcGRhdGUsIG9yYW1hLCBpZCk7XG4gICAgfVxuICAgIGF3YWl0IHJlbW92ZShvcmFtYSwgaWQsIGxhbmd1YWdlLCBza2lwSG9va3MpO1xuICAgIGNvbnN0IG5ld0lkID0gYXdhaXQgaW5zZXJ0KG9yYW1hLCBkb2MsIGxhbmd1YWdlLCBza2lwSG9va3MpO1xuICAgIGlmICghc2tpcEhvb2tzICYmIG9yYW1hLmFmdGVyVXBkYXRlKSB7XG4gICAgICAgIGF3YWl0IHJ1blNpbmdsZUhvb2sob3JhbWEuYWZ0ZXJVcGRhdGUsIG9yYW1hLCBuZXdJZCk7XG4gICAgfVxuICAgIHJldHVybiBuZXdJZDtcbn1cbmZ1bmN0aW9uIHVwZGF0ZVN5bmMob3JhbWEsIGlkLCBkb2MsIGxhbmd1YWdlLCBza2lwSG9va3MpIHtcbiAgICBpZiAoIXNraXBIb29rcyAmJiBvcmFtYS5iZWZvcmVVcGRhdGUpIHtcbiAgICAgICAgcnVuU2luZ2xlSG9vayhvcmFtYS5iZWZvcmVVcGRhdGUsIG9yYW1hLCBpZCk7XG4gICAgfVxuICAgIHJlbW92ZShvcmFtYSwgaWQsIGxhbmd1YWdlLCBza2lwSG9va3MpO1xuICAgIGNvbnN0IG5ld0lkID0gaW5zZXJ0KG9yYW1hLCBkb2MsIGxhbmd1YWdlLCBza2lwSG9va3MpO1xuICAgIGlmICghc2tpcEhvb2tzICYmIG9yYW1hLmFmdGVyVXBkYXRlKSB7XG4gICAgICAgIHJ1blNpbmdsZUhvb2sob3JhbWEuYWZ0ZXJVcGRhdGUsIG9yYW1hLCBuZXdJZCk7XG4gICAgfVxuICAgIHJldHVybiBuZXdJZDtcbn1cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVNdWx0aXBsZShvcmFtYSwgaWRzLCBkb2NzLCBiYXRjaFNpemUsIGxhbmd1YWdlLCBza2lwSG9va3MpIHtcbiAgICBjb25zdCBhc3luY05lZWRlZCA9IGlzQXN5bmNGdW5jdGlvbihvcmFtYS5hZnRlckluc2VydCkgfHxcbiAgICAgICAgaXNBc3luY0Z1bmN0aW9uKG9yYW1hLmJlZm9yZUluc2VydCkgfHxcbiAgICAgICAgaXNBc3luY0Z1bmN0aW9uKG9yYW1hLmFmdGVyUmVtb3ZlKSB8fFxuICAgICAgICBpc0FzeW5jRnVuY3Rpb24ob3JhbWEuYmVmb3JlUmVtb3ZlKSB8fFxuICAgICAgICBpc0FzeW5jRnVuY3Rpb24ob3JhbWEuYmVmb3JlVXBkYXRlKSB8fFxuICAgICAgICBpc0FzeW5jRnVuY3Rpb24ob3JhbWEuYWZ0ZXJVcGRhdGUpIHx8XG4gICAgICAgIGlzQXN5bmNGdW5jdGlvbihvcmFtYS5iZWZvcmVVcGRhdGVNdWx0aXBsZSkgfHxcbiAgICAgICAgaXNBc3luY0Z1bmN0aW9uKG9yYW1hLmFmdGVyVXBkYXRlTXVsdGlwbGUpIHx8XG4gICAgICAgIGlzQXN5bmNGdW5jdGlvbihvcmFtYS5iZWZvcmVSZW1vdmVNdWx0aXBsZSkgfHxcbiAgICAgICAgaXNBc3luY0Z1bmN0aW9uKG9yYW1hLmFmdGVyUmVtb3ZlTXVsdGlwbGUpIHx8XG4gICAgICAgIGlzQXN5bmNGdW5jdGlvbihvcmFtYS5iZWZvcmVJbnNlcnRNdWx0aXBsZSkgfHxcbiAgICAgICAgaXNBc3luY0Z1bmN0aW9uKG9yYW1hLmFmdGVySW5zZXJ0TXVsdGlwbGUpO1xuICAgIGlmIChhc3luY05lZWRlZCkge1xuICAgICAgICByZXR1cm4gdXBkYXRlTXVsdGlwbGVBc3luYyhvcmFtYSwgaWRzLCBkb2NzLCBiYXRjaFNpemUsIGxhbmd1YWdlLCBza2lwSG9va3MpO1xuICAgIH1cbiAgICByZXR1cm4gdXBkYXRlTXVsdGlwbGVTeW5jKG9yYW1hLCBpZHMsIGRvY3MsIGJhdGNoU2l6ZSwgbGFuZ3VhZ2UsIHNraXBIb29rcyk7XG59XG5hc3luYyBmdW5jdGlvbiB1cGRhdGVNdWx0aXBsZUFzeW5jKG9yYW1hLCBpZHMsIGRvY3MsIGJhdGNoU2l6ZSwgbGFuZ3VhZ2UsIHNraXBIb29rcykge1xuICAgIGlmICghc2tpcEhvb2tzKSB7XG4gICAgICAgIGF3YWl0IHJ1bk11bHRpcGxlSG9vayhvcmFtYS5iZWZvcmVVcGRhdGVNdWx0aXBsZSwgb3JhbWEsIGlkcyk7XG4gICAgfVxuICAgIGNvbnN0IGRvY3NMZW5ndGggPSBkb2NzLmxlbmd0aDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRvY3NMZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBlcnJvclByb3BlcnR5ID0gb3JhbWEudmFsaWRhdGVTY2hlbWEoZG9jc1tpXSwgb3JhbWEuc2NoZW1hKTtcbiAgICAgICAgaWYgKGVycm9yUHJvcGVydHkpIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUVycm9yKCdTQ0hFTUFfVkFMSURBVElPTl9GQUlMVVJFJywgZXJyb3JQcm9wZXJ0eSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXdhaXQgcmVtb3ZlTXVsdGlwbGUob3JhbWEsIGlkcywgYmF0Y2hTaXplLCBsYW5ndWFnZSwgc2tpcEhvb2tzKTtcbiAgICBjb25zdCBuZXdJZHMgPSBhd2FpdCBpbm5lckluc2VydE11bHRpcGxlKG9yYW1hLCBkb2NzLCBiYXRjaFNpemUsIGxhbmd1YWdlLCBza2lwSG9va3MpO1xuICAgIGlmICghc2tpcEhvb2tzKSB7XG4gICAgICAgIGF3YWl0IHJ1bk11bHRpcGxlSG9vayhvcmFtYS5hZnRlclVwZGF0ZU11bHRpcGxlLCBvcmFtYSwgbmV3SWRzKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ld0lkcztcbn1cbmZ1bmN0aW9uIHVwZGF0ZU11bHRpcGxlU3luYyhvcmFtYSwgaWRzLCBkb2NzLCBiYXRjaFNpemUsIGxhbmd1YWdlLCBza2lwSG9va3MpIHtcbiAgICBpZiAoIXNraXBIb29rcykge1xuICAgICAgICBydW5NdWx0aXBsZUhvb2sob3JhbWEuYmVmb3JlVXBkYXRlTXVsdGlwbGUsIG9yYW1hLCBpZHMpO1xuICAgIH1cbiAgICBjb25zdCBkb2NzTGVuZ3RoID0gZG9jcy5sZW5ndGg7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkb2NzTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgZXJyb3JQcm9wZXJ0eSA9IG9yYW1hLnZhbGlkYXRlU2NoZW1hKGRvY3NbaV0sIG9yYW1hLnNjaGVtYSk7XG4gICAgICAgIGlmIChlcnJvclByb3BlcnR5KSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVFcnJvcignU0NIRU1BX1ZBTElEQVRJT05fRkFJTFVSRScsIGVycm9yUHJvcGVydHkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlbW92ZU11bHRpcGxlKG9yYW1hLCBpZHMsIGJhdGNoU2l6ZSwgbGFuZ3VhZ2UsIHNraXBIb29rcyk7XG4gICAgY29uc3QgbmV3SWRzID0gaW5uZXJJbnNlcnRNdWx0aXBsZShvcmFtYSwgZG9jcywgYmF0Y2hTaXplLCBsYW5ndWFnZSwgc2tpcEhvb2tzKTtcbiAgICBpZiAoIXNraXBIb29rcykge1xuICAgICAgICBydW5NdWx0aXBsZUhvb2sob3JhbWEuYWZ0ZXJVcGRhdGVNdWx0aXBsZSwgb3JhbWEsIG5ld0lkcyk7XG4gICAgfVxuICAgIHJldHVybiBuZXdJZHM7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD11cGRhdGUuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@orama/orama/dist/browser/methods/update.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@orama/orama/dist/browser/trees/avl.js":
/*!*************************************************************!*\
  !*** ./node_modules/@orama/orama/dist/browser/trees/avl.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AVLNode: () => (/* binding */ AVLNode),\n/* harmony export */   AVLTree: () => (/* binding */ AVLTree)\n/* harmony export */ });\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/utils.js\");\n\nclass AVLNode {\n    k;\n    v;\n    l = null;\n    r = null;\n    h = 1;\n    constructor(key, value) {\n        this.k = key;\n        this.v = new Set(value);\n    }\n    updateHeight() {\n        this.h = Math.max(AVLNode.getHeight(this.l), AVLNode.getHeight(this.r)) + 1;\n    }\n    static getHeight(node) {\n        return node ? node.h : 0;\n    }\n    getBalanceFactor() {\n        return AVLNode.getHeight(this.l) - AVLNode.getHeight(this.r);\n    }\n    rotateLeft() {\n        const newRoot = this.r;\n        this.r = newRoot.l;\n        newRoot.l = this;\n        this.updateHeight();\n        newRoot.updateHeight();\n        return newRoot;\n    }\n    rotateRight() {\n        const newRoot = this.l;\n        this.l = newRoot.r;\n        newRoot.r = this;\n        this.updateHeight();\n        newRoot.updateHeight();\n        return newRoot;\n    }\n    toJSON() {\n        return {\n            k: this.k,\n            v: Array.from(this.v),\n            l: this.l ? this.l.toJSON() : null,\n            r: this.r ? this.r.toJSON() : null,\n            h: this.h\n        };\n    }\n    static fromJSON(json) {\n        const node = new AVLNode(json.k, json.v);\n        node.l = json.l ? AVLNode.fromJSON(json.l) : null;\n        node.r = json.r ? AVLNode.fromJSON(json.r) : null;\n        node.h = json.h;\n        return node;\n    }\n}\nclass AVLTree {\n    root = null;\n    insertCount = 0;\n    constructor(key, value) {\n        if (key !== undefined && value !== undefined) {\n            this.root = new AVLNode(key, value);\n        }\n    }\n    insert(key, value, rebalanceThreshold = 1000) {\n        this.root = this.insertNode(this.root, key, value, rebalanceThreshold);\n    }\n    insertMultiple(key, value, rebalanceThreshold = 1000) {\n        for (const v of value) {\n            this.insert(key, v, rebalanceThreshold);\n        }\n    }\n    // Rebalance the tree if the insert count reaches the threshold.\n    // This will improve insertion performance since we won't be rebalancing the tree on every insert.\n    // When inserting docs using `insertMultiple`, the threshold will be set to the number of docs being inserted.\n    // We can force rebalancing the tree by setting the threshold to 1 (default).\n    rebalance() {\n        if (this.root) {\n            this.root = this.rebalanceNode(this.root);\n        }\n    }\n    toJSON() {\n        return {\n            root: this.root ? this.root.toJSON() : null,\n            insertCount: this.insertCount\n        };\n    }\n    static fromJSON(json) {\n        const tree = new AVLTree();\n        tree.root = json.root ? AVLNode.fromJSON(json.root) : null;\n        tree.insertCount = json.insertCount || 0;\n        return tree;\n    }\n    insertNode(node, key, value, rebalanceThreshold) {\n        if (node === null) {\n            return new AVLNode(key, [value]);\n        }\n        const path = [];\n        let current = node;\n        let parent = null;\n        while (current !== null) {\n            path.push({ parent, node: current });\n            if (key < current.k) {\n                if (current.l === null) {\n                    current.l = new AVLNode(key, [value]);\n                    path.push({ parent: current, node: current.l });\n                    break;\n                }\n                else {\n                    parent = current;\n                    current = current.l;\n                }\n            }\n            else if (key > current.k) {\n                if (current.r === null) {\n                    current.r = new AVLNode(key, [value]);\n                    path.push({ parent: current, node: current.r });\n                    break;\n                }\n                else {\n                    parent = current;\n                    current = current.r;\n                }\n            }\n            else {\n                // Key already exists\n                current.v.add(value);\n                /*\n                if (Array.isArray(current.v)) {\n                  if (Array.isArray(value)) {\n                    ;(current.v as any[]).push(...(value as V[]))\n                  } else {\n                    ;(current.v as any[]).push(value)\n                  }\n                } else {\n                  current.v = new Set([value])\n                }\n                */\n                return node;\n            }\n        }\n        // Update heights and rebalance if necessary\n        let needRebalance = false;\n        if (this.insertCount++ % rebalanceThreshold === 0) {\n            needRebalance = true;\n        }\n        for (let i = path.length - 1; i >= 0; i--) {\n            const { parent, node: currentNode } = path[i];\n            currentNode.updateHeight();\n            if (needRebalance) {\n                const rebalancedNode = this.rebalanceNode(currentNode);\n                if (parent) {\n                    if (parent.l === currentNode) {\n                        parent.l = rebalancedNode;\n                    }\n                    else if (parent.r === currentNode) {\n                        parent.r = rebalancedNode;\n                    }\n                }\n                else {\n                    // This is the root node\n                    node = rebalancedNode;\n                }\n            }\n        }\n        return node;\n    }\n    rebalanceNode(node) {\n        const balanceFactor = node.getBalanceFactor();\n        if (balanceFactor > 1) {\n            // Left heavy\n            if (node.l && node.l.getBalanceFactor() >= 0) {\n                // Left Left Case\n                return node.rotateRight();\n            }\n            else if (node.l) {\n                // Left Right Case\n                node.l = node.l.rotateLeft();\n                return node.rotateRight();\n            }\n        }\n        if (balanceFactor < -1) {\n            // Right heavy\n            if (node.r && node.r.getBalanceFactor() <= 0) {\n                // Right Right Case\n                return node.rotateLeft();\n            }\n            else if (node.r) {\n                // Right Left Case\n                node.r = node.r.rotateRight();\n                return node.rotateLeft();\n            }\n        }\n        return node;\n    }\n    find(key) {\n        const node = this.findNodeByKey(key);\n        return node ? node.v : null;\n    }\n    contains(key) {\n        return this.find(key) !== null;\n    }\n    getSize() {\n        let count = 0;\n        const stack = [];\n        let current = this.root;\n        while (current || stack.length > 0) {\n            while (current) {\n                stack.push(current);\n                current = current.l;\n            }\n            current = stack.pop();\n            count++;\n            current = current.r;\n        }\n        return count;\n    }\n    isBalanced() {\n        if (!this.root)\n            return true;\n        const stack = [this.root];\n        while (stack.length > 0) {\n            const node = stack.pop();\n            const balanceFactor = node.getBalanceFactor();\n            if (Math.abs(balanceFactor) > 1) {\n                return false;\n            }\n            if (node.l)\n                stack.push(node.l);\n            if (node.r)\n                stack.push(node.r);\n        }\n        return true;\n    }\n    remove(key) {\n        this.root = this.removeNode(this.root, key);\n    }\n    removeDocument(key, id) {\n        const node = this.findNodeByKey(key);\n        if (!node) {\n            return;\n        }\n        if (node.v.size === 1) {\n            this.root = this.removeNode(this.root, key);\n        }\n        else {\n            node.v = new Set([...node.v.values()].filter((v) => v !== id));\n        }\n    }\n    findNodeByKey(key) {\n        let node = this.root;\n        while (node) {\n            if (key < node.k) {\n                node = node.l;\n            }\n            else if (key > node.k) {\n                node = node.r;\n            }\n            else {\n                return node;\n            }\n        }\n        return null;\n    }\n    removeNode(node, key) {\n        if (node === null)\n            return null;\n        const path = [];\n        let current = node;\n        while (current !== null && current.k !== key) {\n            path.push(current);\n            if (key < current.k) {\n                current = current.l;\n            }\n            else {\n                current = current.r;\n            }\n        }\n        if (current === null) {\n            // Key not found\n            return node;\n        }\n        // Node with only one child or no child\n        if (current.l === null || current.r === null) {\n            const child = current.l ? current.l : current.r;\n            if (path.length === 0) {\n                // Node to be deleted is root\n                node = child;\n            }\n            else {\n                const parent = path[path.length - 1];\n                if (parent.l === current) {\n                    parent.l = child;\n                }\n                else {\n                    parent.r = child;\n                }\n            }\n        }\n        else {\n            // Node with two children: Get the inorder successor\n            let successorParent = current;\n            let successor = current.r;\n            while (successor.l !== null) {\n                successorParent = successor;\n                successor = successor.l;\n            }\n            // Copy the successor's content to current node\n            current.k = successor.k;\n            current.v = successor.v;\n            // Delete the successor\n            if (successorParent.l === successor) {\n                successorParent.l = successor.r;\n            }\n            else {\n                successorParent.r = successor.r;\n            }\n            current = successorParent;\n        }\n        // Update heights and rebalance\n        path.push(current);\n        for (let i = path.length - 1; i >= 0; i--) {\n            const currentNode = path[i];\n            currentNode.updateHeight();\n            const rebalancedNode = this.rebalanceNode(currentNode);\n            if (i > 0) {\n                const parent = path[i - 1];\n                if (parent.l === currentNode) {\n                    parent.l = rebalancedNode;\n                }\n                else if (parent.r === currentNode) {\n                    parent.r = rebalancedNode;\n                }\n            }\n            else {\n                // Root node\n                node = rebalancedNode;\n            }\n        }\n        return node;\n    }\n    rangeSearch(min, max) {\n        let result = new Set();\n        const stack = [];\n        let current = this.root;\n        while (current || stack.length > 0) {\n            while (current) {\n                stack.push(current);\n                current = current.l;\n            }\n            current = stack.pop();\n            if (current.k >= min && current.k <= max) {\n                result = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setUnion)(result, current.v);\n            }\n            if (current.k > max) {\n                break;\n            }\n            current = current.r;\n        }\n        return result;\n    }\n    greaterThan(key, inclusive = false) {\n        let result = new Set();\n        const stack = [];\n        let current = this.root;\n        while (current || stack.length > 0) {\n            while (current) {\n                stack.push(current);\n                current = current.r; // Traverse right subtree first\n            }\n            current = stack.pop();\n            if ((inclusive && current.k >= key) || (!inclusive && current.k > key)) {\n                result = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setUnion)(result, current.v);\n            }\n            else if (current.k <= key) {\n                break; // Since we're traversing in descending order, we can break early\n            }\n            current = current.l;\n        }\n        return result;\n    }\n    lessThan(key, inclusive = false) {\n        let result = new Set();\n        const stack = [];\n        let current = this.root;\n        while (current || stack.length > 0) {\n            while (current) {\n                stack.push(current);\n                current = current.l;\n            }\n            current = stack.pop();\n            if ((inclusive && current.k <= key) || (!inclusive && current.k < key)) {\n                result = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.setUnion)(result, current.v);\n            }\n            else if (current.k > key) {\n                break; // Since we're traversing in ascending order, we can break early\n            }\n            current = current.r;\n        }\n        return result;\n    }\n}\n//# sourceMappingURL=avl.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9icm93c2VyL3RyZWVzL2F2bC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBdUM7QUFDaEM7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsdUJBQXVCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxrQ0FBa0M7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0Msa0NBQWtDO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLG9CQUFvQjtBQUNwQixxQkFBcUI7QUFDckI7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxRQUFRO0FBQzlDLG9CQUFvQiw0QkFBNEI7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxRQUFRO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixtREFBUTtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLG1EQUFRO0FBQ2pDO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsbURBQVE7QUFDakM7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL2FyY2hpZW1ja2VuemllL0Rlc2t0b3AvZ3QtbGlicmFyaWVzL2RvY3Mvbm9kZV9tb2R1bGVzL0BvcmFtYS9vcmFtYS9kaXN0L2Jyb3dzZXIvdHJlZXMvYXZsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHNldFVuaW9uIH0gZnJvbSAnLi4vdXRpbHMuanMnO1xuZXhwb3J0IGNsYXNzIEFWTE5vZGUge1xuICAgIGs7XG4gICAgdjtcbiAgICBsID0gbnVsbDtcbiAgICByID0gbnVsbDtcbiAgICBoID0gMTtcbiAgICBjb25zdHJ1Y3RvcihrZXksIHZhbHVlKSB7XG4gICAgICAgIHRoaXMuayA9IGtleTtcbiAgICAgICAgdGhpcy52ID0gbmV3IFNldCh2YWx1ZSk7XG4gICAgfVxuICAgIHVwZGF0ZUhlaWdodCgpIHtcbiAgICAgICAgdGhpcy5oID0gTWF0aC5tYXgoQVZMTm9kZS5nZXRIZWlnaHQodGhpcy5sKSwgQVZMTm9kZS5nZXRIZWlnaHQodGhpcy5yKSkgKyAxO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0SGVpZ2h0KG5vZGUpIHtcbiAgICAgICAgcmV0dXJuIG5vZGUgPyBub2RlLmggOiAwO1xuICAgIH1cbiAgICBnZXRCYWxhbmNlRmFjdG9yKCkge1xuICAgICAgICByZXR1cm4gQVZMTm9kZS5nZXRIZWlnaHQodGhpcy5sKSAtIEFWTE5vZGUuZ2V0SGVpZ2h0KHRoaXMucik7XG4gICAgfVxuICAgIHJvdGF0ZUxlZnQoKSB7XG4gICAgICAgIGNvbnN0IG5ld1Jvb3QgPSB0aGlzLnI7XG4gICAgICAgIHRoaXMuciA9IG5ld1Jvb3QubDtcbiAgICAgICAgbmV3Um9vdC5sID0gdGhpcztcbiAgICAgICAgdGhpcy51cGRhdGVIZWlnaHQoKTtcbiAgICAgICAgbmV3Um9vdC51cGRhdGVIZWlnaHQoKTtcbiAgICAgICAgcmV0dXJuIG5ld1Jvb3Q7XG4gICAgfVxuICAgIHJvdGF0ZVJpZ2h0KCkge1xuICAgICAgICBjb25zdCBuZXdSb290ID0gdGhpcy5sO1xuICAgICAgICB0aGlzLmwgPSBuZXdSb290LnI7XG4gICAgICAgIG5ld1Jvb3QuciA9IHRoaXM7XG4gICAgICAgIHRoaXMudXBkYXRlSGVpZ2h0KCk7XG4gICAgICAgIG5ld1Jvb3QudXBkYXRlSGVpZ2h0KCk7XG4gICAgICAgIHJldHVybiBuZXdSb290O1xuICAgIH1cbiAgICB0b0pTT04oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBrOiB0aGlzLmssXG4gICAgICAgICAgICB2OiBBcnJheS5mcm9tKHRoaXMudiksXG4gICAgICAgICAgICBsOiB0aGlzLmwgPyB0aGlzLmwudG9KU09OKCkgOiBudWxsLFxuICAgICAgICAgICAgcjogdGhpcy5yID8gdGhpcy5yLnRvSlNPTigpIDogbnVsbCxcbiAgICAgICAgICAgIGg6IHRoaXMuaFxuICAgICAgICB9O1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbUpTT04oanNvbikge1xuICAgICAgICBjb25zdCBub2RlID0gbmV3IEFWTE5vZGUoanNvbi5rLCBqc29uLnYpO1xuICAgICAgICBub2RlLmwgPSBqc29uLmwgPyBBVkxOb2RlLmZyb21KU09OKGpzb24ubCkgOiBudWxsO1xuICAgICAgICBub2RlLnIgPSBqc29uLnIgPyBBVkxOb2RlLmZyb21KU09OKGpzb24ucikgOiBudWxsO1xuICAgICAgICBub2RlLmggPSBqc29uLmg7XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBBVkxUcmVlIHtcbiAgICByb290ID0gbnVsbDtcbiAgICBpbnNlcnRDb3VudCA9IDA7XG4gICAgY29uc3RydWN0b3Ioa2V5LCB2YWx1ZSkge1xuICAgICAgICBpZiAoa2V5ICE9PSB1bmRlZmluZWQgJiYgdmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5yb290ID0gbmV3IEFWTE5vZGUoa2V5LCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaW5zZXJ0KGtleSwgdmFsdWUsIHJlYmFsYW5jZVRocmVzaG9sZCA9IDEwMDApIHtcbiAgICAgICAgdGhpcy5yb290ID0gdGhpcy5pbnNlcnROb2RlKHRoaXMucm9vdCwga2V5LCB2YWx1ZSwgcmViYWxhbmNlVGhyZXNob2xkKTtcbiAgICB9XG4gICAgaW5zZXJ0TXVsdGlwbGUoa2V5LCB2YWx1ZSwgcmViYWxhbmNlVGhyZXNob2xkID0gMTAwMCkge1xuICAgICAgICBmb3IgKGNvbnN0IHYgb2YgdmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuaW5zZXJ0KGtleSwgdiwgcmViYWxhbmNlVGhyZXNob2xkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBSZWJhbGFuY2UgdGhlIHRyZWUgaWYgdGhlIGluc2VydCBjb3VudCByZWFjaGVzIHRoZSB0aHJlc2hvbGQuXG4gICAgLy8gVGhpcyB3aWxsIGltcHJvdmUgaW5zZXJ0aW9uIHBlcmZvcm1hbmNlIHNpbmNlIHdlIHdvbid0IGJlIHJlYmFsYW5jaW5nIHRoZSB0cmVlIG9uIGV2ZXJ5IGluc2VydC5cbiAgICAvLyBXaGVuIGluc2VydGluZyBkb2NzIHVzaW5nIGBpbnNlcnRNdWx0aXBsZWAsIHRoZSB0aHJlc2hvbGQgd2lsbCBiZSBzZXQgdG8gdGhlIG51bWJlciBvZiBkb2NzIGJlaW5nIGluc2VydGVkLlxuICAgIC8vIFdlIGNhbiBmb3JjZSByZWJhbGFuY2luZyB0aGUgdHJlZSBieSBzZXR0aW5nIHRoZSB0aHJlc2hvbGQgdG8gMSAoZGVmYXVsdCkuXG4gICAgcmViYWxhbmNlKCkge1xuICAgICAgICBpZiAodGhpcy5yb290KSB7XG4gICAgICAgICAgICB0aGlzLnJvb3QgPSB0aGlzLnJlYmFsYW5jZU5vZGUodGhpcy5yb290KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0b0pTT04oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByb290OiB0aGlzLnJvb3QgPyB0aGlzLnJvb3QudG9KU09OKCkgOiBudWxsLFxuICAgICAgICAgICAgaW5zZXJ0Q291bnQ6IHRoaXMuaW5zZXJ0Q291bnRcbiAgICAgICAgfTtcbiAgICB9XG4gICAgc3RhdGljIGZyb21KU09OKGpzb24pIHtcbiAgICAgICAgY29uc3QgdHJlZSA9IG5ldyBBVkxUcmVlKCk7XG4gICAgICAgIHRyZWUucm9vdCA9IGpzb24ucm9vdCA/IEFWTE5vZGUuZnJvbUpTT04oanNvbi5yb290KSA6IG51bGw7XG4gICAgICAgIHRyZWUuaW5zZXJ0Q291bnQgPSBqc29uLmluc2VydENvdW50IHx8IDA7XG4gICAgICAgIHJldHVybiB0cmVlO1xuICAgIH1cbiAgICBpbnNlcnROb2RlKG5vZGUsIGtleSwgdmFsdWUsIHJlYmFsYW5jZVRocmVzaG9sZCkge1xuICAgICAgICBpZiAobm9kZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBBVkxOb2RlKGtleSwgW3ZhbHVlXSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGF0aCA9IFtdO1xuICAgICAgICBsZXQgY3VycmVudCA9IG5vZGU7XG4gICAgICAgIGxldCBwYXJlbnQgPSBudWxsO1xuICAgICAgICB3aGlsZSAoY3VycmVudCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcGF0aC5wdXNoKHsgcGFyZW50LCBub2RlOiBjdXJyZW50IH0pO1xuICAgICAgICAgICAgaWYgKGtleSA8IGN1cnJlbnQuaykge1xuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50LmwgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudC5sID0gbmV3IEFWTE5vZGUoa2V5LCBbdmFsdWVdKTtcbiAgICAgICAgICAgICAgICAgICAgcGF0aC5wdXNoKHsgcGFyZW50OiBjdXJyZW50LCBub2RlOiBjdXJyZW50LmwgfSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50ID0gY3VycmVudDtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQubDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChrZXkgPiBjdXJyZW50LmspIHtcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudC5yID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnQuciA9IG5ldyBBVkxOb2RlKGtleSwgW3ZhbHVlXSk7XG4gICAgICAgICAgICAgICAgICAgIHBhdGgucHVzaCh7IHBhcmVudDogY3VycmVudCwgbm9kZTogY3VycmVudC5yIH0pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmVudCA9IGN1cnJlbnQ7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gS2V5IGFscmVhZHkgZXhpc3RzXG4gICAgICAgICAgICAgICAgY3VycmVudC52LmFkZCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjdXJyZW50LnYpKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgOyhjdXJyZW50LnYgYXMgYW55W10pLnB1c2goLi4uKHZhbHVlIGFzIFZbXSkpXG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICA7KGN1cnJlbnQudiBhcyBhbnlbXSkucHVzaCh2YWx1ZSlcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgY3VycmVudC52ID0gbmV3IFNldChbdmFsdWVdKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFVwZGF0ZSBoZWlnaHRzIGFuZCByZWJhbGFuY2UgaWYgbmVjZXNzYXJ5XG4gICAgICAgIGxldCBuZWVkUmViYWxhbmNlID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLmluc2VydENvdW50KysgJSByZWJhbGFuY2VUaHJlc2hvbGQgPT09IDApIHtcbiAgICAgICAgICAgIG5lZWRSZWJhbGFuY2UgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGkgPSBwYXRoLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICBjb25zdCB7IHBhcmVudCwgbm9kZTogY3VycmVudE5vZGUgfSA9IHBhdGhbaV07XG4gICAgICAgICAgICBjdXJyZW50Tm9kZS51cGRhdGVIZWlnaHQoKTtcbiAgICAgICAgICAgIGlmIChuZWVkUmViYWxhbmNlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmViYWxhbmNlZE5vZGUgPSB0aGlzLnJlYmFsYW5jZU5vZGUoY3VycmVudE5vZGUpO1xuICAgICAgICAgICAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmVudC5sID09PSBjdXJyZW50Tm9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50LmwgPSByZWJhbGFuY2VkTm9kZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChwYXJlbnQuciA9PT0gY3VycmVudE5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudC5yID0gcmViYWxhbmNlZE5vZGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgdGhlIHJvb3Qgbm9kZVxuICAgICAgICAgICAgICAgICAgICBub2RlID0gcmViYWxhbmNlZE5vZGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgIH1cbiAgICByZWJhbGFuY2VOb2RlKG5vZGUpIHtcbiAgICAgICAgY29uc3QgYmFsYW5jZUZhY3RvciA9IG5vZGUuZ2V0QmFsYW5jZUZhY3RvcigpO1xuICAgICAgICBpZiAoYmFsYW5jZUZhY3RvciA+IDEpIHtcbiAgICAgICAgICAgIC8vIExlZnQgaGVhdnlcbiAgICAgICAgICAgIGlmIChub2RlLmwgJiYgbm9kZS5sLmdldEJhbGFuY2VGYWN0b3IoKSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gTGVmdCBMZWZ0IENhc2VcbiAgICAgICAgICAgICAgICByZXR1cm4gbm9kZS5yb3RhdGVSaWdodCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobm9kZS5sKSB7XG4gICAgICAgICAgICAgICAgLy8gTGVmdCBSaWdodCBDYXNlXG4gICAgICAgICAgICAgICAgbm9kZS5sID0gbm9kZS5sLnJvdGF0ZUxlZnQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbm9kZS5yb3RhdGVSaWdodCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChiYWxhbmNlRmFjdG9yIDwgLTEpIHtcbiAgICAgICAgICAgIC8vIFJpZ2h0IGhlYXZ5XG4gICAgICAgICAgICBpZiAobm9kZS5yICYmIG5vZGUuci5nZXRCYWxhbmNlRmFjdG9yKCkgPD0gMCkge1xuICAgICAgICAgICAgICAgIC8vIFJpZ2h0IFJpZ2h0IENhc2VcbiAgICAgICAgICAgICAgICByZXR1cm4gbm9kZS5yb3RhdGVMZWZ0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChub2RlLnIpIHtcbiAgICAgICAgICAgICAgICAvLyBSaWdodCBMZWZ0IENhc2VcbiAgICAgICAgICAgICAgICBub2RlLnIgPSBub2RlLnIucm90YXRlUmlnaHQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbm9kZS5yb3RhdGVMZWZ0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuICAgIGZpbmQoa2V5KSB7XG4gICAgICAgIGNvbnN0IG5vZGUgPSB0aGlzLmZpbmROb2RlQnlLZXkoa2V5KTtcbiAgICAgICAgcmV0dXJuIG5vZGUgPyBub2RlLnYgOiBudWxsO1xuICAgIH1cbiAgICBjb250YWlucyhrZXkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmluZChrZXkpICE9PSBudWxsO1xuICAgIH1cbiAgICBnZXRTaXplKCkge1xuICAgICAgICBsZXQgY291bnQgPSAwO1xuICAgICAgICBjb25zdCBzdGFjayA9IFtdO1xuICAgICAgICBsZXQgY3VycmVudCA9IHRoaXMucm9vdDtcbiAgICAgICAgd2hpbGUgKGN1cnJlbnQgfHwgc3RhY2subGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgd2hpbGUgKGN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICBzdGFjay5wdXNoKGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50Lmw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJyZW50ID0gc3RhY2sucG9wKCk7XG4gICAgICAgICAgICBjb3VudCsrO1xuICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQucjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY291bnQ7XG4gICAgfVxuICAgIGlzQmFsYW5jZWQoKSB7XG4gICAgICAgIGlmICghdGhpcy5yb290KVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGNvbnN0IHN0YWNrID0gW3RoaXMucm9vdF07XG4gICAgICAgIHdoaWxlIChzdGFjay5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBub2RlID0gc3RhY2sucG9wKCk7XG4gICAgICAgICAgICBjb25zdCBiYWxhbmNlRmFjdG9yID0gbm9kZS5nZXRCYWxhbmNlRmFjdG9yKCk7XG4gICAgICAgICAgICBpZiAoTWF0aC5hYnMoYmFsYW5jZUZhY3RvcikgPiAxKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5vZGUubClcbiAgICAgICAgICAgICAgICBzdGFjay5wdXNoKG5vZGUubCk7XG4gICAgICAgICAgICBpZiAobm9kZS5yKVxuICAgICAgICAgICAgICAgIHN0YWNrLnB1c2gobm9kZS5yKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmVtb3ZlKGtleSkge1xuICAgICAgICB0aGlzLnJvb3QgPSB0aGlzLnJlbW92ZU5vZGUodGhpcy5yb290LCBrZXkpO1xuICAgIH1cbiAgICByZW1vdmVEb2N1bWVudChrZXksIGlkKSB7XG4gICAgICAgIGNvbnN0IG5vZGUgPSB0aGlzLmZpbmROb2RlQnlLZXkoa2V5KTtcbiAgICAgICAgaWYgKCFub2RlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vZGUudi5zaXplID09PSAxKSB7XG4gICAgICAgICAgICB0aGlzLnJvb3QgPSB0aGlzLnJlbW92ZU5vZGUodGhpcy5yb290LCBrZXkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbm9kZS52ID0gbmV3IFNldChbLi4ubm9kZS52LnZhbHVlcygpXS5maWx0ZXIoKHYpID0+IHYgIT09IGlkKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZmluZE5vZGVCeUtleShrZXkpIHtcbiAgICAgICAgbGV0IG5vZGUgPSB0aGlzLnJvb3Q7XG4gICAgICAgIHdoaWxlIChub2RlKSB7XG4gICAgICAgICAgICBpZiAoa2V5IDwgbm9kZS5rKSB7XG4gICAgICAgICAgICAgICAgbm9kZSA9IG5vZGUubDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGtleSA+IG5vZGUuaykge1xuICAgICAgICAgICAgICAgIG5vZGUgPSBub2RlLnI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmVtb3ZlTm9kZShub2RlLCBrZXkpIHtcbiAgICAgICAgaWYgKG5vZGUgPT09IG51bGwpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgY29uc3QgcGF0aCA9IFtdO1xuICAgICAgICBsZXQgY3VycmVudCA9IG5vZGU7XG4gICAgICAgIHdoaWxlIChjdXJyZW50ICE9PSBudWxsICYmIGN1cnJlbnQuayAhPT0ga2V5KSB7XG4gICAgICAgICAgICBwYXRoLnB1c2goY3VycmVudCk7XG4gICAgICAgICAgICBpZiAoa2V5IDwgY3VycmVudC5rKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQubDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN1cnJlbnQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIEtleSBub3QgZm91bmRcbiAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICB9XG4gICAgICAgIC8vIE5vZGUgd2l0aCBvbmx5IG9uZSBjaGlsZCBvciBubyBjaGlsZFxuICAgICAgICBpZiAoY3VycmVudC5sID09PSBudWxsIHx8IGN1cnJlbnQuciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgY2hpbGQgPSBjdXJyZW50LmwgPyBjdXJyZW50LmwgOiBjdXJyZW50LnI7XG4gICAgICAgICAgICBpZiAocGF0aC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAvLyBOb2RlIHRvIGJlIGRlbGV0ZWQgaXMgcm9vdFxuICAgICAgICAgICAgICAgIG5vZGUgPSBjaGlsZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IHBhdGhbcGF0aC5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICBpZiAocGFyZW50LmwgPT09IGN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50LmwgPSBjaGlsZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmVudC5yID0gY2hpbGQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gTm9kZSB3aXRoIHR3byBjaGlsZHJlbjogR2V0IHRoZSBpbm9yZGVyIHN1Y2Nlc3NvclxuICAgICAgICAgICAgbGV0IHN1Y2Nlc3NvclBhcmVudCA9IGN1cnJlbnQ7XG4gICAgICAgICAgICBsZXQgc3VjY2Vzc29yID0gY3VycmVudC5yO1xuICAgICAgICAgICAgd2hpbGUgKHN1Y2Nlc3Nvci5sICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgc3VjY2Vzc29yUGFyZW50ID0gc3VjY2Vzc29yO1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3NvciA9IHN1Y2Nlc3Nvci5sO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQ29weSB0aGUgc3VjY2Vzc29yJ3MgY29udGVudCB0byBjdXJyZW50IG5vZGVcbiAgICAgICAgICAgIGN1cnJlbnQuayA9IHN1Y2Nlc3Nvci5rO1xuICAgICAgICAgICAgY3VycmVudC52ID0gc3VjY2Vzc29yLnY7XG4gICAgICAgICAgICAvLyBEZWxldGUgdGhlIHN1Y2Nlc3NvclxuICAgICAgICAgICAgaWYgKHN1Y2Nlc3NvclBhcmVudC5sID09PSBzdWNjZXNzb3IpIHtcbiAgICAgICAgICAgICAgICBzdWNjZXNzb3JQYXJlbnQubCA9IHN1Y2Nlc3Nvci5yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc3VjY2Vzc29yUGFyZW50LnIgPSBzdWNjZXNzb3IucjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1cnJlbnQgPSBzdWNjZXNzb3JQYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVXBkYXRlIGhlaWdodHMgYW5kIHJlYmFsYW5jZVxuICAgICAgICBwYXRoLnB1c2goY3VycmVudCk7XG4gICAgICAgIGZvciAobGV0IGkgPSBwYXRoLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50Tm9kZSA9IHBhdGhbaV07XG4gICAgICAgICAgICBjdXJyZW50Tm9kZS51cGRhdGVIZWlnaHQoKTtcbiAgICAgICAgICAgIGNvbnN0IHJlYmFsYW5jZWROb2RlID0gdGhpcy5yZWJhbGFuY2VOb2RlKGN1cnJlbnROb2RlKTtcbiAgICAgICAgICAgIGlmIChpID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IHBhdGhbaSAtIDFdO1xuICAgICAgICAgICAgICAgIGlmIChwYXJlbnQubCA9PT0gY3VycmVudE5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50LmwgPSByZWJhbGFuY2VkTm9kZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocGFyZW50LnIgPT09IGN1cnJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmVudC5yID0gcmViYWxhbmNlZE5vZGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gUm9vdCBub2RlXG4gICAgICAgICAgICAgICAgbm9kZSA9IHJlYmFsYW5jZWROb2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgIH1cbiAgICByYW5nZVNlYXJjaChtaW4sIG1heCkge1xuICAgICAgICBsZXQgcmVzdWx0ID0gbmV3IFNldCgpO1xuICAgICAgICBjb25zdCBzdGFjayA9IFtdO1xuICAgICAgICBsZXQgY3VycmVudCA9IHRoaXMucm9vdDtcbiAgICAgICAgd2hpbGUgKGN1cnJlbnQgfHwgc3RhY2subGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgd2hpbGUgKGN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICBzdGFjay5wdXNoKGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50Lmw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJyZW50ID0gc3RhY2sucG9wKCk7XG4gICAgICAgICAgICBpZiAoY3VycmVudC5rID49IG1pbiAmJiBjdXJyZW50LmsgPD0gbWF4KSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gc2V0VW5pb24ocmVzdWx0LCBjdXJyZW50LnYpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGN1cnJlbnQuayA+IG1heCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQucjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBncmVhdGVyVGhhbihrZXksIGluY2x1c2l2ZSA9IGZhbHNlKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBuZXcgU2V0KCk7XG4gICAgICAgIGNvbnN0IHN0YWNrID0gW107XG4gICAgICAgIGxldCBjdXJyZW50ID0gdGhpcy5yb290O1xuICAgICAgICB3aGlsZSAoY3VycmVudCB8fCBzdGFjay5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB3aGlsZSAoY3VycmVudCkge1xuICAgICAgICAgICAgICAgIHN0YWNrLnB1c2goY3VycmVudCk7XG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQucjsgLy8gVHJhdmVyc2UgcmlnaHQgc3VidHJlZSBmaXJzdFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VycmVudCA9IHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgaWYgKChpbmNsdXNpdmUgJiYgY3VycmVudC5rID49IGtleSkgfHwgKCFpbmNsdXNpdmUgJiYgY3VycmVudC5rID4ga2V5KSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHNldFVuaW9uKHJlc3VsdCwgY3VycmVudC52KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGN1cnJlbnQuayA8PSBrZXkpIHtcbiAgICAgICAgICAgICAgICBicmVhazsgLy8gU2luY2Ugd2UncmUgdHJhdmVyc2luZyBpbiBkZXNjZW5kaW5nIG9yZGVyLCB3ZSBjYW4gYnJlYWsgZWFybHlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50Lmw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgbGVzc1RoYW4oa2V5LCBpbmNsdXNpdmUgPSBmYWxzZSkge1xuICAgICAgICBsZXQgcmVzdWx0ID0gbmV3IFNldCgpO1xuICAgICAgICBjb25zdCBzdGFjayA9IFtdO1xuICAgICAgICBsZXQgY3VycmVudCA9IHRoaXMucm9vdDtcbiAgICAgICAgd2hpbGUgKGN1cnJlbnQgfHwgc3RhY2subGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgd2hpbGUgKGN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICBzdGFjay5wdXNoKGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50Lmw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJyZW50ID0gc3RhY2sucG9wKCk7XG4gICAgICAgICAgICBpZiAoKGluY2x1c2l2ZSAmJiBjdXJyZW50LmsgPD0ga2V5KSB8fCAoIWluY2x1c2l2ZSAmJiBjdXJyZW50LmsgPCBrZXkpKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gc2V0VW5pb24ocmVzdWx0LCBjdXJyZW50LnYpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY3VycmVudC5rID4ga2V5KSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7IC8vIFNpbmNlIHdlJ3JlIHRyYXZlcnNpbmcgaW4gYXNjZW5kaW5nIG9yZGVyLCB3ZSBjYW4gYnJlYWsgZWFybHlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hdmwuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@orama/orama/dist/browser/trees/avl.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@orama/orama/dist/browser/trees/bkd.js":
/*!*************************************************************!*\
  !*** ./node_modules/@orama/orama/dist/browser/trees/bkd.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BKDTree: () => (/* binding */ BKDTree)\n/* harmony export */ });\nconst K = 2; // 2D points\nconst EARTH_RADIUS = 6371e3; // Earth radius in meters\nclass BKDNode {\n    point;\n    docIDs;\n    left;\n    right;\n    parent;\n    constructor(point, docIDs) {\n        this.point = point;\n        this.docIDs = new Set(docIDs);\n        this.left = null;\n        this.right = null;\n        this.parent = null;\n    }\n    toJSON() {\n        return {\n            point: this.point,\n            docIDs: Array.from(this.docIDs),\n            left: this.left ? this.left.toJSON() : null,\n            right: this.right ? this.right.toJSON() : null\n        };\n    }\n    static fromJSON(json, parent = null) {\n        const node = new BKDNode(json.point, json.docIDs);\n        node.parent = parent;\n        if (json.left) {\n            node.left = BKDNode.fromJSON(json.left, node);\n        }\n        if (json.right) {\n            node.right = BKDNode.fromJSON(json.right, node);\n        }\n        return node;\n    }\n}\nclass BKDTree {\n    root;\n    nodeMap;\n    constructor() {\n        this.root = null;\n        this.nodeMap = new Map();\n    }\n    getPointKey(point) {\n        return `${point.lon},${point.lat}`;\n    }\n    insert(point, docIDs) {\n        const pointKey = this.getPointKey(point);\n        const existingNode = this.nodeMap.get(pointKey);\n        if (existingNode) {\n            docIDs.forEach((id) => existingNode.docIDs.add(id));\n            return;\n        }\n        const newNode = new BKDNode(point, docIDs);\n        this.nodeMap.set(pointKey, newNode);\n        if (this.root == null) {\n            this.root = newNode;\n            return;\n        }\n        let node = this.root;\n        let depth = 0;\n        // eslint-disable-next-line no-constant-condition\n        while (true) {\n            const axis = depth % K;\n            if (axis === 0) {\n                if (point.lon < node.point.lon) {\n                    if (node.left == null) {\n                        node.left = newNode;\n                        newNode.parent = node;\n                        return;\n                    }\n                    node = node.left;\n                }\n                else {\n                    if (node.right == null) {\n                        node.right = newNode;\n                        newNode.parent = node;\n                        return;\n                    }\n                    node = node.right;\n                }\n            }\n            else {\n                if (point.lat < node.point.lat) {\n                    if (node.left == null) {\n                        node.left = newNode;\n                        newNode.parent = node;\n                        return;\n                    }\n                    node = node.left;\n                }\n                else {\n                    if (node.right == null) {\n                        node.right = newNode;\n                        newNode.parent = node;\n                        return;\n                    }\n                    node = node.right;\n                }\n            }\n            depth++;\n        }\n    }\n    contains(point) {\n        const pointKey = this.getPointKey(point);\n        return this.nodeMap.has(pointKey);\n    }\n    getDocIDsByCoordinates(point) {\n        const pointKey = this.getPointKey(point);\n        const node = this.nodeMap.get(pointKey);\n        if (node) {\n            return Array.from(node.docIDs);\n        }\n        return null;\n    }\n    removeDocByID(point, docID) {\n        const pointKey = this.getPointKey(point);\n        const node = this.nodeMap.get(pointKey);\n        if (node) {\n            node.docIDs.delete(docID);\n            if (node.docIDs.size === 0) {\n                this.nodeMap.delete(pointKey);\n                this.deleteNode(node);\n            }\n        }\n    }\n    deleteNode(node) {\n        const parent = node.parent;\n        const child = node.left ? node.left : node.right;\n        if (child) {\n            child.parent = parent;\n        }\n        if (parent) {\n            if (parent.left === node) {\n                parent.left = child;\n            }\n            else if (parent.right === node) {\n                parent.right = child;\n            }\n        }\n        else {\n            this.root = child;\n            if (this.root) {\n                this.root.parent = null;\n            }\n        }\n    }\n    searchByRadius(center, radius, inclusive = true, sort = 'asc', highPrecision = false) {\n        const distanceFn = highPrecision ? BKDTree.vincentyDistance : BKDTree.haversineDistance;\n        const stack = [{ node: this.root, depth: 0 }];\n        const result = [];\n        while (stack.length > 0) {\n            const { node, depth } = stack.pop();\n            if (node == null)\n                continue;\n            const dist = distanceFn(center, node.point);\n            if (inclusive ? dist <= radius : dist > radius) {\n                result.push({ point: node.point, docIDs: Array.from(node.docIDs) });\n            }\n            if (node.left != null) {\n                stack.push({ node: node.left, depth: depth + 1 });\n            }\n            if (node.right != null) {\n                stack.push({ node: node.right, depth: depth + 1 });\n            }\n        }\n        if (sort) {\n            result.sort((a, b) => {\n                const distA = distanceFn(center, a.point);\n                const distB = distanceFn(center, b.point);\n                return sort.toLowerCase() === 'asc' ? distA - distB : distB - distA;\n            });\n        }\n        return result;\n    }\n    searchByPolygon(polygon, inclusive = true, sort = null, highPrecision = false) {\n        const stack = [{ node: this.root, depth: 0 }];\n        const result = [];\n        while (stack.length > 0) {\n            const { node, depth } = stack.pop();\n            if (node == null)\n                continue;\n            if (node.left != null) {\n                stack.push({ node: node.left, depth: depth + 1 });\n            }\n            if (node.right != null) {\n                stack.push({ node: node.right, depth: depth + 1 });\n            }\n            const isInsidePolygon = BKDTree.isPointInPolygon(polygon, node.point);\n            if ((isInsidePolygon && inclusive) || (!isInsidePolygon && !inclusive)) {\n                result.push({ point: node.point, docIDs: Array.from(node.docIDs) });\n            }\n        }\n        const centroid = BKDTree.calculatePolygonCentroid(polygon);\n        if (sort) {\n            const distanceFn = highPrecision ? BKDTree.vincentyDistance : BKDTree.haversineDistance;\n            result.sort((a, b) => {\n                const distA = distanceFn(centroid, a.point);\n                const distB = distanceFn(centroid, b.point);\n                return sort.toLowerCase() === 'asc' ? distA - distB : distB - distA;\n            });\n        }\n        return result;\n    }\n    toJSON() {\n        return {\n            root: this.root ? this.root.toJSON() : null\n        };\n    }\n    static fromJSON(json) {\n        const tree = new BKDTree();\n        if (json.root) {\n            tree.root = BKDNode.fromJSON(json.root);\n            tree.buildNodeMap(tree.root);\n        }\n        return tree;\n    }\n    buildNodeMap(node) {\n        if (node == null)\n            return;\n        const pointKey = this.getPointKey(node.point);\n        this.nodeMap.set(pointKey, node);\n        if (node.left) {\n            this.buildNodeMap(node.left);\n        }\n        if (node.right) {\n            this.buildNodeMap(node.right);\n        }\n    }\n    static calculatePolygonCentroid(polygon) {\n        let totalArea = 0;\n        let centroidX = 0;\n        let centroidY = 0;\n        const polygonLength = polygon.length;\n        for (let i = 0, j = polygonLength - 1; i < polygonLength; j = i++) {\n            const xi = polygon[i].lon;\n            const yi = polygon[i].lat;\n            const xj = polygon[j].lon;\n            const yj = polygon[j].lat;\n            const areaSegment = xi * yj - xj * yi;\n            totalArea += areaSegment;\n            centroidX += (xi + xj) * areaSegment;\n            centroidY += (yi + yj) * areaSegment;\n        }\n        totalArea /= 2;\n        const centroidCoordinate = 6 * totalArea;\n        centroidX /= centroidCoordinate;\n        centroidY /= centroidCoordinate;\n        return { lon: centroidX, lat: centroidY };\n    }\n    static isPointInPolygon(polygon, point) {\n        let isInside = false;\n        const x = point.lon;\n        const y = point.lat;\n        const polygonLength = polygon.length;\n        for (let i = 0, j = polygonLength - 1; i < polygonLength; j = i++) {\n            const xi = polygon[i].lon;\n            const yi = polygon[i].lat;\n            const xj = polygon[j].lon;\n            const yj = polygon[j].lat;\n            const intersect = yi > y !== yj > y && x < ((xj - xi) * (y - yi)) / (yj - yi) + xi;\n            if (intersect)\n                isInside = !isInside;\n        }\n        return isInside;\n    }\n    static haversineDistance(coord1, coord2) {\n        const P = Math.PI / 180;\n        const lat1 = coord1.lat * P;\n        const lat2 = coord2.lat * P;\n        const deltaLat = (coord2.lat - coord1.lat) * P;\n        const deltaLon = (coord2.lon - coord1.lon) * P;\n        const a = Math.sin(deltaLat / 2) * Math.sin(deltaLat / 2) +\n            Math.cos(lat1) * Math.cos(lat2) * Math.sin(deltaLon / 2) * Math.sin(deltaLon / 2);\n        const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n        return EARTH_RADIUS * c;\n    }\n    static vincentyDistance(coord1, coord2) {\n        const a = 6378137;\n        const f = 1 / 298.257223563;\n        const b = (1 - f) * a;\n        const P = Math.PI / 180;\n        const lat1 = coord1.lat * P;\n        const lat2 = coord2.lat * P;\n        const deltaLon = (coord2.lon - coord1.lon) * P;\n        const U1 = Math.atan((1 - f) * Math.tan(lat1));\n        const U2 = Math.atan((1 - f) * Math.tan(lat2));\n        const sinU1 = Math.sin(U1);\n        const cosU1 = Math.cos(U1);\n        const sinU2 = Math.sin(U2);\n        const cosU2 = Math.cos(U2);\n        let lambda = deltaLon;\n        let prevLambda;\n        let iterationLimit = 1000;\n        let sinSigma;\n        let cosSigma;\n        let sigma;\n        let sinAlpha;\n        let cos2Alpha;\n        let cos2SigmaM;\n        do {\n            const sinLambda = Math.sin(lambda);\n            const cosLambda = Math.cos(lambda);\n            sinSigma = Math.sqrt(cosU2 * sinLambda * (cosU2 * sinLambda) +\n                (cosU1 * sinU2 - sinU1 * cosU2 * cosLambda) * (cosU1 * sinU2 - sinU1 * cosU2 * cosLambda));\n            if (sinSigma === 0)\n                return 0; // co-incident points\n            cosSigma = sinU1 * sinU2 + cosU1 * cosU2 * cosLambda;\n            sigma = Math.atan2(sinSigma, cosSigma);\n            sinAlpha = (cosU1 * cosU2 * sinLambda) / sinSigma;\n            cos2Alpha = 1 - sinAlpha * sinAlpha;\n            cos2SigmaM = cosSigma - (2 * sinU1 * sinU2) / cos2Alpha;\n            if (isNaN(cos2SigmaM))\n                cos2SigmaM = 0;\n            const C = (f / 16) * cos2Alpha * (4 + f * (4 - 3 * cos2Alpha));\n            prevLambda = lambda;\n            lambda =\n                deltaLon +\n                    (1 - C) *\n                        f *\n                        sinAlpha *\n                        (sigma + C * sinSigma * (cos2SigmaM + C * cosSigma * (-1 + 2 * cos2SigmaM * cos2SigmaM)));\n        } while (Math.abs(lambda - prevLambda) > 1e-12 && --iterationLimit > 0);\n        if (iterationLimit === 0) {\n            return NaN;\n        }\n        const uSquared = (cos2Alpha * (a * a - b * b)) / (b * b);\n        const A = 1 + (uSquared / 16384) * (4096 + uSquared * (-768 + uSquared * (320 - 175 * uSquared)));\n        const B = (uSquared / 1024) * (256 + uSquared * (-128 + uSquared * (74 - 47 * uSquared)));\n        const deltaSigma = B *\n            sinSigma *\n            (cos2SigmaM +\n                (B / 4) *\n                    (cosSigma * (-1 + 2 * cos2SigmaM * cos2SigmaM) -\n                        (B / 6) * cos2SigmaM * (-3 + 4 * sinSigma * sinSigma) * (-3 + 4 * cos2SigmaM * cos2SigmaM)));\n        const s = b * A * (sigma - deltaSigma);\n        return s;\n    }\n}\n//# sourceMappingURL=bkd.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9icm93c2VyL3RyZWVzL2JrZC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsYUFBYTtBQUNiLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLFVBQVUsR0FBRyxVQUFVO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsMkJBQTJCO0FBQ3BEO0FBQ0E7QUFDQSxvQkFBb0IsY0FBYztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixvREFBb0Q7QUFDbEY7QUFDQTtBQUNBLDZCQUE2QixtQ0FBbUM7QUFDaEU7QUFDQTtBQUNBLDZCQUE2QixvQ0FBb0M7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsMkJBQTJCO0FBQ3BEO0FBQ0E7QUFDQSxvQkFBb0IsY0FBYztBQUNsQztBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsbUNBQW1DO0FBQ2hFO0FBQ0E7QUFDQSw2QkFBNkIsb0NBQW9DO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixvREFBb0Q7QUFDbEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQyxtQkFBbUI7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLG1CQUFtQjtBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvYXJjaGllbWNrZW56aWUvRGVza3RvcC9ndC1saWJyYXJpZXMvZG9jcy9ub2RlX21vZHVsZXMvQG9yYW1hL29yYW1hL2Rpc3QvYnJvd3Nlci90cmVlcy9ia2QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgSyA9IDI7IC8vIDJEIHBvaW50c1xuY29uc3QgRUFSVEhfUkFESVVTID0gNjM3MWUzOyAvLyBFYXJ0aCByYWRpdXMgaW4gbWV0ZXJzXG5jbGFzcyBCS0ROb2RlIHtcbiAgICBwb2ludDtcbiAgICBkb2NJRHM7XG4gICAgbGVmdDtcbiAgICByaWdodDtcbiAgICBwYXJlbnQ7XG4gICAgY29uc3RydWN0b3IocG9pbnQsIGRvY0lEcykge1xuICAgICAgICB0aGlzLnBvaW50ID0gcG9pbnQ7XG4gICAgICAgIHRoaXMuZG9jSURzID0gbmV3IFNldChkb2NJRHMpO1xuICAgICAgICB0aGlzLmxlZnQgPSBudWxsO1xuICAgICAgICB0aGlzLnJpZ2h0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgIH1cbiAgICB0b0pTT04oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwb2ludDogdGhpcy5wb2ludCxcbiAgICAgICAgICAgIGRvY0lEczogQXJyYXkuZnJvbSh0aGlzLmRvY0lEcyksXG4gICAgICAgICAgICBsZWZ0OiB0aGlzLmxlZnQgPyB0aGlzLmxlZnQudG9KU09OKCkgOiBudWxsLFxuICAgICAgICAgICAgcmlnaHQ6IHRoaXMucmlnaHQgPyB0aGlzLnJpZ2h0LnRvSlNPTigpIDogbnVsbFxuICAgICAgICB9O1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbUpTT04oanNvbiwgcGFyZW50ID0gbnVsbCkge1xuICAgICAgICBjb25zdCBub2RlID0gbmV3IEJLRE5vZGUoanNvbi5wb2ludCwganNvbi5kb2NJRHMpO1xuICAgICAgICBub2RlLnBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgaWYgKGpzb24ubGVmdCkge1xuICAgICAgICAgICAgbm9kZS5sZWZ0ID0gQktETm9kZS5mcm9tSlNPTihqc29uLmxlZnQsIG5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChqc29uLnJpZ2h0KSB7XG4gICAgICAgICAgICBub2RlLnJpZ2h0ID0gQktETm9kZS5mcm9tSlNPTihqc29uLnJpZ2h0LCBub2RlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQktEVHJlZSB7XG4gICAgcm9vdDtcbiAgICBub2RlTWFwO1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnJvb3QgPSBudWxsO1xuICAgICAgICB0aGlzLm5vZGVNYXAgPSBuZXcgTWFwKCk7XG4gICAgfVxuICAgIGdldFBvaW50S2V5KHBvaW50KSB7XG4gICAgICAgIHJldHVybiBgJHtwb2ludC5sb259LCR7cG9pbnQubGF0fWA7XG4gICAgfVxuICAgIGluc2VydChwb2ludCwgZG9jSURzKSB7XG4gICAgICAgIGNvbnN0IHBvaW50S2V5ID0gdGhpcy5nZXRQb2ludEtleShwb2ludCk7XG4gICAgICAgIGNvbnN0IGV4aXN0aW5nTm9kZSA9IHRoaXMubm9kZU1hcC5nZXQocG9pbnRLZXkpO1xuICAgICAgICBpZiAoZXhpc3RpbmdOb2RlKSB7XG4gICAgICAgICAgICBkb2NJRHMuZm9yRWFjaCgoaWQpID0+IGV4aXN0aW5nTm9kZS5kb2NJRHMuYWRkKGlkKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmV3Tm9kZSA9IG5ldyBCS0ROb2RlKHBvaW50LCBkb2NJRHMpO1xuICAgICAgICB0aGlzLm5vZGVNYXAuc2V0KHBvaW50S2V5LCBuZXdOb2RlKTtcbiAgICAgICAgaWYgKHRoaXMucm9vdCA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLnJvb3QgPSBuZXdOb2RlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBub2RlID0gdGhpcy5yb290O1xuICAgICAgICBsZXQgZGVwdGggPSAwO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc3RhbnQtY29uZGl0aW9uXG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICBjb25zdCBheGlzID0gZGVwdGggJSBLO1xuICAgICAgICAgICAgaWYgKGF4aXMgPT09IDApIHtcbiAgICAgICAgICAgICAgICBpZiAocG9pbnQubG9uIDwgbm9kZS5wb2ludC5sb24pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUubGVmdCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLmxlZnQgPSBuZXdOb2RlO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3Tm9kZS5wYXJlbnQgPSBub2RlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG5vZGUgPSBub2RlLmxlZnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS5yaWdodCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLnJpZ2h0ID0gbmV3Tm9kZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld05vZGUucGFyZW50ID0gbm9kZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBub2RlID0gbm9kZS5yaWdodDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAocG9pbnQubGF0IDwgbm9kZS5wb2ludC5sYXQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUubGVmdCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLmxlZnQgPSBuZXdOb2RlO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3Tm9kZS5wYXJlbnQgPSBub2RlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG5vZGUgPSBub2RlLmxlZnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS5yaWdodCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLnJpZ2h0ID0gbmV3Tm9kZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld05vZGUucGFyZW50ID0gbm9kZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBub2RlID0gbm9kZS5yaWdodDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZXB0aCsrO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnRhaW5zKHBvaW50KSB7XG4gICAgICAgIGNvbnN0IHBvaW50S2V5ID0gdGhpcy5nZXRQb2ludEtleShwb2ludCk7XG4gICAgICAgIHJldHVybiB0aGlzLm5vZGVNYXAuaGFzKHBvaW50S2V5KTtcbiAgICB9XG4gICAgZ2V0RG9jSURzQnlDb29yZGluYXRlcyhwb2ludCkge1xuICAgICAgICBjb25zdCBwb2ludEtleSA9IHRoaXMuZ2V0UG9pbnRLZXkocG9pbnQpO1xuICAgICAgICBjb25zdCBub2RlID0gdGhpcy5ub2RlTWFwLmdldChwb2ludEtleSk7XG4gICAgICAgIGlmIChub2RlKSB7XG4gICAgICAgICAgICByZXR1cm4gQXJyYXkuZnJvbShub2RlLmRvY0lEcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJlbW92ZURvY0J5SUQocG9pbnQsIGRvY0lEKSB7XG4gICAgICAgIGNvbnN0IHBvaW50S2V5ID0gdGhpcy5nZXRQb2ludEtleShwb2ludCk7XG4gICAgICAgIGNvbnN0IG5vZGUgPSB0aGlzLm5vZGVNYXAuZ2V0KHBvaW50S2V5KTtcbiAgICAgICAgaWYgKG5vZGUpIHtcbiAgICAgICAgICAgIG5vZGUuZG9jSURzLmRlbGV0ZShkb2NJRCk7XG4gICAgICAgICAgICBpZiAobm9kZS5kb2NJRHMuc2l6ZSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMubm9kZU1hcC5kZWxldGUocG9pbnRLZXkpO1xuICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlTm9kZShub2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBkZWxldGVOb2RlKG5vZGUpIHtcbiAgICAgICAgY29uc3QgcGFyZW50ID0gbm9kZS5wYXJlbnQ7XG4gICAgICAgIGNvbnN0IGNoaWxkID0gbm9kZS5sZWZ0ID8gbm9kZS5sZWZ0IDogbm9kZS5yaWdodDtcbiAgICAgICAgaWYgKGNoaWxkKSB7XG4gICAgICAgICAgICBjaGlsZC5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICAgICAgaWYgKHBhcmVudC5sZWZ0ID09PSBub2RlKSB7XG4gICAgICAgICAgICAgICAgcGFyZW50LmxlZnQgPSBjaGlsZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHBhcmVudC5yaWdodCA9PT0gbm9kZSkge1xuICAgICAgICAgICAgICAgIHBhcmVudC5yaWdodCA9IGNoaWxkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5yb290ID0gY2hpbGQ7XG4gICAgICAgICAgICBpZiAodGhpcy5yb290KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yb290LnBhcmVudCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2VhcmNoQnlSYWRpdXMoY2VudGVyLCByYWRpdXMsIGluY2x1c2l2ZSA9IHRydWUsIHNvcnQgPSAnYXNjJywgaGlnaFByZWNpc2lvbiA9IGZhbHNlKSB7XG4gICAgICAgIGNvbnN0IGRpc3RhbmNlRm4gPSBoaWdoUHJlY2lzaW9uID8gQktEVHJlZS52aW5jZW50eURpc3RhbmNlIDogQktEVHJlZS5oYXZlcnNpbmVEaXN0YW5jZTtcbiAgICAgICAgY29uc3Qgc3RhY2sgPSBbeyBub2RlOiB0aGlzLnJvb3QsIGRlcHRoOiAwIH1dO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICAgICAgd2hpbGUgKHN0YWNrLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHsgbm9kZSwgZGVwdGggfSA9IHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgaWYgKG5vZGUgPT0gbnVsbClcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGNvbnN0IGRpc3QgPSBkaXN0YW5jZUZuKGNlbnRlciwgbm9kZS5wb2ludCk7XG4gICAgICAgICAgICBpZiAoaW5jbHVzaXZlID8gZGlzdCA8PSByYWRpdXMgOiBkaXN0ID4gcmFkaXVzKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goeyBwb2ludDogbm9kZS5wb2ludCwgZG9jSURzOiBBcnJheS5mcm9tKG5vZGUuZG9jSURzKSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChub2RlLmxlZnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHN0YWNrLnB1c2goeyBub2RlOiBub2RlLmxlZnQsIGRlcHRoOiBkZXB0aCArIDEgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobm9kZS5yaWdodCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgc3RhY2sucHVzaCh7IG5vZGU6IG5vZGUucmlnaHQsIGRlcHRoOiBkZXB0aCArIDEgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNvcnQpIHtcbiAgICAgICAgICAgIHJlc3VsdC5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGlzdEEgPSBkaXN0YW5jZUZuKGNlbnRlciwgYS5wb2ludCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZGlzdEIgPSBkaXN0YW5jZUZuKGNlbnRlciwgYi5wb2ludCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNvcnQudG9Mb3dlckNhc2UoKSA9PT0gJ2FzYycgPyBkaXN0QSAtIGRpc3RCIDogZGlzdEIgLSBkaXN0QTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIHNlYXJjaEJ5UG9seWdvbihwb2x5Z29uLCBpbmNsdXNpdmUgPSB0cnVlLCBzb3J0ID0gbnVsbCwgaGlnaFByZWNpc2lvbiA9IGZhbHNlKSB7XG4gICAgICAgIGNvbnN0IHN0YWNrID0gW3sgbm9kZTogdGhpcy5yb290LCBkZXB0aDogMCB9XTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgICAgIHdoaWxlIChzdGFjay5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCB7IG5vZGUsIGRlcHRoIH0gPSBzdGFjay5wb3AoKTtcbiAgICAgICAgICAgIGlmIChub2RlID09IG51bGwpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBpZiAobm9kZS5sZWZ0ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBzdGFjay5wdXNoKHsgbm9kZTogbm9kZS5sZWZ0LCBkZXB0aDogZGVwdGggKyAxIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5vZGUucmlnaHQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHN0YWNrLnB1c2goeyBub2RlOiBub2RlLnJpZ2h0LCBkZXB0aDogZGVwdGggKyAxIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaXNJbnNpZGVQb2x5Z29uID0gQktEVHJlZS5pc1BvaW50SW5Qb2x5Z29uKHBvbHlnb24sIG5vZGUucG9pbnQpO1xuICAgICAgICAgICAgaWYgKChpc0luc2lkZVBvbHlnb24gJiYgaW5jbHVzaXZlKSB8fCAoIWlzSW5zaWRlUG9seWdvbiAmJiAhaW5jbHVzaXZlKSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHsgcG9pbnQ6IG5vZGUucG9pbnQsIGRvY0lEczogQXJyYXkuZnJvbShub2RlLmRvY0lEcykgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2VudHJvaWQgPSBCS0RUcmVlLmNhbGN1bGF0ZVBvbHlnb25DZW50cm9pZChwb2x5Z29uKTtcbiAgICAgICAgaWYgKHNvcnQpIHtcbiAgICAgICAgICAgIGNvbnN0IGRpc3RhbmNlRm4gPSBoaWdoUHJlY2lzaW9uID8gQktEVHJlZS52aW5jZW50eURpc3RhbmNlIDogQktEVHJlZS5oYXZlcnNpbmVEaXN0YW5jZTtcbiAgICAgICAgICAgIHJlc3VsdC5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGlzdEEgPSBkaXN0YW5jZUZuKGNlbnRyb2lkLCBhLnBvaW50KTtcbiAgICAgICAgICAgICAgICBjb25zdCBkaXN0QiA9IGRpc3RhbmNlRm4oY2VudHJvaWQsIGIucG9pbnQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBzb3J0LnRvTG93ZXJDYXNlKCkgPT09ICdhc2MnID8gZGlzdEEgLSBkaXN0QiA6IGRpc3RCIC0gZGlzdEE7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICB0b0pTT04oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByb290OiB0aGlzLnJvb3QgPyB0aGlzLnJvb3QudG9KU09OKCkgOiBudWxsXG4gICAgICAgIH07XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tSlNPTihqc29uKSB7XG4gICAgICAgIGNvbnN0IHRyZWUgPSBuZXcgQktEVHJlZSgpO1xuICAgICAgICBpZiAoanNvbi5yb290KSB7XG4gICAgICAgICAgICB0cmVlLnJvb3QgPSBCS0ROb2RlLmZyb21KU09OKGpzb24ucm9vdCk7XG4gICAgICAgICAgICB0cmVlLmJ1aWxkTm9kZU1hcCh0cmVlLnJvb3QpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cmVlO1xuICAgIH1cbiAgICBidWlsZE5vZGVNYXAobm9kZSkge1xuICAgICAgICBpZiAobm9kZSA9PSBudWxsKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBwb2ludEtleSA9IHRoaXMuZ2V0UG9pbnRLZXkobm9kZS5wb2ludCk7XG4gICAgICAgIHRoaXMubm9kZU1hcC5zZXQocG9pbnRLZXksIG5vZGUpO1xuICAgICAgICBpZiAobm9kZS5sZWZ0KSB7XG4gICAgICAgICAgICB0aGlzLmJ1aWxkTm9kZU1hcChub2RlLmxlZnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlLnJpZ2h0KSB7XG4gICAgICAgICAgICB0aGlzLmJ1aWxkTm9kZU1hcChub2RlLnJpZ2h0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgY2FsY3VsYXRlUG9seWdvbkNlbnRyb2lkKHBvbHlnb24pIHtcbiAgICAgICAgbGV0IHRvdGFsQXJlYSA9IDA7XG4gICAgICAgIGxldCBjZW50cm9pZFggPSAwO1xuICAgICAgICBsZXQgY2VudHJvaWRZID0gMDtcbiAgICAgICAgY29uc3QgcG9seWdvbkxlbmd0aCA9IHBvbHlnb24ubGVuZ3RoO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgaiA9IHBvbHlnb25MZW5ndGggLSAxOyBpIDwgcG9seWdvbkxlbmd0aDsgaiA9IGkrKykge1xuICAgICAgICAgICAgY29uc3QgeGkgPSBwb2x5Z29uW2ldLmxvbjtcbiAgICAgICAgICAgIGNvbnN0IHlpID0gcG9seWdvbltpXS5sYXQ7XG4gICAgICAgICAgICBjb25zdCB4aiA9IHBvbHlnb25bal0ubG9uO1xuICAgICAgICAgICAgY29uc3QgeWogPSBwb2x5Z29uW2pdLmxhdDtcbiAgICAgICAgICAgIGNvbnN0IGFyZWFTZWdtZW50ID0geGkgKiB5aiAtIHhqICogeWk7XG4gICAgICAgICAgICB0b3RhbEFyZWEgKz0gYXJlYVNlZ21lbnQ7XG4gICAgICAgICAgICBjZW50cm9pZFggKz0gKHhpICsgeGopICogYXJlYVNlZ21lbnQ7XG4gICAgICAgICAgICBjZW50cm9pZFkgKz0gKHlpICsgeWopICogYXJlYVNlZ21lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgdG90YWxBcmVhIC89IDI7XG4gICAgICAgIGNvbnN0IGNlbnRyb2lkQ29vcmRpbmF0ZSA9IDYgKiB0b3RhbEFyZWE7XG4gICAgICAgIGNlbnRyb2lkWCAvPSBjZW50cm9pZENvb3JkaW5hdGU7XG4gICAgICAgIGNlbnRyb2lkWSAvPSBjZW50cm9pZENvb3JkaW5hdGU7XG4gICAgICAgIHJldHVybiB7IGxvbjogY2VudHJvaWRYLCBsYXQ6IGNlbnRyb2lkWSB9O1xuICAgIH1cbiAgICBzdGF0aWMgaXNQb2ludEluUG9seWdvbihwb2x5Z29uLCBwb2ludCkge1xuICAgICAgICBsZXQgaXNJbnNpZGUgPSBmYWxzZTtcbiAgICAgICAgY29uc3QgeCA9IHBvaW50LmxvbjtcbiAgICAgICAgY29uc3QgeSA9IHBvaW50LmxhdDtcbiAgICAgICAgY29uc3QgcG9seWdvbkxlbmd0aCA9IHBvbHlnb24ubGVuZ3RoO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgaiA9IHBvbHlnb25MZW5ndGggLSAxOyBpIDwgcG9seWdvbkxlbmd0aDsgaiA9IGkrKykge1xuICAgICAgICAgICAgY29uc3QgeGkgPSBwb2x5Z29uW2ldLmxvbjtcbiAgICAgICAgICAgIGNvbnN0IHlpID0gcG9seWdvbltpXS5sYXQ7XG4gICAgICAgICAgICBjb25zdCB4aiA9IHBvbHlnb25bal0ubG9uO1xuICAgICAgICAgICAgY29uc3QgeWogPSBwb2x5Z29uW2pdLmxhdDtcbiAgICAgICAgICAgIGNvbnN0IGludGVyc2VjdCA9IHlpID4geSAhPT0geWogPiB5ICYmIHggPCAoKHhqIC0geGkpICogKHkgLSB5aSkpIC8gKHlqIC0geWkpICsgeGk7XG4gICAgICAgICAgICBpZiAoaW50ZXJzZWN0KVxuICAgICAgICAgICAgICAgIGlzSW5zaWRlID0gIWlzSW5zaWRlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpc0luc2lkZTtcbiAgICB9XG4gICAgc3RhdGljIGhhdmVyc2luZURpc3RhbmNlKGNvb3JkMSwgY29vcmQyKSB7XG4gICAgICAgIGNvbnN0IFAgPSBNYXRoLlBJIC8gMTgwO1xuICAgICAgICBjb25zdCBsYXQxID0gY29vcmQxLmxhdCAqIFA7XG4gICAgICAgIGNvbnN0IGxhdDIgPSBjb29yZDIubGF0ICogUDtcbiAgICAgICAgY29uc3QgZGVsdGFMYXQgPSAoY29vcmQyLmxhdCAtIGNvb3JkMS5sYXQpICogUDtcbiAgICAgICAgY29uc3QgZGVsdGFMb24gPSAoY29vcmQyLmxvbiAtIGNvb3JkMS5sb24pICogUDtcbiAgICAgICAgY29uc3QgYSA9IE1hdGguc2luKGRlbHRhTGF0IC8gMikgKiBNYXRoLnNpbihkZWx0YUxhdCAvIDIpICtcbiAgICAgICAgICAgIE1hdGguY29zKGxhdDEpICogTWF0aC5jb3MobGF0MikgKiBNYXRoLnNpbihkZWx0YUxvbiAvIDIpICogTWF0aC5zaW4oZGVsdGFMb24gLyAyKTtcbiAgICAgICAgY29uc3QgYyA9IDIgKiBNYXRoLmF0YW4yKE1hdGguc3FydChhKSwgTWF0aC5zcXJ0KDEgLSBhKSk7XG4gICAgICAgIHJldHVybiBFQVJUSF9SQURJVVMgKiBjO1xuICAgIH1cbiAgICBzdGF0aWMgdmluY2VudHlEaXN0YW5jZShjb29yZDEsIGNvb3JkMikge1xuICAgICAgICBjb25zdCBhID0gNjM3ODEzNztcbiAgICAgICAgY29uc3QgZiA9IDEgLyAyOTguMjU3MjIzNTYzO1xuICAgICAgICBjb25zdCBiID0gKDEgLSBmKSAqIGE7XG4gICAgICAgIGNvbnN0IFAgPSBNYXRoLlBJIC8gMTgwO1xuICAgICAgICBjb25zdCBsYXQxID0gY29vcmQxLmxhdCAqIFA7XG4gICAgICAgIGNvbnN0IGxhdDIgPSBjb29yZDIubGF0ICogUDtcbiAgICAgICAgY29uc3QgZGVsdGFMb24gPSAoY29vcmQyLmxvbiAtIGNvb3JkMS5sb24pICogUDtcbiAgICAgICAgY29uc3QgVTEgPSBNYXRoLmF0YW4oKDEgLSBmKSAqIE1hdGgudGFuKGxhdDEpKTtcbiAgICAgICAgY29uc3QgVTIgPSBNYXRoLmF0YW4oKDEgLSBmKSAqIE1hdGgudGFuKGxhdDIpKTtcbiAgICAgICAgY29uc3Qgc2luVTEgPSBNYXRoLnNpbihVMSk7XG4gICAgICAgIGNvbnN0IGNvc1UxID0gTWF0aC5jb3MoVTEpO1xuICAgICAgICBjb25zdCBzaW5VMiA9IE1hdGguc2luKFUyKTtcbiAgICAgICAgY29uc3QgY29zVTIgPSBNYXRoLmNvcyhVMik7XG4gICAgICAgIGxldCBsYW1iZGEgPSBkZWx0YUxvbjtcbiAgICAgICAgbGV0IHByZXZMYW1iZGE7XG4gICAgICAgIGxldCBpdGVyYXRpb25MaW1pdCA9IDEwMDA7XG4gICAgICAgIGxldCBzaW5TaWdtYTtcbiAgICAgICAgbGV0IGNvc1NpZ21hO1xuICAgICAgICBsZXQgc2lnbWE7XG4gICAgICAgIGxldCBzaW5BbHBoYTtcbiAgICAgICAgbGV0IGNvczJBbHBoYTtcbiAgICAgICAgbGV0IGNvczJTaWdtYU07XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIGNvbnN0IHNpbkxhbWJkYSA9IE1hdGguc2luKGxhbWJkYSk7XG4gICAgICAgICAgICBjb25zdCBjb3NMYW1iZGEgPSBNYXRoLmNvcyhsYW1iZGEpO1xuICAgICAgICAgICAgc2luU2lnbWEgPSBNYXRoLnNxcnQoY29zVTIgKiBzaW5MYW1iZGEgKiAoY29zVTIgKiBzaW5MYW1iZGEpICtcbiAgICAgICAgICAgICAgICAoY29zVTEgKiBzaW5VMiAtIHNpblUxICogY29zVTIgKiBjb3NMYW1iZGEpICogKGNvc1UxICogc2luVTIgLSBzaW5VMSAqIGNvc1UyICogY29zTGFtYmRhKSk7XG4gICAgICAgICAgICBpZiAoc2luU2lnbWEgPT09IDApXG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7IC8vIGNvLWluY2lkZW50IHBvaW50c1xuICAgICAgICAgICAgY29zU2lnbWEgPSBzaW5VMSAqIHNpblUyICsgY29zVTEgKiBjb3NVMiAqIGNvc0xhbWJkYTtcbiAgICAgICAgICAgIHNpZ21hID0gTWF0aC5hdGFuMihzaW5TaWdtYSwgY29zU2lnbWEpO1xuICAgICAgICAgICAgc2luQWxwaGEgPSAoY29zVTEgKiBjb3NVMiAqIHNpbkxhbWJkYSkgLyBzaW5TaWdtYTtcbiAgICAgICAgICAgIGNvczJBbHBoYSA9IDEgLSBzaW5BbHBoYSAqIHNpbkFscGhhO1xuICAgICAgICAgICAgY29zMlNpZ21hTSA9IGNvc1NpZ21hIC0gKDIgKiBzaW5VMSAqIHNpblUyKSAvIGNvczJBbHBoYTtcbiAgICAgICAgICAgIGlmIChpc05hTihjb3MyU2lnbWFNKSlcbiAgICAgICAgICAgICAgICBjb3MyU2lnbWFNID0gMDtcbiAgICAgICAgICAgIGNvbnN0IEMgPSAoZiAvIDE2KSAqIGNvczJBbHBoYSAqICg0ICsgZiAqICg0IC0gMyAqIGNvczJBbHBoYSkpO1xuICAgICAgICAgICAgcHJldkxhbWJkYSA9IGxhbWJkYTtcbiAgICAgICAgICAgIGxhbWJkYSA9XG4gICAgICAgICAgICAgICAgZGVsdGFMb24gK1xuICAgICAgICAgICAgICAgICAgICAoMSAtIEMpICpcbiAgICAgICAgICAgICAgICAgICAgICAgIGYgKlxuICAgICAgICAgICAgICAgICAgICAgICAgc2luQWxwaGEgKlxuICAgICAgICAgICAgICAgICAgICAgICAgKHNpZ21hICsgQyAqIHNpblNpZ21hICogKGNvczJTaWdtYU0gKyBDICogY29zU2lnbWEgKiAoLTEgKyAyICogY29zMlNpZ21hTSAqIGNvczJTaWdtYU0pKSk7XG4gICAgICAgIH0gd2hpbGUgKE1hdGguYWJzKGxhbWJkYSAtIHByZXZMYW1iZGEpID4gMWUtMTIgJiYgLS1pdGVyYXRpb25MaW1pdCA+IDApO1xuICAgICAgICBpZiAoaXRlcmF0aW9uTGltaXQgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBOYU47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdVNxdWFyZWQgPSAoY29zMkFscGhhICogKGEgKiBhIC0gYiAqIGIpKSAvIChiICogYik7XG4gICAgICAgIGNvbnN0IEEgPSAxICsgKHVTcXVhcmVkIC8gMTYzODQpICogKDQwOTYgKyB1U3F1YXJlZCAqICgtNzY4ICsgdVNxdWFyZWQgKiAoMzIwIC0gMTc1ICogdVNxdWFyZWQpKSk7XG4gICAgICAgIGNvbnN0IEIgPSAodVNxdWFyZWQgLyAxMDI0KSAqICgyNTYgKyB1U3F1YXJlZCAqICgtMTI4ICsgdVNxdWFyZWQgKiAoNzQgLSA0NyAqIHVTcXVhcmVkKSkpO1xuICAgICAgICBjb25zdCBkZWx0YVNpZ21hID0gQiAqXG4gICAgICAgICAgICBzaW5TaWdtYSAqXG4gICAgICAgICAgICAoY29zMlNpZ21hTSArXG4gICAgICAgICAgICAgICAgKEIgLyA0KSAqXG4gICAgICAgICAgICAgICAgICAgIChjb3NTaWdtYSAqICgtMSArIDIgKiBjb3MyU2lnbWFNICogY29zMlNpZ21hTSkgLVxuICAgICAgICAgICAgICAgICAgICAgICAgKEIgLyA2KSAqIGNvczJTaWdtYU0gKiAoLTMgKyA0ICogc2luU2lnbWEgKiBzaW5TaWdtYSkgKiAoLTMgKyA0ICogY29zMlNpZ21hTSAqIGNvczJTaWdtYU0pKSk7XG4gICAgICAgIGNvbnN0IHMgPSBiICogQSAqIChzaWdtYSAtIGRlbHRhU2lnbWEpO1xuICAgICAgICByZXR1cm4gcztcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ia2QuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@orama/orama/dist/browser/trees/bkd.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@orama/orama/dist/browser/trees/bool.js":
/*!**************************************************************!*\
  !*** ./node_modules/@orama/orama/dist/browser/trees/bool.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BoolNode: () => (/* binding */ BoolNode)\n/* harmony export */ });\nclass BoolNode {\n    true;\n    false;\n    constructor() {\n        this.true = new Set();\n        this.false = new Set();\n    }\n    insert(value, bool) {\n        if (bool) {\n            this.true.add(value);\n        }\n        else {\n            this.false.add(value);\n        }\n    }\n    delete(value, bool) {\n        if (bool) {\n            this.true.delete(value);\n        }\n        else {\n            this.false.delete(value);\n        }\n    }\n    getSize() {\n        return this.true.size + this.false.size;\n    }\n    toJSON() {\n        return {\n            true: Array.from(this.true),\n            false: Array.from(this.false)\n        };\n    }\n    static fromJSON(json) {\n        const node = new BoolNode();\n        node.true = new Set(json.true);\n        node.false = new Set(json.false);\n        return node;\n    }\n}\n//# sourceMappingURL=bool.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9icm93c2VyL3RyZWVzL2Jvb2wuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvYXJjaGllbWNrZW56aWUvRGVza3RvcC9ndC1saWJyYXJpZXMvZG9jcy9ub2RlX21vZHVsZXMvQG9yYW1hL29yYW1hL2Rpc3QvYnJvd3Nlci90cmVlcy9ib29sLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBCb29sTm9kZSB7XG4gICAgdHJ1ZTtcbiAgICBmYWxzZTtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy50cnVlID0gbmV3IFNldCgpO1xuICAgICAgICB0aGlzLmZhbHNlID0gbmV3IFNldCgpO1xuICAgIH1cbiAgICBpbnNlcnQodmFsdWUsIGJvb2wpIHtcbiAgICAgICAgaWYgKGJvb2wpIHtcbiAgICAgICAgICAgIHRoaXMudHJ1ZS5hZGQodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5mYWxzZS5hZGQodmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGRlbGV0ZSh2YWx1ZSwgYm9vbCkge1xuICAgICAgICBpZiAoYm9vbCkge1xuICAgICAgICAgICAgdGhpcy50cnVlLmRlbGV0ZSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmZhbHNlLmRlbGV0ZSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0U2l6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJ1ZS5zaXplICsgdGhpcy5mYWxzZS5zaXplO1xuICAgIH1cbiAgICB0b0pTT04oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0cnVlOiBBcnJheS5mcm9tKHRoaXMudHJ1ZSksXG4gICAgICAgICAgICBmYWxzZTogQXJyYXkuZnJvbSh0aGlzLmZhbHNlKVxuICAgICAgICB9O1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbUpTT04oanNvbikge1xuICAgICAgICBjb25zdCBub2RlID0gbmV3IEJvb2xOb2RlKCk7XG4gICAgICAgIG5vZGUudHJ1ZSA9IG5ldyBTZXQoanNvbi50cnVlKTtcbiAgICAgICAgbm9kZS5mYWxzZSA9IG5ldyBTZXQoanNvbi5mYWxzZSk7XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJvb2wuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@orama/orama/dist/browser/trees/bool.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@orama/orama/dist/browser/trees/flat.js":
/*!**************************************************************!*\
  !*** ./node_modules/@orama/orama/dist/browser/trees/flat.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FlatTree: () => (/* binding */ FlatTree)\n/* harmony export */ });\nclass FlatTree {\n    numberToDocumentId;\n    constructor() {\n        this.numberToDocumentId = new Map();\n    }\n    insert(key, value) {\n        if (this.numberToDocumentId.has(key)) {\n            this.numberToDocumentId.get(key).add(value);\n        }\n        else {\n            this.numberToDocumentId.set(key, new Set([value]));\n        }\n    }\n    find(key) {\n        const idSet = this.numberToDocumentId.get(key);\n        return idSet ? Array.from(idSet) : null;\n    }\n    remove(key) {\n        this.numberToDocumentId.delete(key);\n    }\n    removeDocument(id, key) {\n        const idSet = this.numberToDocumentId.get(key);\n        if (idSet) {\n            idSet.delete(id);\n            if (idSet.size === 0) {\n                this.numberToDocumentId.delete(key);\n            }\n        }\n    }\n    contains(key) {\n        return this.numberToDocumentId.has(key);\n    }\n    getSize() {\n        let size = 0;\n        for (const idSet of this.numberToDocumentId.values()) {\n            size += idSet.size;\n        }\n        return size;\n    }\n    filter(operation) {\n        const operationKeys = Object.keys(operation);\n        if (operationKeys.length !== 1) {\n            throw new Error('Invalid operation');\n        }\n        const operationType = operationKeys[0];\n        switch (operationType) {\n            case 'eq': {\n                const value = operation[operationType];\n                const idSet = this.numberToDocumentId.get(value);\n                return idSet ? Array.from(idSet) : [];\n            }\n            case 'in': {\n                const values = operation[operationType];\n                const resultSet = new Set();\n                for (const value of values) {\n                    const idSet = this.numberToDocumentId.get(value);\n                    if (idSet) {\n                        for (const id of idSet) {\n                            resultSet.add(id);\n                        }\n                    }\n                }\n                return Array.from(resultSet);\n            }\n            case 'nin': {\n                const excludeValues = new Set(operation[operationType]);\n                const resultSet = new Set();\n                for (const [key, idSet] of this.numberToDocumentId.entries()) {\n                    if (!excludeValues.has(key)) {\n                        for (const id of idSet) {\n                            resultSet.add(id);\n                        }\n                    }\n                }\n                return Array.from(resultSet);\n            }\n            default:\n                throw new Error('Invalid operation');\n        }\n    }\n    filterArr(operation) {\n        const operationKeys = Object.keys(operation);\n        if (operationKeys.length !== 1) {\n            throw new Error('Invalid operation');\n        }\n        const operationType = operationKeys[0];\n        switch (operationType) {\n            case 'containsAll': {\n                const values = operation[operationType];\n                const idSets = values.map((value) => this.numberToDocumentId.get(value) ?? new Set());\n                if (idSets.length === 0)\n                    return [];\n                const intersection = idSets.reduce((prev, curr) => {\n                    return new Set([...prev].filter((id) => curr.has(id)));\n                });\n                return Array.from(intersection);\n            }\n            case 'containsAny': {\n                const values = operation[operationType];\n                const idSets = values.map((value) => this.numberToDocumentId.get(value) ?? new Set());\n                if (idSets.length === 0)\n                    return [];\n                const union = idSets.reduce((prev, curr) => {\n                    return new Set([...prev, ...curr]);\n                });\n                return Array.from(union);\n            }\n            default:\n                throw new Error('Invalid operation');\n        }\n    }\n    static fromJSON(json) {\n        if (!json.numberToDocumentId) {\n            throw new Error('Invalid Flat Tree JSON');\n        }\n        const tree = new FlatTree();\n        for (const [key, ids] of json.numberToDocumentId) {\n            tree.numberToDocumentId.set(key, new Set(ids));\n        }\n        return tree;\n    }\n    toJSON() {\n        return {\n            numberToDocumentId: Array.from(this.numberToDocumentId.entries()).map(([key, idSet]) => [key, Array.from(idSet)])\n        };\n    }\n}\n//# sourceMappingURL=flat.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9icm93c2VyL3RyZWVzL2ZsYXQuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvYXJjaGllbWNrZW56aWUvRGVza3RvcC9ndC1saWJyYXJpZXMvZG9jcy9ub2RlX21vZHVsZXMvQG9yYW1hL29yYW1hL2Rpc3QvYnJvd3Nlci90cmVlcy9mbGF0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBGbGF0VHJlZSB7XG4gICAgbnVtYmVyVG9Eb2N1bWVudElkO1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLm51bWJlclRvRG9jdW1lbnRJZCA9IG5ldyBNYXAoKTtcbiAgICB9XG4gICAgaW5zZXJ0KGtleSwgdmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMubnVtYmVyVG9Eb2N1bWVudElkLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICB0aGlzLm51bWJlclRvRG9jdW1lbnRJZC5nZXQoa2V5KS5hZGQodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5udW1iZXJUb0RvY3VtZW50SWQuc2V0KGtleSwgbmV3IFNldChbdmFsdWVdKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZmluZChrZXkpIHtcbiAgICAgICAgY29uc3QgaWRTZXQgPSB0aGlzLm51bWJlclRvRG9jdW1lbnRJZC5nZXQoa2V5KTtcbiAgICAgICAgcmV0dXJuIGlkU2V0ID8gQXJyYXkuZnJvbShpZFNldCkgOiBudWxsO1xuICAgIH1cbiAgICByZW1vdmUoa2V5KSB7XG4gICAgICAgIHRoaXMubnVtYmVyVG9Eb2N1bWVudElkLmRlbGV0ZShrZXkpO1xuICAgIH1cbiAgICByZW1vdmVEb2N1bWVudChpZCwga2V5KSB7XG4gICAgICAgIGNvbnN0IGlkU2V0ID0gdGhpcy5udW1iZXJUb0RvY3VtZW50SWQuZ2V0KGtleSk7XG4gICAgICAgIGlmIChpZFNldCkge1xuICAgICAgICAgICAgaWRTZXQuZGVsZXRlKGlkKTtcbiAgICAgICAgICAgIGlmIChpZFNldC5zaXplID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5udW1iZXJUb0RvY3VtZW50SWQuZGVsZXRlKGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29udGFpbnMoa2V5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLm51bWJlclRvRG9jdW1lbnRJZC5oYXMoa2V5KTtcbiAgICB9XG4gICAgZ2V0U2l6ZSgpIHtcbiAgICAgICAgbGV0IHNpemUgPSAwO1xuICAgICAgICBmb3IgKGNvbnN0IGlkU2V0IG9mIHRoaXMubnVtYmVyVG9Eb2N1bWVudElkLnZhbHVlcygpKSB7XG4gICAgICAgICAgICBzaXplICs9IGlkU2V0LnNpemU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNpemU7XG4gICAgfVxuICAgIGZpbHRlcihvcGVyYXRpb24pIHtcbiAgICAgICAgY29uc3Qgb3BlcmF0aW9uS2V5cyA9IE9iamVjdC5rZXlzKG9wZXJhdGlvbik7XG4gICAgICAgIGlmIChvcGVyYXRpb25LZXlzLmxlbmd0aCAhPT0gMSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIG9wZXJhdGlvbicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG9wZXJhdGlvblR5cGUgPSBvcGVyYXRpb25LZXlzWzBdO1xuICAgICAgICBzd2l0Y2ggKG9wZXJhdGlvblR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ2VxJzoge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gb3BlcmF0aW9uW29wZXJhdGlvblR5cGVdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlkU2V0ID0gdGhpcy5udW1iZXJUb0RvY3VtZW50SWQuZ2V0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaWRTZXQgPyBBcnJheS5mcm9tKGlkU2V0KSA6IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAnaW4nOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWVzID0gb3BlcmF0aW9uW29wZXJhdGlvblR5cGVdO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdFNldCA9IG5ldyBTZXQoKTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIHZhbHVlcykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpZFNldCA9IHRoaXMubnVtYmVyVG9Eb2N1bWVudElkLmdldCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpZFNldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBpZCBvZiBpZFNldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFNldC5hZGQoaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBBcnJheS5mcm9tKHJlc3VsdFNldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICduaW4nOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXhjbHVkZVZhbHVlcyA9IG5ldyBTZXQob3BlcmF0aW9uW29wZXJhdGlvblR5cGVdKTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHRTZXQgPSBuZXcgU2V0KCk7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBba2V5LCBpZFNldF0gb2YgdGhpcy5udW1iZXJUb0RvY3VtZW50SWQuZW50cmllcygpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZXhjbHVkZVZhbHVlcy5oYXMoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBpZCBvZiBpZFNldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFNldC5hZGQoaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBBcnJheS5mcm9tKHJlc3VsdFNldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBvcGVyYXRpb24nKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmaWx0ZXJBcnIob3BlcmF0aW9uKSB7XG4gICAgICAgIGNvbnN0IG9wZXJhdGlvbktleXMgPSBPYmplY3Qua2V5cyhvcGVyYXRpb24pO1xuICAgICAgICBpZiAob3BlcmF0aW9uS2V5cy5sZW5ndGggIT09IDEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBvcGVyYXRpb24nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvcGVyYXRpb25UeXBlID0gb3BlcmF0aW9uS2V5c1swXTtcbiAgICAgICAgc3dpdGNoIChvcGVyYXRpb25UeXBlKSB7XG4gICAgICAgICAgICBjYXNlICdjb250YWluc0FsbCc6IHtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZXMgPSBvcGVyYXRpb25bb3BlcmF0aW9uVHlwZV07XG4gICAgICAgICAgICAgICAgY29uc3QgaWRTZXRzID0gdmFsdWVzLm1hcCgodmFsdWUpID0+IHRoaXMubnVtYmVyVG9Eb2N1bWVudElkLmdldCh2YWx1ZSkgPz8gbmV3IFNldCgpKTtcbiAgICAgICAgICAgICAgICBpZiAoaWRTZXRzLmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGludGVyc2VjdGlvbiA9IGlkU2V0cy5yZWR1Y2UoKHByZXYsIGN1cnIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBTZXQoWy4uLnByZXZdLmZpbHRlcigoaWQpID0+IGN1cnIuaGFzKGlkKSkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBBcnJheS5mcm9tKGludGVyc2VjdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdjb250YWluc0FueSc6IHtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZXMgPSBvcGVyYXRpb25bb3BlcmF0aW9uVHlwZV07XG4gICAgICAgICAgICAgICAgY29uc3QgaWRTZXRzID0gdmFsdWVzLm1hcCgodmFsdWUpID0+IHRoaXMubnVtYmVyVG9Eb2N1bWVudElkLmdldCh2YWx1ZSkgPz8gbmV3IFNldCgpKTtcbiAgICAgICAgICAgICAgICBpZiAoaWRTZXRzLmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgICAgIGNvbnN0IHVuaW9uID0gaWRTZXRzLnJlZHVjZSgocHJldiwgY3VycikgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFNldChbLi4ucHJldiwgLi4uY3Vycl0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBBcnJheS5mcm9tKHVuaW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIG9wZXJhdGlvbicpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tSlNPTihqc29uKSB7XG4gICAgICAgIGlmICghanNvbi5udW1iZXJUb0RvY3VtZW50SWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBGbGF0IFRyZWUgSlNPTicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRyZWUgPSBuZXcgRmxhdFRyZWUoKTtcbiAgICAgICAgZm9yIChjb25zdCBba2V5LCBpZHNdIG9mIGpzb24ubnVtYmVyVG9Eb2N1bWVudElkKSB7XG4gICAgICAgICAgICB0cmVlLm51bWJlclRvRG9jdW1lbnRJZC5zZXQoa2V5LCBuZXcgU2V0KGlkcykpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cmVlO1xuICAgIH1cbiAgICB0b0pTT04oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBudW1iZXJUb0RvY3VtZW50SWQ6IEFycmF5LmZyb20odGhpcy5udW1iZXJUb0RvY3VtZW50SWQuZW50cmllcygpKS5tYXAoKFtrZXksIGlkU2V0XSkgPT4gW2tleSwgQXJyYXkuZnJvbShpZFNldCldKVxuICAgICAgICB9O1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZsYXQuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@orama/orama/dist/browser/trees/flat.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@orama/orama/dist/browser/trees/radix.js":
/*!***************************************************************!*\
  !*** ./node_modules/@orama/orama/dist/browser/trees/radix.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RadixNode: () => (/* binding */ RadixNode),\n/* harmony export */   RadixTree: () => (/* binding */ RadixTree)\n/* harmony export */ });\n/* harmony import */ var _components_levenshtein_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../components/levenshtein.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/components/levenshtein.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/utils.js\");\n/* eslint-disable @typescript-eslint/no-this-alias */\n\n\nclass RadixNode {\n    // Node key\n    k;\n    // Node subword\n    s;\n    // Node children\n    c = new Map();\n    // Node documents\n    d = new Set();\n    // Node end\n    e;\n    // Node word\n    w = '';\n    constructor(key, subWord, end) {\n        this.k = key;\n        this.s = subWord;\n        this.e = end;\n    }\n    updateParent(parent) {\n        this.w = parent.w + this.s;\n    }\n    addDocument(docID) {\n        this.d.add(docID);\n    }\n    removeDocument(docID) {\n        return this.d.delete(docID);\n    }\n    findAllWords(output, term, exact, tolerance) {\n        const stack = [this];\n        while (stack.length > 0) {\n            const node = stack.pop();\n            if (node.e) {\n                const { w, d: docIDs } = node;\n                if (exact && w !== term) {\n                    continue;\n                }\n                // check if _output[w] exists and then add the doc to it\n                // always check in own property to prevent access to inherited properties\n                // fix https://github.com/oramasearch/orama/issues/137\n                if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.getOwnProperty)(output, w) !== null) {\n                    if (tolerance) {\n                        const difference = Math.abs(term.length - w.length);\n                        if (difference <= tolerance && (0,_components_levenshtein_js__WEBPACK_IMPORTED_MODULE_0__.syncBoundedLevenshtein)(term, w, tolerance).isBounded) {\n                            output[w] = [];\n                        }\n                        else {\n                            continue;\n                        }\n                    }\n                    else {\n                        output[w] = [];\n                    }\n                }\n                // check if _output[w] exists and then add the doc to it\n                // always check in own property to prevent access to inherited properties\n                // fix https://github.com/oramasearch/orama/issues/137\n                if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.getOwnProperty)(output, w) != null && docIDs.size > 0) {\n                    const docs = output[w];\n                    for (const docID of docIDs) {\n                        if (!docs.includes(docID)) {\n                            docs.push(docID);\n                        }\n                    }\n                }\n            }\n            if (node.c.size > 0) {\n                stack.push(...node.c.values());\n            }\n        }\n        return output;\n    }\n    insert(word, docId) {\n        let node = this;\n        let i = 0;\n        const wordLength = word.length;\n        while (i < wordLength) {\n            const currentCharacter = word[i];\n            const childNode = node.c.get(currentCharacter);\n            if (childNode) {\n                const edgeLabel = childNode.s;\n                const edgeLabelLength = edgeLabel.length;\n                let j = 0;\n                // Find the common prefix length between edgeLabel and the remaining word\n                while (j < edgeLabelLength && i + j < wordLength && edgeLabel[j] === word[i + j]) {\n                    j++;\n                }\n                if (j === edgeLabelLength) {\n                    // Edge label fully matches; proceed to the child node\n                    node = childNode;\n                    i += j;\n                    if (i === wordLength) {\n                        // The word is a prefix of an existing word\n                        if (!childNode.e) {\n                            childNode.e = true;\n                        }\n                        childNode.addDocument(docId);\n                        return;\n                    }\n                    continue;\n                }\n                // Split the edgeLabel at the common prefix\n                const commonPrefix = edgeLabel.slice(0, j);\n                const newEdgeLabel = edgeLabel.slice(j);\n                const newWordLabel = word.slice(i + j);\n                // Create an intermediate node for the common prefix\n                const inbetweenNode = new RadixNode(commonPrefix[0], commonPrefix, false);\n                node.c.set(commonPrefix[0], inbetweenNode);\n                inbetweenNode.updateParent(node);\n                // Update the existing childNode\n                childNode.s = newEdgeLabel;\n                childNode.k = newEdgeLabel[0];\n                inbetweenNode.c.set(newEdgeLabel[0], childNode);\n                childNode.updateParent(inbetweenNode);\n                if (newWordLabel) {\n                    // Create a new node for the remaining part of the word\n                    const newNode = new RadixNode(newWordLabel[0], newWordLabel, true);\n                    newNode.addDocument(docId);\n                    inbetweenNode.c.set(newWordLabel[0], newNode);\n                    newNode.updateParent(inbetweenNode);\n                }\n                else {\n                    // The word ends at the inbetweenNode\n                    inbetweenNode.e = true;\n                    inbetweenNode.addDocument(docId);\n                }\n                return;\n            }\n            else {\n                // No matching child; create a new node\n                const newNode = new RadixNode(currentCharacter, word.slice(i), true);\n                newNode.addDocument(docId);\n                node.c.set(currentCharacter, newNode);\n                newNode.updateParent(node);\n                return;\n            }\n        }\n        // If we reach here, the word already exists in the tree\n        if (!node.e) {\n            node.e = true;\n        }\n        node.addDocument(docId);\n    }\n    _findLevenshtein(term, index, tolerance, originalTolerance, output) {\n        const stack = [{ node: this, index, tolerance }];\n        while (stack.length > 0) {\n            const { node, index, tolerance } = stack.pop();\n            if (node.w.startsWith(term)) {\n                node.findAllWords(output, term, false, 0);\n                continue;\n            }\n            if (tolerance < 0) {\n                continue;\n            }\n            if (node.e) {\n                const { w, d: docIDs } = node;\n                if (w) {\n                    if ((0,_components_levenshtein_js__WEBPACK_IMPORTED_MODULE_0__.syncBoundedLevenshtein)(term, w, originalTolerance).isBounded) {\n                        output[w] = [];\n                    }\n                    if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.getOwnProperty)(output, w) !== undefined && docIDs.size > 0) {\n                        const docs = new Set(output[w]);\n                        for (const docID of docIDs) {\n                            docs.add(docID);\n                        }\n                        output[w] = Array.from(docs);\n                    }\n                }\n            }\n            if (index >= term.length) {\n                continue;\n            }\n            const currentChar = term[index];\n            // 1. If node has child matching term[index], push { node: childNode, index +1, tolerance }\n            if (node.c.has(currentChar)) {\n                const childNode = node.c.get(currentChar);\n                stack.push({ node: childNode, index: index + 1, tolerance });\n            }\n            // 2. Push { node, index +1, tolerance -1 } (Delete operation)\n            stack.push({ node: node, index: index + 1, tolerance: tolerance - 1 });\n            // 3. For each child:\n            for (const [character, childNode] of node.c) {\n                // a) Insert operation\n                stack.push({ node: childNode, index: index, tolerance: tolerance - 1 });\n                // b) Substitute operation\n                if (character !== currentChar) {\n                    stack.push({ node: childNode, index: index + 1, tolerance: tolerance - 1 });\n                }\n            }\n        }\n    }\n    find(params) {\n        const { term, exact, tolerance } = params;\n        if (tolerance && !exact) {\n            const output = {};\n            this._findLevenshtein(term, 0, tolerance, tolerance, output);\n            return output;\n        }\n        else {\n            let node = this;\n            let i = 0;\n            const termLength = term.length;\n            while (i < termLength) {\n                const character = term[i];\n                const childNode = node.c.get(character);\n                if (childNode) {\n                    const edgeLabel = childNode.s;\n                    const edgeLabelLength = edgeLabel.length;\n                    let j = 0;\n                    // Compare edge label with the term starting from position i\n                    while (j < edgeLabelLength && i + j < termLength && edgeLabel[j] === term[i + j]) {\n                        j++;\n                    }\n                    if (j === edgeLabelLength) {\n                        // Full match of edge label; proceed to the child node\n                        node = childNode;\n                        i += j;\n                    }\n                    else if (i + j === termLength) {\n                        // The term ends in the middle of the edge label\n                        if (exact) {\n                            // Exact match required but term doesn't end at a node\n                            return {};\n                        }\n                        else {\n                            // Partial match; collect words starting from this node\n                            const output = {};\n                            childNode.findAllWords(output, term, exact, tolerance);\n                            return output;\n                        }\n                    }\n                    else {\n                        // Mismatch found\n                        return {};\n                    }\n                }\n                else {\n                    // No matching child node\n                    return {};\n                }\n            }\n            // Term fully matched; collect words starting from this node\n            const output = {};\n            node.findAllWords(output, term, exact, tolerance);\n            return output;\n        }\n    }\n    contains(term) {\n        let node = this;\n        let i = 0;\n        const termLength = term.length;\n        while (i < termLength) {\n            const character = term[i];\n            const childNode = node.c.get(character);\n            if (childNode) {\n                const edgeLabel = childNode.s;\n                const edgeLabelLength = edgeLabel.length;\n                let j = 0;\n                while (j < edgeLabelLength && i + j < termLength && edgeLabel[j] === term[i + j]) {\n                    j++;\n                }\n                if (j < edgeLabelLength) {\n                    return false;\n                }\n                i += edgeLabelLength;\n                node = childNode;\n            }\n            else {\n                return false;\n            }\n        }\n        return true;\n    }\n    removeWord(term) {\n        if (!term) {\n            return false;\n        }\n        let node = this;\n        const termLength = term.length;\n        const stack = [];\n        for (let i = 0; i < termLength; i++) {\n            const character = term[i];\n            if (node.c.has(character)) {\n                const childNode = node.c.get(character);\n                stack.push({ parent: node, character });\n                i += childNode.s.length - 1;\n                node = childNode;\n            }\n            else {\n                return false;\n            }\n        }\n        // Remove documents from the node\n        node.d.clear();\n        node.e = false;\n        // Clean up any nodes that no longer lead to a word\n        while (stack.length > 0 && node.c.size === 0 && !node.e && node.d.size === 0) {\n            const { parent, character } = stack.pop();\n            parent.c.delete(character);\n            node = parent;\n        }\n        return true;\n    }\n    removeDocumentByWord(term, docID, exact = true) {\n        if (!term) {\n            return true;\n        }\n        let node = this;\n        const termLength = term.length;\n        for (let i = 0; i < termLength; i++) {\n            const character = term[i];\n            if (node.c.has(character)) {\n                const childNode = node.c.get(character);\n                i += childNode.s.length - 1;\n                node = childNode;\n                if (exact && node.w !== term) {\n                    // Do nothing if the exact condition is not met.\n                }\n                else {\n                    node.removeDocument(docID);\n                }\n            }\n            else {\n                return false;\n            }\n        }\n        return true;\n    }\n    static getCommonPrefix(a, b) {\n        const len = Math.min(a.length, b.length);\n        let i = 0;\n        while (i < len && a.charCodeAt(i) === b.charCodeAt(i)) {\n            i++;\n        }\n        return a.slice(0, i);\n    }\n    toJSON() {\n        return {\n            w: this.w,\n            s: this.s,\n            e: this.e,\n            k: this.k,\n            d: Array.from(this.d),\n            c: Array.from(this.c?.entries())?.map(([key, node]) => [key, node.toJSON()])\n        };\n    }\n    static fromJSON(json) {\n        const node = new RadixNode(json.k, json.s, json.e);\n        node.w = json.w;\n        node.d = new Set(json.d);\n        node.c = new Map(json?.c?.map(([key, nodeJson]) => [key, RadixNode.fromJSON(nodeJson)]));\n        return node;\n    }\n}\nclass RadixTree extends RadixNode {\n    constructor() {\n        super('', '', false);\n    }\n    static fromJSON(json) {\n        const tree = new RadixTree();\n        tree.w = json.w;\n        tree.s = json.s;\n        tree.e = json.e;\n        tree.k = json.k;\n        tree.d = new Set(json.d);\n        tree.c = new Map(json.c?.map(([key, nodeJson]) => [key, RadixNode.fromJSON(nodeJson)]));\n        return tree;\n    }\n    toJSON() {\n        return super.toJSON();\n    }\n}\n//# sourceMappingURL=radix.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9icm93c2VyL3RyZWVzL3JhZGl4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQUNzRTtBQUN6QjtBQUN0QztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGVBQWU7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHlEQUFjO0FBQ2xDO0FBQ0E7QUFDQSx1REFBdUQsa0ZBQXNCO0FBQzdFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHlEQUFjO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRDtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLDhCQUE4QjtBQUN2RDtBQUNBLG9CQUFvQix5QkFBeUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixlQUFlO0FBQ3ZDO0FBQ0Esd0JBQXdCLGtGQUFzQjtBQUM5QztBQUNBO0FBQ0Esd0JBQXdCLHlEQUFjO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlFQUFpRTtBQUNqRTtBQUNBO0FBQ0EsNkJBQTZCLDhDQUE4QztBQUMzRTtBQUNBLHlCQUF5QiwrQkFBK0I7QUFDeEQseUJBQXlCLHdEQUF3RDtBQUNqRjtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIseURBQXlEO0FBQ3RGO0FBQ0E7QUFDQSxpQ0FBaUMsNkRBQTZEO0FBQzlGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IseUJBQXlCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRDtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUM7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnQkFBZ0I7QUFDeEM7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLHlCQUF5QjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isb0JBQW9CO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0JBQWdCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL2FyY2hpZW1ja2VuemllL0Rlc2t0b3AvZ3QtbGlicmFyaWVzL2RvY3Mvbm9kZV9tb2R1bGVzL0BvcmFtYS9vcmFtYS9kaXN0L2Jyb3dzZXIvdHJlZXMvcmFkaXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXRoaXMtYWxpYXMgKi9cbmltcG9ydCB7IHN5bmNCb3VuZGVkTGV2ZW5zaHRlaW4gfSBmcm9tICcuLi9jb21wb25lbnRzL2xldmVuc2h0ZWluLmpzJztcbmltcG9ydCB7IGdldE93blByb3BlcnR5IH0gZnJvbSAnLi4vdXRpbHMuanMnO1xuZXhwb3J0IGNsYXNzIFJhZGl4Tm9kZSB7XG4gICAgLy8gTm9kZSBrZXlcbiAgICBrO1xuICAgIC8vIE5vZGUgc3Vid29yZFxuICAgIHM7XG4gICAgLy8gTm9kZSBjaGlsZHJlblxuICAgIGMgPSBuZXcgTWFwKCk7XG4gICAgLy8gTm9kZSBkb2N1bWVudHNcbiAgICBkID0gbmV3IFNldCgpO1xuICAgIC8vIE5vZGUgZW5kXG4gICAgZTtcbiAgICAvLyBOb2RlIHdvcmRcbiAgICB3ID0gJyc7XG4gICAgY29uc3RydWN0b3Ioa2V5LCBzdWJXb3JkLCBlbmQpIHtcbiAgICAgICAgdGhpcy5rID0ga2V5O1xuICAgICAgICB0aGlzLnMgPSBzdWJXb3JkO1xuICAgICAgICB0aGlzLmUgPSBlbmQ7XG4gICAgfVxuICAgIHVwZGF0ZVBhcmVudChwYXJlbnQpIHtcbiAgICAgICAgdGhpcy53ID0gcGFyZW50LncgKyB0aGlzLnM7XG4gICAgfVxuICAgIGFkZERvY3VtZW50KGRvY0lEKSB7XG4gICAgICAgIHRoaXMuZC5hZGQoZG9jSUQpO1xuICAgIH1cbiAgICByZW1vdmVEb2N1bWVudChkb2NJRCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kLmRlbGV0ZShkb2NJRCk7XG4gICAgfVxuICAgIGZpbmRBbGxXb3JkcyhvdXRwdXQsIHRlcm0sIGV4YWN0LCB0b2xlcmFuY2UpIHtcbiAgICAgICAgY29uc3Qgc3RhY2sgPSBbdGhpc107XG4gICAgICAgIHdoaWxlIChzdGFjay5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBub2RlID0gc3RhY2sucG9wKCk7XG4gICAgICAgICAgICBpZiAobm9kZS5lKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyB3LCBkOiBkb2NJRHMgfSA9IG5vZGU7XG4gICAgICAgICAgICAgICAgaWYgKGV4YWN0ICYmIHcgIT09IHRlcm0pIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGNoZWNrIGlmIF9vdXRwdXRbd10gZXhpc3RzIGFuZCB0aGVuIGFkZCB0aGUgZG9jIHRvIGl0XG4gICAgICAgICAgICAgICAgLy8gYWx3YXlzIGNoZWNrIGluIG93biBwcm9wZXJ0eSB0byBwcmV2ZW50IGFjY2VzcyB0byBpbmhlcml0ZWQgcHJvcGVydGllc1xuICAgICAgICAgICAgICAgIC8vIGZpeCBodHRwczovL2dpdGh1Yi5jb20vb3JhbWFzZWFyY2gvb3JhbWEvaXNzdWVzLzEzN1xuICAgICAgICAgICAgICAgIGlmIChnZXRPd25Qcm9wZXJ0eShvdXRwdXQsIHcpICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0b2xlcmFuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpZmZlcmVuY2UgPSBNYXRoLmFicyh0ZXJtLmxlbmd0aCAtIHcubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaWZmZXJlbmNlIDw9IHRvbGVyYW5jZSAmJiBzeW5jQm91bmRlZExldmVuc2h0ZWluKHRlcm0sIHcsIHRvbGVyYW5jZSkuaXNCb3VuZGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0W3ddID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dFt3XSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGNoZWNrIGlmIF9vdXRwdXRbd10gZXhpc3RzIGFuZCB0aGVuIGFkZCB0aGUgZG9jIHRvIGl0XG4gICAgICAgICAgICAgICAgLy8gYWx3YXlzIGNoZWNrIGluIG93biBwcm9wZXJ0eSB0byBwcmV2ZW50IGFjY2VzcyB0byBpbmhlcml0ZWQgcHJvcGVydGllc1xuICAgICAgICAgICAgICAgIC8vIGZpeCBodHRwczovL2dpdGh1Yi5jb20vb3JhbWFzZWFyY2gvb3JhbWEvaXNzdWVzLzEzN1xuICAgICAgICAgICAgICAgIGlmIChnZXRPd25Qcm9wZXJ0eShvdXRwdXQsIHcpICE9IG51bGwgJiYgZG9jSURzLnNpemUgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRvY3MgPSBvdXRwdXRbd107XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZG9jSUQgb2YgZG9jSURzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWRvY3MuaW5jbHVkZXMoZG9jSUQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jcy5wdXNoKGRvY0lEKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChub2RlLmMuc2l6ZSA+IDApIHtcbiAgICAgICAgICAgICAgICBzdGFjay5wdXNoKC4uLm5vZGUuYy52YWx1ZXMoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICB9XG4gICAgaW5zZXJ0KHdvcmQsIGRvY0lkKSB7XG4gICAgICAgIGxldCBub2RlID0gdGhpcztcbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICBjb25zdCB3b3JkTGVuZ3RoID0gd29yZC5sZW5ndGg7XG4gICAgICAgIHdoaWxlIChpIDwgd29yZExlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudENoYXJhY3RlciA9IHdvcmRbaV07XG4gICAgICAgICAgICBjb25zdCBjaGlsZE5vZGUgPSBub2RlLmMuZ2V0KGN1cnJlbnRDaGFyYWN0ZXIpO1xuICAgICAgICAgICAgaWYgKGNoaWxkTm9kZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVkZ2VMYWJlbCA9IGNoaWxkTm9kZS5zO1xuICAgICAgICAgICAgICAgIGNvbnN0IGVkZ2VMYWJlbExlbmd0aCA9IGVkZ2VMYWJlbC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgbGV0IGogPSAwO1xuICAgICAgICAgICAgICAgIC8vIEZpbmQgdGhlIGNvbW1vbiBwcmVmaXggbGVuZ3RoIGJldHdlZW4gZWRnZUxhYmVsIGFuZCB0aGUgcmVtYWluaW5nIHdvcmRcbiAgICAgICAgICAgICAgICB3aGlsZSAoaiA8IGVkZ2VMYWJlbExlbmd0aCAmJiBpICsgaiA8IHdvcmRMZW5ndGggJiYgZWRnZUxhYmVsW2pdID09PSB3b3JkW2kgKyBqXSkge1xuICAgICAgICAgICAgICAgICAgICBqKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChqID09PSBlZGdlTGFiZWxMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRWRnZSBsYWJlbCBmdWxseSBtYXRjaGVzOyBwcm9jZWVkIHRvIHRoZSBjaGlsZCBub2RlXG4gICAgICAgICAgICAgICAgICAgIG5vZGUgPSBjaGlsZE5vZGU7XG4gICAgICAgICAgICAgICAgICAgIGkgKz0gajtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgPT09IHdvcmRMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSB3b3JkIGlzIGEgcHJlZml4IG9mIGFuIGV4aXN0aW5nIHdvcmRcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY2hpbGROb2RlLmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZE5vZGUuZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGlsZE5vZGUuYWRkRG9jdW1lbnQoZG9jSWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBTcGxpdCB0aGUgZWRnZUxhYmVsIGF0IHRoZSBjb21tb24gcHJlZml4XG4gICAgICAgICAgICAgICAgY29uc3QgY29tbW9uUHJlZml4ID0gZWRnZUxhYmVsLnNsaWNlKDAsIGopO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0VkZ2VMYWJlbCA9IGVkZ2VMYWJlbC5zbGljZShqKTtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdXb3JkTGFiZWwgPSB3b3JkLnNsaWNlKGkgKyBqKTtcbiAgICAgICAgICAgICAgICAvLyBDcmVhdGUgYW4gaW50ZXJtZWRpYXRlIG5vZGUgZm9yIHRoZSBjb21tb24gcHJlZml4XG4gICAgICAgICAgICAgICAgY29uc3QgaW5iZXR3ZWVuTm9kZSA9IG5ldyBSYWRpeE5vZGUoY29tbW9uUHJlZml4WzBdLCBjb21tb25QcmVmaXgsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBub2RlLmMuc2V0KGNvbW1vblByZWZpeFswXSwgaW5iZXR3ZWVuTm9kZSk7XG4gICAgICAgICAgICAgICAgaW5iZXR3ZWVuTm9kZS51cGRhdGVQYXJlbnQobm9kZSk7XG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBleGlzdGluZyBjaGlsZE5vZGVcbiAgICAgICAgICAgICAgICBjaGlsZE5vZGUucyA9IG5ld0VkZ2VMYWJlbDtcbiAgICAgICAgICAgICAgICBjaGlsZE5vZGUuayA9IG5ld0VkZ2VMYWJlbFswXTtcbiAgICAgICAgICAgICAgICBpbmJldHdlZW5Ob2RlLmMuc2V0KG5ld0VkZ2VMYWJlbFswXSwgY2hpbGROb2RlKTtcbiAgICAgICAgICAgICAgICBjaGlsZE5vZGUudXBkYXRlUGFyZW50KGluYmV0d2Vlbk5vZGUpO1xuICAgICAgICAgICAgICAgIGlmIChuZXdXb3JkTGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGEgbmV3IG5vZGUgZm9yIHRoZSByZW1haW5pbmcgcGFydCBvZiB0aGUgd29yZFxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdOb2RlID0gbmV3IFJhZGl4Tm9kZShuZXdXb3JkTGFiZWxbMF0sIG5ld1dvcmRMYWJlbCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIG5ld05vZGUuYWRkRG9jdW1lbnQoZG9jSWQpO1xuICAgICAgICAgICAgICAgICAgICBpbmJldHdlZW5Ob2RlLmMuc2V0KG5ld1dvcmRMYWJlbFswXSwgbmV3Tm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIG5ld05vZGUudXBkYXRlUGFyZW50KGluYmV0d2Vlbk5vZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIHdvcmQgZW5kcyBhdCB0aGUgaW5iZXR3ZWVuTm9kZVxuICAgICAgICAgICAgICAgICAgICBpbmJldHdlZW5Ob2RlLmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpbmJldHdlZW5Ob2RlLmFkZERvY3VtZW50KGRvY0lkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gTm8gbWF0Y2hpbmcgY2hpbGQ7IGNyZWF0ZSBhIG5ldyBub2RlXG4gICAgICAgICAgICAgICAgY29uc3QgbmV3Tm9kZSA9IG5ldyBSYWRpeE5vZGUoY3VycmVudENoYXJhY3Rlciwgd29yZC5zbGljZShpKSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgbmV3Tm9kZS5hZGREb2N1bWVudChkb2NJZCk7XG4gICAgICAgICAgICAgICAgbm9kZS5jLnNldChjdXJyZW50Q2hhcmFjdGVyLCBuZXdOb2RlKTtcbiAgICAgICAgICAgICAgICBuZXdOb2RlLnVwZGF0ZVBhcmVudChub2RlKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgd2UgcmVhY2ggaGVyZSwgdGhlIHdvcmQgYWxyZWFkeSBleGlzdHMgaW4gdGhlIHRyZWVcbiAgICAgICAgaWYgKCFub2RlLmUpIHtcbiAgICAgICAgICAgIG5vZGUuZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZS5hZGREb2N1bWVudChkb2NJZCk7XG4gICAgfVxuICAgIF9maW5kTGV2ZW5zaHRlaW4odGVybSwgaW5kZXgsIHRvbGVyYW5jZSwgb3JpZ2luYWxUb2xlcmFuY2UsIG91dHB1dCkge1xuICAgICAgICBjb25zdCBzdGFjayA9IFt7IG5vZGU6IHRoaXMsIGluZGV4LCB0b2xlcmFuY2UgfV07XG4gICAgICAgIHdoaWxlIChzdGFjay5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCB7IG5vZGUsIGluZGV4LCB0b2xlcmFuY2UgfSA9IHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgaWYgKG5vZGUudy5zdGFydHNXaXRoKHRlcm0pKSB7XG4gICAgICAgICAgICAgICAgbm9kZS5maW5kQWxsV29yZHMob3V0cHV0LCB0ZXJtLCBmYWxzZSwgMCk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodG9sZXJhbmNlIDwgMCkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5vZGUuZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgdywgZDogZG9jSURzIH0gPSBub2RlO1xuICAgICAgICAgICAgICAgIGlmICh3KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzeW5jQm91bmRlZExldmVuc2h0ZWluKHRlcm0sIHcsIG9yaWdpbmFsVG9sZXJhbmNlKS5pc0JvdW5kZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dFt3XSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChnZXRPd25Qcm9wZXJ0eShvdXRwdXQsIHcpICE9PSB1bmRlZmluZWQgJiYgZG9jSURzLnNpemUgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkb2NzID0gbmV3IFNldChvdXRwdXRbd10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBkb2NJRCBvZiBkb2NJRHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2NzLmFkZChkb2NJRCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXRbd10gPSBBcnJheS5mcm9tKGRvY3MpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGluZGV4ID49IHRlcm0ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50Q2hhciA9IHRlcm1baW5kZXhdO1xuICAgICAgICAgICAgLy8gMS4gSWYgbm9kZSBoYXMgY2hpbGQgbWF0Y2hpbmcgdGVybVtpbmRleF0sIHB1c2ggeyBub2RlOiBjaGlsZE5vZGUsIGluZGV4ICsxLCB0b2xlcmFuY2UgfVxuICAgICAgICAgICAgaWYgKG5vZGUuYy5oYXMoY3VycmVudENoYXIpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hpbGROb2RlID0gbm9kZS5jLmdldChjdXJyZW50Q2hhcik7XG4gICAgICAgICAgICAgICAgc3RhY2sucHVzaCh7IG5vZGU6IGNoaWxkTm9kZSwgaW5kZXg6IGluZGV4ICsgMSwgdG9sZXJhbmNlIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gMi4gUHVzaCB7IG5vZGUsIGluZGV4ICsxLCB0b2xlcmFuY2UgLTEgfSAoRGVsZXRlIG9wZXJhdGlvbilcbiAgICAgICAgICAgIHN0YWNrLnB1c2goeyBub2RlOiBub2RlLCBpbmRleDogaW5kZXggKyAxLCB0b2xlcmFuY2U6IHRvbGVyYW5jZSAtIDEgfSk7XG4gICAgICAgICAgICAvLyAzLiBGb3IgZWFjaCBjaGlsZDpcbiAgICAgICAgICAgIGZvciAoY29uc3QgW2NoYXJhY3RlciwgY2hpbGROb2RlXSBvZiBub2RlLmMpIHtcbiAgICAgICAgICAgICAgICAvLyBhKSBJbnNlcnQgb3BlcmF0aW9uXG4gICAgICAgICAgICAgICAgc3RhY2sucHVzaCh7IG5vZGU6IGNoaWxkTm9kZSwgaW5kZXg6IGluZGV4LCB0b2xlcmFuY2U6IHRvbGVyYW5jZSAtIDEgfSk7XG4gICAgICAgICAgICAgICAgLy8gYikgU3Vic3RpdHV0ZSBvcGVyYXRpb25cbiAgICAgICAgICAgICAgICBpZiAoY2hhcmFjdGVyICE9PSBjdXJyZW50Q2hhcikge1xuICAgICAgICAgICAgICAgICAgICBzdGFjay5wdXNoKHsgbm9kZTogY2hpbGROb2RlLCBpbmRleDogaW5kZXggKyAxLCB0b2xlcmFuY2U6IHRvbGVyYW5jZSAtIDEgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGZpbmQocGFyYW1zKSB7XG4gICAgICAgIGNvbnN0IHsgdGVybSwgZXhhY3QsIHRvbGVyYW5jZSB9ID0gcGFyYW1zO1xuICAgICAgICBpZiAodG9sZXJhbmNlICYmICFleGFjdCkge1xuICAgICAgICAgICAgY29uc3Qgb3V0cHV0ID0ge307XG4gICAgICAgICAgICB0aGlzLl9maW5kTGV2ZW5zaHRlaW4odGVybSwgMCwgdG9sZXJhbmNlLCB0b2xlcmFuY2UsIG91dHB1dCk7XG4gICAgICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IG5vZGUgPSB0aGlzO1xuICAgICAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICAgICAgY29uc3QgdGVybUxlbmd0aCA9IHRlcm0ubGVuZ3RoO1xuICAgICAgICAgICAgd2hpbGUgKGkgPCB0ZXJtTGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hhcmFjdGVyID0gdGVybVtpXTtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZE5vZGUgPSBub2RlLmMuZ2V0KGNoYXJhY3Rlcik7XG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkTm9kZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlZGdlTGFiZWwgPSBjaGlsZE5vZGUucztcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZWRnZUxhYmVsTGVuZ3RoID0gZWRnZUxhYmVsLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGogPSAwO1xuICAgICAgICAgICAgICAgICAgICAvLyBDb21wYXJlIGVkZ2UgbGFiZWwgd2l0aCB0aGUgdGVybSBzdGFydGluZyBmcm9tIHBvc2l0aW9uIGlcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGogPCBlZGdlTGFiZWxMZW5ndGggJiYgaSArIGogPCB0ZXJtTGVuZ3RoICYmIGVkZ2VMYWJlbFtqXSA9PT0gdGVybVtpICsgal0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGorKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoaiA9PT0gZWRnZUxhYmVsTGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBGdWxsIG1hdGNoIG9mIGVkZ2UgbGFiZWw7IHByb2NlZWQgdG8gdGhlIGNoaWxkIG5vZGVcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUgPSBjaGlsZE5vZGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpICs9IGo7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaSArIGogPT09IHRlcm1MZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSB0ZXJtIGVuZHMgaW4gdGhlIG1pZGRsZSBvZiB0aGUgZWRnZSBsYWJlbFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV4YWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRXhhY3QgbWF0Y2ggcmVxdWlyZWQgYnV0IHRlcm0gZG9lc24ndCBlbmQgYXQgYSBub2RlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUGFydGlhbCBtYXRjaDsgY29sbGVjdCB3b3JkcyBzdGFydGluZyBmcm9tIHRoaXMgbm9kZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG91dHB1dCA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkTm9kZS5maW5kQWxsV29yZHMob3V0cHV0LCB0ZXJtLCBleGFjdCwgdG9sZXJhbmNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTWlzbWF0Y2ggZm91bmRcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gTm8gbWF0Y2hpbmcgY2hpbGQgbm9kZVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVGVybSBmdWxseSBtYXRjaGVkOyBjb2xsZWN0IHdvcmRzIHN0YXJ0aW5nIGZyb20gdGhpcyBub2RlXG4gICAgICAgICAgICBjb25zdCBvdXRwdXQgPSB7fTtcbiAgICAgICAgICAgIG5vZGUuZmluZEFsbFdvcmRzKG91dHB1dCwgdGVybSwgZXhhY3QsIHRvbGVyYW5jZSk7XG4gICAgICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnRhaW5zKHRlcm0pIHtcbiAgICAgICAgbGV0IG5vZGUgPSB0aGlzO1xuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIGNvbnN0IHRlcm1MZW5ndGggPSB0ZXJtLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKGkgPCB0ZXJtTGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCBjaGFyYWN0ZXIgPSB0ZXJtW2ldO1xuICAgICAgICAgICAgY29uc3QgY2hpbGROb2RlID0gbm9kZS5jLmdldChjaGFyYWN0ZXIpO1xuICAgICAgICAgICAgaWYgKGNoaWxkTm9kZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVkZ2VMYWJlbCA9IGNoaWxkTm9kZS5zO1xuICAgICAgICAgICAgICAgIGNvbnN0IGVkZ2VMYWJlbExlbmd0aCA9IGVkZ2VMYWJlbC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgbGV0IGogPSAwO1xuICAgICAgICAgICAgICAgIHdoaWxlIChqIDwgZWRnZUxhYmVsTGVuZ3RoICYmIGkgKyBqIDwgdGVybUxlbmd0aCAmJiBlZGdlTGFiZWxbal0gPT09IHRlcm1baSArIGpdKSB7XG4gICAgICAgICAgICAgICAgICAgIGorKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGogPCBlZGdlTGFiZWxMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpICs9IGVkZ2VMYWJlbExlbmd0aDtcbiAgICAgICAgICAgICAgICBub2RlID0gY2hpbGROb2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZW1vdmVXb3JkKHRlcm0pIHtcbiAgICAgICAgaWYgKCF0ZXJtKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG5vZGUgPSB0aGlzO1xuICAgICAgICBjb25zdCB0ZXJtTGVuZ3RoID0gdGVybS5sZW5ndGg7XG4gICAgICAgIGNvbnN0IHN0YWNrID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGVybUxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjaGFyYWN0ZXIgPSB0ZXJtW2ldO1xuICAgICAgICAgICAgaWYgKG5vZGUuYy5oYXMoY2hhcmFjdGVyKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkTm9kZSA9IG5vZGUuYy5nZXQoY2hhcmFjdGVyKTtcbiAgICAgICAgICAgICAgICBzdGFjay5wdXNoKHsgcGFyZW50OiBub2RlLCBjaGFyYWN0ZXIgfSk7XG4gICAgICAgICAgICAgICAgaSArPSBjaGlsZE5vZGUucy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgIG5vZGUgPSBjaGlsZE5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVtb3ZlIGRvY3VtZW50cyBmcm9tIHRoZSBub2RlXG4gICAgICAgIG5vZGUuZC5jbGVhcigpO1xuICAgICAgICBub2RlLmUgPSBmYWxzZTtcbiAgICAgICAgLy8gQ2xlYW4gdXAgYW55IG5vZGVzIHRoYXQgbm8gbG9uZ2VyIGxlYWQgdG8gYSB3b3JkXG4gICAgICAgIHdoaWxlIChzdGFjay5sZW5ndGggPiAwICYmIG5vZGUuYy5zaXplID09PSAwICYmICFub2RlLmUgJiYgbm9kZS5kLnNpemUgPT09IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHsgcGFyZW50LCBjaGFyYWN0ZXIgfSA9IHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgcGFyZW50LmMuZGVsZXRlKGNoYXJhY3Rlcik7XG4gICAgICAgICAgICBub2RlID0gcGFyZW50O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZW1vdmVEb2N1bWVudEJ5V29yZCh0ZXJtLCBkb2NJRCwgZXhhY3QgPSB0cnVlKSB7XG4gICAgICAgIGlmICghdGVybSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG5vZGUgPSB0aGlzO1xuICAgICAgICBjb25zdCB0ZXJtTGVuZ3RoID0gdGVybS5sZW5ndGg7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGVybUxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjaGFyYWN0ZXIgPSB0ZXJtW2ldO1xuICAgICAgICAgICAgaWYgKG5vZGUuYy5oYXMoY2hhcmFjdGVyKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkTm9kZSA9IG5vZGUuYy5nZXQoY2hhcmFjdGVyKTtcbiAgICAgICAgICAgICAgICBpICs9IGNoaWxkTm9kZS5zLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgbm9kZSA9IGNoaWxkTm9kZTtcbiAgICAgICAgICAgICAgICBpZiAoZXhhY3QgJiYgbm9kZS53ICE9PSB0ZXJtKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIERvIG5vdGhpbmcgaWYgdGhlIGV4YWN0IGNvbmRpdGlvbiBpcyBub3QgbWV0LlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5yZW1vdmVEb2N1bWVudChkb2NJRCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0Q29tbW9uUHJlZml4KGEsIGIpIHtcbiAgICAgICAgY29uc3QgbGVuID0gTWF0aC5taW4oYS5sZW5ndGgsIGIubGVuZ3RoKTtcbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICB3aGlsZSAoaSA8IGxlbiAmJiBhLmNoYXJDb2RlQXQoaSkgPT09IGIuY2hhckNvZGVBdChpKSkge1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhLnNsaWNlKDAsIGkpO1xuICAgIH1cbiAgICB0b0pTT04oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB3OiB0aGlzLncsXG4gICAgICAgICAgICBzOiB0aGlzLnMsXG4gICAgICAgICAgICBlOiB0aGlzLmUsXG4gICAgICAgICAgICBrOiB0aGlzLmssXG4gICAgICAgICAgICBkOiBBcnJheS5mcm9tKHRoaXMuZCksXG4gICAgICAgICAgICBjOiBBcnJheS5mcm9tKHRoaXMuYz8uZW50cmllcygpKT8ubWFwKChba2V5LCBub2RlXSkgPT4gW2tleSwgbm9kZS50b0pTT04oKV0pXG4gICAgICAgIH07XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tSlNPTihqc29uKSB7XG4gICAgICAgIGNvbnN0IG5vZGUgPSBuZXcgUmFkaXhOb2RlKGpzb24uaywganNvbi5zLCBqc29uLmUpO1xuICAgICAgICBub2RlLncgPSBqc29uLnc7XG4gICAgICAgIG5vZGUuZCA9IG5ldyBTZXQoanNvbi5kKTtcbiAgICAgICAgbm9kZS5jID0gbmV3IE1hcChqc29uPy5jPy5tYXAoKFtrZXksIG5vZGVKc29uXSkgPT4gW2tleSwgUmFkaXhOb2RlLmZyb21KU09OKG5vZGVKc29uKV0pKTtcbiAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFJhZGl4VHJlZSBleHRlbmRzIFJhZGl4Tm9kZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCcnLCAnJywgZmFsc2UpO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbUpTT04oanNvbikge1xuICAgICAgICBjb25zdCB0cmVlID0gbmV3IFJhZGl4VHJlZSgpO1xuICAgICAgICB0cmVlLncgPSBqc29uLnc7XG4gICAgICAgIHRyZWUucyA9IGpzb24ucztcbiAgICAgICAgdHJlZS5lID0ganNvbi5lO1xuICAgICAgICB0cmVlLmsgPSBqc29uLms7XG4gICAgICAgIHRyZWUuZCA9IG5ldyBTZXQoanNvbi5kKTtcbiAgICAgICAgdHJlZS5jID0gbmV3IE1hcChqc29uLmM/Lm1hcCgoW2tleSwgbm9kZUpzb25dKSA9PiBba2V5LCBSYWRpeE5vZGUuZnJvbUpTT04obm9kZUpzb24pXSkpO1xuICAgICAgICByZXR1cm4gdHJlZTtcbiAgICB9XG4gICAgdG9KU09OKCkge1xuICAgICAgICByZXR1cm4gc3VwZXIudG9KU09OKCk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmFkaXguanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@orama/orama/dist/browser/trees/radix.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@orama/orama/dist/browser/trees/vector.js":
/*!****************************************************************!*\
  !*** ./node_modules/@orama/orama/dist/browser/trees/vector.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_SIMILARITY: () => (/* binding */ DEFAULT_SIMILARITY),\n/* harmony export */   VectorIndex: () => (/* binding */ VectorIndex),\n/* harmony export */   findSimilarVectors: () => (/* binding */ findSimilarVectors),\n/* harmony export */   getMagnitude: () => (/* binding */ getMagnitude)\n/* harmony export */ });\nconst DEFAULT_SIMILARITY = 0.8;\nclass VectorIndex {\n    size;\n    vectors = new Map();\n    constructor(size) {\n        this.size = size;\n    }\n    add(internalDocumentId, value) {\n        if (!(value instanceof Float32Array)) {\n            value = new Float32Array(value);\n        }\n        const magnitude = getMagnitude(value, this.size);\n        this.vectors.set(internalDocumentId, [magnitude, value]);\n    }\n    remove(internalDocumentId) {\n        this.vectors.delete(internalDocumentId);\n    }\n    find(vector, similarity, whereFiltersIDs) {\n        if (!(vector instanceof Float32Array)) {\n            vector = new Float32Array(vector);\n        }\n        const results = findSimilarVectors(vector, whereFiltersIDs, this.vectors, this.size, similarity);\n        return results;\n    }\n    toJSON() {\n        const vectors = [];\n        for (const [id, [magnitude, vector]] of this.vectors) {\n            vectors.push([id, [magnitude, Array.from(vector)]]);\n        }\n        return {\n            size: this.size,\n            vectors,\n        };\n    }\n    static fromJSON(json) {\n        const raw = json;\n        const index = new VectorIndex(raw.size);\n        for (const [id, [magnitude, vector]] of raw.vectors) {\n            index.vectors.set(id, [magnitude, new Float32Array(vector)]);\n        }\n        return index;\n    }\n}\nfunction getMagnitude(vector, vectorLength) {\n    let magnitude = 0;\n    for (let i = 0; i < vectorLength; i++) {\n        magnitude += vector[i] * vector[i];\n    }\n    return Math.sqrt(magnitude);\n}\n// @todo: Write plugins for Node and Browsers to use parallel computation for this function\nfunction findSimilarVectors(targetVector, keys, vectors, length, threshold) {\n    const targetMagnitude = getMagnitude(targetVector, length);\n    const similarVectors = [];\n    const base = keys ? keys : vectors.keys();\n    for (const vectorId of base) {\n        const entry = vectors.get(vectorId);\n        if (!entry) {\n            continue;\n        }\n        const magnitude = entry[0];\n        const vector = entry[1];\n        let dotProduct = 0;\n        for (let i = 0; i < length; i++) {\n            dotProduct += targetVector[i] * vector[i];\n        }\n        const similarity = dotProduct / (targetMagnitude * magnitude);\n        if (similarity >= threshold) {\n            similarVectors.push([vectorId, similarity]);\n        }\n    }\n    return similarVectors;\n}\n//# sourceMappingURL=vector.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9icm93c2VyL3RyZWVzL3ZlY3Rvci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQU87QUFDQTtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0Esb0JBQW9CLGtCQUFrQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLFlBQVk7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy9hcmNoaWVtY2tlbnppZS9EZXNrdG9wL2d0LWxpYnJhcmllcy9kb2NzL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9icm93c2VyL3RyZWVzL3ZlY3Rvci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgREVGQVVMVF9TSU1JTEFSSVRZID0gMC44O1xuZXhwb3J0IGNsYXNzIFZlY3RvckluZGV4IHtcbiAgICBzaXplO1xuICAgIHZlY3RvcnMgPSBuZXcgTWFwKCk7XG4gICAgY29uc3RydWN0b3Ioc2l6ZSkge1xuICAgICAgICB0aGlzLnNpemUgPSBzaXplO1xuICAgIH1cbiAgICBhZGQoaW50ZXJuYWxEb2N1bWVudElkLCB2YWx1ZSkge1xuICAgICAgICBpZiAoISh2YWx1ZSBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSkpIHtcbiAgICAgICAgICAgIHZhbHVlID0gbmV3IEZsb2F0MzJBcnJheSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbWFnbml0dWRlID0gZ2V0TWFnbml0dWRlKHZhbHVlLCB0aGlzLnNpemUpO1xuICAgICAgICB0aGlzLnZlY3RvcnMuc2V0KGludGVybmFsRG9jdW1lbnRJZCwgW21hZ25pdHVkZSwgdmFsdWVdKTtcbiAgICB9XG4gICAgcmVtb3ZlKGludGVybmFsRG9jdW1lbnRJZCkge1xuICAgICAgICB0aGlzLnZlY3RvcnMuZGVsZXRlKGludGVybmFsRG9jdW1lbnRJZCk7XG4gICAgfVxuICAgIGZpbmQodmVjdG9yLCBzaW1pbGFyaXR5LCB3aGVyZUZpbHRlcnNJRHMpIHtcbiAgICAgICAgaWYgKCEodmVjdG9yIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5KSkge1xuICAgICAgICAgICAgdmVjdG9yID0gbmV3IEZsb2F0MzJBcnJheSh2ZWN0b3IpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdHMgPSBmaW5kU2ltaWxhclZlY3RvcnModmVjdG9yLCB3aGVyZUZpbHRlcnNJRHMsIHRoaXMudmVjdG9ycywgdGhpcy5zaXplLCBzaW1pbGFyaXR5KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgfVxuICAgIHRvSlNPTigpIHtcbiAgICAgICAgY29uc3QgdmVjdG9ycyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IFtpZCwgW21hZ25pdHVkZSwgdmVjdG9yXV0gb2YgdGhpcy52ZWN0b3JzKSB7XG4gICAgICAgICAgICB2ZWN0b3JzLnB1c2goW2lkLCBbbWFnbml0dWRlLCBBcnJheS5mcm9tKHZlY3RvcildXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHNpemU6IHRoaXMuc2l6ZSxcbiAgICAgICAgICAgIHZlY3RvcnMsXG4gICAgICAgIH07XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tSlNPTihqc29uKSB7XG4gICAgICAgIGNvbnN0IHJhdyA9IGpzb247XG4gICAgICAgIGNvbnN0IGluZGV4ID0gbmV3IFZlY3RvckluZGV4KHJhdy5zaXplKTtcbiAgICAgICAgZm9yIChjb25zdCBbaWQsIFttYWduaXR1ZGUsIHZlY3Rvcl1dIG9mIHJhdy52ZWN0b3JzKSB7XG4gICAgICAgICAgICBpbmRleC52ZWN0b3JzLnNldChpZCwgW21hZ25pdHVkZSwgbmV3IEZsb2F0MzJBcnJheSh2ZWN0b3IpXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRNYWduaXR1ZGUodmVjdG9yLCB2ZWN0b3JMZW5ndGgpIHtcbiAgICBsZXQgbWFnbml0dWRlID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZlY3Rvckxlbmd0aDsgaSsrKSB7XG4gICAgICAgIG1hZ25pdHVkZSArPSB2ZWN0b3JbaV0gKiB2ZWN0b3JbaV07XG4gICAgfVxuICAgIHJldHVybiBNYXRoLnNxcnQobWFnbml0dWRlKTtcbn1cbi8vIEB0b2RvOiBXcml0ZSBwbHVnaW5zIGZvciBOb2RlIGFuZCBCcm93c2VycyB0byB1c2UgcGFyYWxsZWwgY29tcHV0YXRpb24gZm9yIHRoaXMgZnVuY3Rpb25cbmV4cG9ydCBmdW5jdGlvbiBmaW5kU2ltaWxhclZlY3RvcnModGFyZ2V0VmVjdG9yLCBrZXlzLCB2ZWN0b3JzLCBsZW5ndGgsIHRocmVzaG9sZCkge1xuICAgIGNvbnN0IHRhcmdldE1hZ25pdHVkZSA9IGdldE1hZ25pdHVkZSh0YXJnZXRWZWN0b3IsIGxlbmd0aCk7XG4gICAgY29uc3Qgc2ltaWxhclZlY3RvcnMgPSBbXTtcbiAgICBjb25zdCBiYXNlID0ga2V5cyA/IGtleXMgOiB2ZWN0b3JzLmtleXMoKTtcbiAgICBmb3IgKGNvbnN0IHZlY3RvcklkIG9mIGJhc2UpIHtcbiAgICAgICAgY29uc3QgZW50cnkgPSB2ZWN0b3JzLmdldCh2ZWN0b3JJZCk7XG4gICAgICAgIGlmICghZW50cnkpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1hZ25pdHVkZSA9IGVudHJ5WzBdO1xuICAgICAgICBjb25zdCB2ZWN0b3IgPSBlbnRyeVsxXTtcbiAgICAgICAgbGV0IGRvdFByb2R1Y3QgPSAwO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBkb3RQcm9kdWN0ICs9IHRhcmdldFZlY3RvcltpXSAqIHZlY3RvcltpXTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzaW1pbGFyaXR5ID0gZG90UHJvZHVjdCAvICh0YXJnZXRNYWduaXR1ZGUgKiBtYWduaXR1ZGUpO1xuICAgICAgICBpZiAoc2ltaWxhcml0eSA+PSB0aHJlc2hvbGQpIHtcbiAgICAgICAgICAgIHNpbWlsYXJWZWN0b3JzLnB1c2goW3ZlY3RvcklkLCBzaW1pbGFyaXR5XSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNpbWlsYXJWZWN0b3JzO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmVjdG9yLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@orama/orama/dist/browser/trees/vector.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@orama/orama/dist/browser/types.js":
/*!*********************************************************!*\
  !*** ./node_modules/@orama/orama/dist/browser/types.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MODE_FULLTEXT_SEARCH: () => (/* reexport safe */ _constants_js__WEBPACK_IMPORTED_MODULE_0__.MODE_FULLTEXT_SEARCH),\n/* harmony export */   MODE_HYBRID_SEARCH: () => (/* reexport safe */ _constants_js__WEBPACK_IMPORTED_MODULE_0__.MODE_HYBRID_SEARCH),\n/* harmony export */   MODE_VECTOR_SEARCH: () => (/* reexport safe */ _constants_js__WEBPACK_IMPORTED_MODULE_0__.MODE_VECTOR_SEARCH),\n/* harmony export */   kInsertions: () => (/* binding */ kInsertions),\n/* harmony export */   kRemovals: () => (/* binding */ kRemovals)\n/* harmony export */ });\n/* harmony import */ var _constants_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./constants.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/constants.js\");\n\nconst kInsertions = Symbol('orama.insertions');\nconst kRemovals = Symbol('orama.removals');\n//# sourceMappingURL=types.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9icm93c2VyL3R5cGVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUE4RjtBQUN2RjtBQUNBO0FBQ1AiLCJzb3VyY2VzIjpbIi9Vc2Vycy9hcmNoaWVtY2tlbnppZS9EZXNrdG9wL2d0LWxpYnJhcmllcy9kb2NzL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9icm93c2VyL3R5cGVzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB7IE1PREVfRlVMTFRFWFRfU0VBUkNILCBNT0RFX0hZQlJJRF9TRUFSQ0gsIE1PREVfVkVDVE9SX1NFQVJDSCB9IGZyb20gJy4vY29uc3RhbnRzLmpzJztcbmV4cG9ydCBjb25zdCBrSW5zZXJ0aW9ucyA9IFN5bWJvbCgnb3JhbWEuaW5zZXJ0aW9ucycpO1xuZXhwb3J0IGNvbnN0IGtSZW1vdmFscyA9IFN5bWJvbCgnb3JhbWEucmVtb3ZhbHMnKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXR5cGVzLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@orama/orama/dist/browser/types.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@orama/orama/dist/browser/utils.js":
/*!*********************************************************!*\
  !*** ./node_modules/@orama/orama/dist/browser/utils.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MAX_ARGUMENT_FOR_STACK: () => (/* binding */ MAX_ARGUMENT_FOR_STACK),\n/* harmony export */   convertDistanceToMeters: () => (/* binding */ convertDistanceToMeters),\n/* harmony export */   flattenObject: () => (/* binding */ flattenObject),\n/* harmony export */   formatBytes: () => (/* binding */ formatBytes),\n/* harmony export */   formatNanoseconds: () => (/* binding */ formatNanoseconds),\n/* harmony export */   getDocumentProperties: () => (/* binding */ getDocumentProperties),\n/* harmony export */   getNanosecondTimeViaPerformance: () => (/* binding */ getNanosecondTimeViaPerformance),\n/* harmony export */   getNanosecondsTime: () => (/* binding */ getNanosecondsTime),\n/* harmony export */   getNested: () => (/* binding */ getNested),\n/* harmony export */   getOwnProperty: () => (/* binding */ getOwnProperty),\n/* harmony export */   getTokenFrequency: () => (/* binding */ getTokenFrequency),\n/* harmony export */   insertSortedValue: () => (/* binding */ insertSortedValue),\n/* harmony export */   intersect: () => (/* binding */ intersect),\n/* harmony export */   isAsyncFunction: () => (/* binding */ isAsyncFunction),\n/* harmony export */   isInsideNode: () => (/* binding */ isInsideNode),\n/* harmony export */   isInsideWebWorker: () => (/* binding */ isInsideWebWorker),\n/* harmony export */   isPromise: () => (/* binding */ isPromise),\n/* harmony export */   isServer: () => (/* binding */ isServer),\n/* harmony export */   removeVectorsFromHits: () => (/* binding */ removeVectorsFromHits),\n/* harmony export */   safeArrayPush: () => (/* binding */ safeArrayPush),\n/* harmony export */   setIntersection: () => (/* binding */ setIntersection),\n/* harmony export */   setUnion: () => (/* binding */ setUnion),\n/* harmony export */   sleep: () => (/* binding */ sleep),\n/* harmony export */   sortTokenScorePredicate: () => (/* binding */ sortTokenScorePredicate),\n/* harmony export */   sprintf: () => (/* binding */ sprintf),\n/* harmony export */   uniqueId: () => (/* binding */ uniqueId)\n/* harmony export */ });\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./errors.js */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/errors.js\");\n/* provided dependency */ var process = __webpack_require__(/*! process */ \"(app-pages-browser)/./node_modules/next/dist/build/polyfills/process.js\");\n\nconst baseId = Date.now().toString().slice(5);\nlet lastId = 0;\nconst k = 1024;\nconst nano = BigInt(1e3);\nconst milli = BigInt(1e6);\nconst second = BigInt(1e9);\nconst isServer = typeof window === 'undefined';\n/**\n * This value can be increased up to 100_000\n * But i don't know if this value change from nodejs to nodejs\n * So I will keep a safer value here.\n */\nconst MAX_ARGUMENT_FOR_STACK = 65535;\n/**\n * This method is needed to used because of issues like: https://github.com/oramasearch/orama/issues/301\n * that issue is caused because the array that is pushed is huge (>100k)\n *\n * @example\n * ```ts\n * safeArrayPush(myArray, [1, 2])\n * ```\n */\nfunction safeArrayPush(arr, newArr) {\n    if (newArr.length < MAX_ARGUMENT_FOR_STACK) {\n        Array.prototype.push.apply(arr, newArr);\n    }\n    else {\n        const newArrLength = newArr.length;\n        for (let i = 0; i < newArrLength; i += MAX_ARGUMENT_FOR_STACK) {\n            Array.prototype.push.apply(arr, newArr.slice(i, i + MAX_ARGUMENT_FOR_STACK));\n        }\n    }\n}\nfunction sprintf(template, ...args) {\n    return template.replace(/%(?:(?<position>\\d+)\\$)?(?<width>-?\\d*\\.?\\d*)(?<type>[dfs])/g, function (...replaceArgs) {\n        const groups = replaceArgs[replaceArgs.length - 1];\n        const { width: rawWidth, type, position } = groups;\n        const replacement = position ? args[Number.parseInt(position) - 1] : args.shift();\n        const width = rawWidth === '' ? 0 : Number.parseInt(rawWidth);\n        switch (type) {\n            case 'd':\n                return replacement.toString().padStart(width, '0');\n            case 'f': {\n                let value = replacement;\n                const [padding, precision] = rawWidth.split('.').map((w) => Number.parseFloat(w));\n                if (typeof precision === 'number' && precision >= 0) {\n                    value = value.toFixed(precision);\n                }\n                return typeof padding === 'number' && padding >= 0 ? value.toString().padStart(width, '0') : value.toString();\n            }\n            case 's':\n                return width < 0\n                    ? replacement.toString().padEnd(-width, ' ')\n                    : replacement.toString().padStart(width, ' ');\n            default:\n                return replacement;\n        }\n    });\n}\nfunction formatBytes(bytes, decimals = 2) {\n    if (bytes === 0) {\n        return '0 Bytes';\n    }\n    const dm = decimals < 0 ? 0 : decimals;\n    const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return `${parseFloat((bytes / Math.pow(k, i)).toFixed(dm))} ${sizes[i]}`;\n}\nfunction isInsideWebWorker() {\n    // @ts-expect-error - WebWorker global scope\n    return typeof WorkerGlobalScope !== 'undefined' && self instanceof WorkerGlobalScope;\n}\nfunction isInsideNode() {\n    return typeof process !== 'undefined' && process.release && process.release.name === 'node';\n}\nfunction getNanosecondTimeViaPerformance() {\n    return BigInt(Math.floor(performance.now() * 1e6));\n}\nfunction formatNanoseconds(value) {\n    if (typeof value === 'number') {\n        value = BigInt(value);\n    }\n    if (value < nano) {\n        return `${value}ns`;\n    }\n    else if (value < milli) {\n        return `${value / nano}μs`;\n    }\n    else if (value < second) {\n        return `${value / milli}ms`;\n    }\n    return `${value / second}s`;\n}\nfunction getNanosecondsTime() {\n    if (isInsideWebWorker()) {\n        return getNanosecondTimeViaPerformance();\n    }\n    if (isInsideNode()) {\n        return process.hrtime.bigint();\n    }\n    if (typeof process !== 'undefined' && typeof process?.hrtime?.bigint === 'function') {\n        return process.hrtime.bigint();\n    }\n    if (typeof performance !== 'undefined') {\n        return getNanosecondTimeViaPerformance();\n    }\n    // @todo: fallback to V8 native method to get microtime\n    return BigInt(0);\n}\nfunction uniqueId() {\n    return `${baseId}-${lastId++}`;\n}\nfunction getOwnProperty(object, property) {\n    // Checks if `hasOwn` method is defined avoiding errors with older Node.js versions\n    if (Object.hasOwn === undefined) {\n        return Object.prototype.hasOwnProperty.call(object, property) ? object[property] : undefined;\n    }\n    return Object.hasOwn(object, property) ? object[property] : undefined;\n}\nfunction getTokenFrequency(token, tokens) {\n    let count = 0;\n    for (const t of tokens) {\n        if (t === token) {\n            count++;\n        }\n    }\n    return count;\n}\nfunction insertSortedValue(arr, el, compareFn = sortTokenScorePredicate) {\n    let low = 0;\n    let high = arr.length;\n    let mid;\n    while (low < high) {\n        mid = (low + high) >>> 1;\n        if (compareFn(el, arr[mid]) < 0) {\n            high = mid;\n        }\n        else {\n            low = mid + 1;\n        }\n    }\n    arr.splice(low, 0, el);\n    return arr;\n}\nfunction sortTokenScorePredicate(a, b) {\n    if (b[1] === a[1]) {\n        return a[0] - b[0];\n    }\n    return b[1] - a[1];\n}\n// Intersection function taken from https://github.com/lovasoa/fast_array_intersect.\n// MIT Licensed at the time of writing.\nfunction intersect(arrays) {\n    if (arrays.length === 0) {\n        return [];\n    }\n    else if (arrays.length === 1) {\n        return arrays[0];\n    }\n    for (let i = 1; i < arrays.length; i++) {\n        if (arrays[i].length < arrays[0].length) {\n            const tmp = arrays[0];\n            arrays[0] = arrays[i];\n            arrays[i] = tmp;\n        }\n    }\n    const set = new Map();\n    for (const elem of arrays[0]) {\n        set.set(elem, 1);\n    }\n    for (let i = 1; i < arrays.length; i++) {\n        let found = 0;\n        for (const elem of arrays[i]) {\n            const count = set.get(elem);\n            if (count === i) {\n                set.set(elem, count + 1);\n                found++;\n            }\n        }\n        if (found === 0)\n            return [];\n    }\n    return arrays[0].filter((e) => {\n        const count = set.get(e);\n        if (count !== undefined)\n            set.set(e, 0);\n        return count === arrays.length;\n    });\n}\nfunction getDocumentProperties(doc, paths) {\n    const properties = {};\n    const pathsLength = paths.length;\n    for (let i = 0; i < pathsLength; i++) {\n        const path = paths[i];\n        const pathTokens = path.split('.');\n        let current = doc;\n        const pathTokensLength = pathTokens.length;\n        for (let j = 0; j < pathTokensLength; j++) {\n            current = current[pathTokens[j]];\n            // We found an object but we were supposed to be done\n            if (typeof current === 'object') {\n                if (current !== null &&\n                    'lat' in current &&\n                    'lon' in current &&\n                    typeof current.lat === 'number' &&\n                    typeof current.lon === 'number') {\n                    current = properties[path] = current;\n                    break;\n                }\n                else if (!Array.isArray(current) && current !== null && j === pathTokensLength - 1) {\n                    current = undefined;\n                    break;\n                }\n            }\n            else if ((current === null || typeof current !== 'object') && j < pathTokensLength - 1) {\n                // We can't recurse anymore but we were supposed to\n                current = undefined;\n                break;\n            }\n        }\n        if (typeof current !== 'undefined') {\n            properties[path] = current;\n        }\n    }\n    return properties;\n}\nfunction getNested(obj, path) {\n    const props = getDocumentProperties(obj, [path]);\n    return props[path];\n}\nfunction flattenObject(obj, prefix = '') {\n    const result = {};\n    for (const key in obj) {\n        const prop = `${prefix}${key}`;\n        const objKey = obj[key];\n        if (typeof objKey === 'object' && objKey !== null) {\n            Object.assign(result, flattenObject(objKey, `${prop}.`));\n        }\n        else {\n            result[prop] = objKey;\n        }\n    }\n    return result;\n}\nconst mapDistanceToMeters = {\n    cm: 0.01,\n    m: 1,\n    km: 1000,\n    ft: 0.3048,\n    yd: 0.9144,\n    mi: 1609.344\n};\nfunction convertDistanceToMeters(distance, unit) {\n    const ratio = mapDistanceToMeters[unit];\n    if (ratio === undefined) {\n        throw new Error((0,_errors_js__WEBPACK_IMPORTED_MODULE_0__.createError)('INVALID_DISTANCE_SUFFIX', distance).message);\n    }\n    return distance * ratio;\n}\nfunction removeVectorsFromHits(searchResult, vectorProperties) {\n    searchResult.hits = searchResult.hits.map((result) => ({\n        ...result,\n        document: {\n            ...result.document,\n            // Remove embeddings from the result\n            ...vectorProperties.reduce((acc, prop) => {\n                const path = prop.split('.');\n                const lastKey = path.pop();\n                let obj = acc;\n                for (const key of path) {\n                    obj[key] = obj[key] ?? {};\n                    obj = obj[key];\n                }\n                obj[lastKey] = null;\n                return acc;\n            }, result.document)\n        }\n    }));\n}\nfunction isPromise(obj) {\n    return !!obj && (typeof obj === 'object' || typeof obj === 'function') && typeof obj.then === 'function';\n}\n/**\n * Checks if the provided input is an async function or if the input is an array\n * containing at least one async function.\n *\n * @param func - A single function or an array of functions to check.\n *               Non-function values are ignored.\n * @returns `true` if the input is an async function or an array containing at least\n *          one async function, otherwise `false`.\n */\nfunction isAsyncFunction(func) {\n    if (Array.isArray(func)) {\n        return func.some(item => isAsyncFunction(item));\n    }\n    return func?.constructor?.name === 'AsyncFunction';\n}\nconst withIntersection = 'intersection' in (new Set());\nfunction setIntersection(...sets) {\n    // Fast path 1\n    if (sets.length === 0) {\n        return new Set();\n    }\n    // Fast path 2\n    if (sets.length === 1) {\n        return sets[0];\n    }\n    // Fast path 3\n    if (sets.length === 2) {\n        const set1 = sets[0];\n        const set2 = sets[1];\n        if (withIntersection) {\n            return set1.intersection(set2);\n        }\n        const result = new Set();\n        const base = set1.size < set2.size ? set1 : set2;\n        const other = base === set1 ? set2 : set1;\n        for (const value of base) {\n            if (other.has(value)) {\n                result.add(value);\n            }\n        }\n        return result;\n    }\n    // Slow path\n    // Find the smallest set\n    const min = {\n        index: 0,\n        size: sets[0].size,\n    };\n    for (let i = 1; i < sets.length; i++) {\n        if (sets[i].size < min.size) {\n            min.index = i;\n            min.size = sets[i].size;\n        }\n    }\n    if (withIntersection) {\n        let base = sets[min.index];\n        for (let i = 0; i < sets.length; i++) {\n            if (i === min.index) {\n                continue;\n            }\n            base = base.intersection(sets[i]);\n        }\n        return base;\n    }\n    // manual implementation:\n    // intersect all sets with the smallest set\n    const base = sets[min.index];\n    for (let i = 0; i < sets.length; i++) {\n        if (i === min.index) {\n            continue;\n        }\n        const other = sets[i];\n        for (const value of base) {\n            if (!other.has(value)) {\n                base.delete(value);\n            }\n        }\n    }\n    return base;\n}\nconst withUnion = 'union' in (new Set());\nfunction setUnion(set1, set2) {\n    if (withUnion) {\n        if (set1) {\n            return set1.union(set2);\n        }\n        return set2;\n    }\n    if (!set1) {\n        return new Set(set2);\n    }\n    return new Set([...set1, ...set2]);\n}\n// This code is taken from https://github.com/davidmarkclements/atomic-sleep, MIT licensed at the time of commit b8149d3ca276c84a54fa8fa1478f9cc79aabc15a.\n// All credits go to the original author (David Mark Clements, https://github.com/davidmarkclements).\nfunction sleep(ms) {\n    if (typeof SharedArrayBuffer !== 'undefined' && typeof Atomics !== 'undefined') {\n        const nil = new Int32Array(new SharedArrayBuffer(4));\n        const valid = ms > 0 && ms < Infinity;\n        if (valid === false) {\n            if (typeof ms !== 'number' && typeof ms !== 'bigint') {\n                throw TypeError('sleep: ms must be a number');\n            }\n            throw RangeError('sleep: ms must be a number that is greater than 0 but less than Infinity');\n        }\n        Atomics.wait(nil, 0, 0, Number(ms));\n    }\n    else {\n        const valid = ms > 0 && ms < Infinity;\n        if (valid === false) {\n            if (typeof ms !== 'number' && typeof ms !== 'bigint') {\n                throw TypeError('sleep: ms must be a number');\n            }\n            throw RangeError('sleep: ms must be a number that is greater than 0 but less than Infinity');\n        }\n        const target = Date.now() + Number(ms);\n        while (target > Date.now()) { /* empty */ }\n    }\n}\n//# sourceMappingURL=utils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ab3JhbWEvb3JhbWEvZGlzdC9icm93c2VyL3V0aWxzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBMEM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isa0JBQWtCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EsZ0JBQWdCLGtDQUFrQztBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLGtEQUFrRCxFQUFFLFNBQVM7QUFDM0U7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNPO0FBQ1Asa0JBQWtCLE9BQU8sb0JBQW9CLE9BQU8sWUFBWSxPQUFPO0FBQ3ZFO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixNQUFNO0FBQ3hCO0FBQ0E7QUFDQSxrQkFBa0IsYUFBYTtBQUMvQjtBQUNBO0FBQ0Esa0JBQWtCLGNBQWM7QUFDaEM7QUFDQSxjQUFjLGVBQWU7QUFDN0I7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCO0FBQ0EsZUFBZSxPQUFPLDJCQUEyQixPQUFPO0FBQ3hELGVBQWUsT0FBTztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsY0FBYyxPQUFPLEdBQUcsU0FBUztBQUNqQztBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsbUJBQW1CO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLG1CQUFtQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNPO0FBQ1A7QUFDQTtBQUNBLG9CQUFvQixpQkFBaUI7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isc0JBQXNCO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSx3QkFBd0IsT0FBTyxFQUFFLElBQUk7QUFDckM7QUFDQTtBQUNBLDJEQUEyRCxLQUFLO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLHdCQUF3Qix1REFBVztBQUNuQztBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLEtBQUs7QUFDTDtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixpQkFBaUI7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsaUJBQWlCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGlCQUFpQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvYXJjaGllbWNrZW56aWUvRGVza3RvcC9ndC1saWJyYXJpZXMvZG9jcy9ub2RlX21vZHVsZXMvQG9yYW1hL29yYW1hL2Rpc3QvYnJvd3Nlci91dGlscy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVFcnJvciB9IGZyb20gJy4vZXJyb3JzLmpzJztcbmNvbnN0IGJhc2VJZCA9IERhdGUubm93KCkudG9TdHJpbmcoKS5zbGljZSg1KTtcbmxldCBsYXN0SWQgPSAwO1xuY29uc3QgayA9IDEwMjQ7XG5jb25zdCBuYW5vID0gQmlnSW50KDFlMyk7XG5jb25zdCBtaWxsaSA9IEJpZ0ludCgxZTYpO1xuY29uc3Qgc2Vjb25kID0gQmlnSW50KDFlOSk7XG5leHBvcnQgY29uc3QgaXNTZXJ2ZXIgPSB0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJztcbi8qKlxuICogVGhpcyB2YWx1ZSBjYW4gYmUgaW5jcmVhc2VkIHVwIHRvIDEwMF8wMDBcbiAqIEJ1dCBpIGRvbid0IGtub3cgaWYgdGhpcyB2YWx1ZSBjaGFuZ2UgZnJvbSBub2RlanMgdG8gbm9kZWpzXG4gKiBTbyBJIHdpbGwga2VlcCBhIHNhZmVyIHZhbHVlIGhlcmUuXG4gKi9cbmV4cG9ydCBjb25zdCBNQVhfQVJHVU1FTlRfRk9SX1NUQUNLID0gNjU1MzU7XG4vKipcbiAqIFRoaXMgbWV0aG9kIGlzIG5lZWRlZCB0byB1c2VkIGJlY2F1c2Ugb2YgaXNzdWVzIGxpa2U6IGh0dHBzOi8vZ2l0aHViLmNvbS9vcmFtYXNlYXJjaC9vcmFtYS9pc3N1ZXMvMzAxXG4gKiB0aGF0IGlzc3VlIGlzIGNhdXNlZCBiZWNhdXNlIHRoZSBhcnJheSB0aGF0IGlzIHB1c2hlZCBpcyBodWdlICg+MTAwaylcbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgdHNcbiAqIHNhZmVBcnJheVB1c2gobXlBcnJheSwgWzEsIDJdKVxuICogYGBgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzYWZlQXJyYXlQdXNoKGFyciwgbmV3QXJyKSB7XG4gICAgaWYgKG5ld0Fyci5sZW5ndGggPCBNQVhfQVJHVU1FTlRfRk9SX1NUQUNLKSB7XG4gICAgICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGFyciwgbmV3QXJyKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IG5ld0Fyckxlbmd0aCA9IG5ld0Fyci5sZW5ndGg7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmV3QXJyTGVuZ3RoOyBpICs9IE1BWF9BUkdVTUVOVF9GT1JfU1RBQ0spIHtcbiAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGFyciwgbmV3QXJyLnNsaWNlKGksIGkgKyBNQVhfQVJHVU1FTlRfRk9SX1NUQUNLKSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gc3ByaW50Zih0ZW1wbGF0ZSwgLi4uYXJncykge1xuICAgIHJldHVybiB0ZW1wbGF0ZS5yZXBsYWNlKC8lKD86KD88cG9zaXRpb24+XFxkKylcXCQpPyg/PHdpZHRoPi0/XFxkKlxcLj9cXGQqKSg/PHR5cGU+W2Rmc10pL2csIGZ1bmN0aW9uICguLi5yZXBsYWNlQXJncykge1xuICAgICAgICBjb25zdCBncm91cHMgPSByZXBsYWNlQXJnc1tyZXBsYWNlQXJncy5sZW5ndGggLSAxXTtcbiAgICAgICAgY29uc3QgeyB3aWR0aDogcmF3V2lkdGgsIHR5cGUsIHBvc2l0aW9uIH0gPSBncm91cHM7XG4gICAgICAgIGNvbnN0IHJlcGxhY2VtZW50ID0gcG9zaXRpb24gPyBhcmdzW051bWJlci5wYXJzZUludChwb3NpdGlvbikgLSAxXSA6IGFyZ3Muc2hpZnQoKTtcbiAgICAgICAgY29uc3Qgd2lkdGggPSByYXdXaWR0aCA9PT0gJycgPyAwIDogTnVtYmVyLnBhcnNlSW50KHJhd1dpZHRoKTtcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlICdkJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVwbGFjZW1lbnQudG9TdHJpbmcoKS5wYWRTdGFydCh3aWR0aCwgJzAnKTtcbiAgICAgICAgICAgIGNhc2UgJ2YnOiB7XG4gICAgICAgICAgICAgICAgbGV0IHZhbHVlID0gcmVwbGFjZW1lbnQ7XG4gICAgICAgICAgICAgICAgY29uc3QgW3BhZGRpbmcsIHByZWNpc2lvbl0gPSByYXdXaWR0aC5zcGxpdCgnLicpLm1hcCgodykgPT4gTnVtYmVyLnBhcnNlRmxvYXQodykpO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcHJlY2lzaW9uID09PSAnbnVtYmVyJyAmJiBwcmVjaXNpb24gPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnRvRml4ZWQocHJlY2lzaW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBwYWRkaW5nID09PSAnbnVtYmVyJyAmJiBwYWRkaW5nID49IDAgPyB2YWx1ZS50b1N0cmluZygpLnBhZFN0YXJ0KHdpZHRoLCAnMCcpIDogdmFsdWUudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ3MnOlxuICAgICAgICAgICAgICAgIHJldHVybiB3aWR0aCA8IDBcbiAgICAgICAgICAgICAgICAgICAgPyByZXBsYWNlbWVudC50b1N0cmluZygpLnBhZEVuZCgtd2lkdGgsICcgJylcbiAgICAgICAgICAgICAgICAgICAgOiByZXBsYWNlbWVudC50b1N0cmluZygpLnBhZFN0YXJ0KHdpZHRoLCAnICcpO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVwbGFjZW1lbnQ7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXRCeXRlcyhieXRlcywgZGVjaW1hbHMgPSAyKSB7XG4gICAgaWYgKGJ5dGVzID09PSAwKSB7XG4gICAgICAgIHJldHVybiAnMCBCeXRlcyc7XG4gICAgfVxuICAgIGNvbnN0IGRtID0gZGVjaW1hbHMgPCAwID8gMCA6IGRlY2ltYWxzO1xuICAgIGNvbnN0IHNpemVzID0gWydCeXRlcycsICdLQicsICdNQicsICdHQicsICdUQicsICdQQicsICdFQicsICdaQicsICdZQiddO1xuICAgIGNvbnN0IGkgPSBNYXRoLmZsb29yKE1hdGgubG9nKGJ5dGVzKSAvIE1hdGgubG9nKGspKTtcbiAgICByZXR1cm4gYCR7cGFyc2VGbG9hdCgoYnl0ZXMgLyBNYXRoLnBvdyhrLCBpKSkudG9GaXhlZChkbSkpfSAke3NpemVzW2ldfWA7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNJbnNpZGVXZWJXb3JrZXIoKSB7XG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFdlYldvcmtlciBnbG9iYWwgc2NvcGVcbiAgICByZXR1cm4gdHlwZW9mIFdvcmtlckdsb2JhbFNjb3BlICE9PSAndW5kZWZpbmVkJyAmJiBzZWxmIGluc3RhbmNlb2YgV29ya2VyR2xvYmFsU2NvcGU7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNJbnNpZGVOb2RlKCkge1xuICAgIHJldHVybiB0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgcHJvY2Vzcy5yZWxlYXNlICYmIHByb2Nlc3MucmVsZWFzZS5uYW1lID09PSAnbm9kZSc7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0TmFub3NlY29uZFRpbWVWaWFQZXJmb3JtYW5jZSgpIHtcbiAgICByZXR1cm4gQmlnSW50KE1hdGguZmxvb3IocGVyZm9ybWFuY2Uubm93KCkgKiAxZTYpKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXROYW5vc2Vjb25kcyh2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgICAgIHZhbHVlID0gQmlnSW50KHZhbHVlKTtcbiAgICB9XG4gICAgaWYgKHZhbHVlIDwgbmFubykge1xuICAgICAgICByZXR1cm4gYCR7dmFsdWV9bnNgO1xuICAgIH1cbiAgICBlbHNlIGlmICh2YWx1ZSA8IG1pbGxpKSB7XG4gICAgICAgIHJldHVybiBgJHt2YWx1ZSAvIG5hbm99zrxzYDtcbiAgICB9XG4gICAgZWxzZSBpZiAodmFsdWUgPCBzZWNvbmQpIHtcbiAgICAgICAgcmV0dXJuIGAke3ZhbHVlIC8gbWlsbGl9bXNgO1xuICAgIH1cbiAgICByZXR1cm4gYCR7dmFsdWUgLyBzZWNvbmR9c2A7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0TmFub3NlY29uZHNUaW1lKCkge1xuICAgIGlmIChpc0luc2lkZVdlYldvcmtlcigpKSB7XG4gICAgICAgIHJldHVybiBnZXROYW5vc2Vjb25kVGltZVZpYVBlcmZvcm1hbmNlKCk7XG4gICAgfVxuICAgIGlmIChpc0luc2lkZU5vZGUoKSkge1xuICAgICAgICByZXR1cm4gcHJvY2Vzcy5ocnRpbWUuYmlnaW50KCk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHByb2Nlc3M/LmhydGltZT8uYmlnaW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBwcm9jZXNzLmhydGltZS5iaWdpbnQoKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBwZXJmb3JtYW5jZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIGdldE5hbm9zZWNvbmRUaW1lVmlhUGVyZm9ybWFuY2UoKTtcbiAgICB9XG4gICAgLy8gQHRvZG86IGZhbGxiYWNrIHRvIFY4IG5hdGl2ZSBtZXRob2QgdG8gZ2V0IG1pY3JvdGltZVxuICAgIHJldHVybiBCaWdJbnQoMCk7XG59XG5leHBvcnQgZnVuY3Rpb24gdW5pcXVlSWQoKSB7XG4gICAgcmV0dXJuIGAke2Jhc2VJZH0tJHtsYXN0SWQrK31gO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldE93blByb3BlcnR5KG9iamVjdCwgcHJvcGVydHkpIHtcbiAgICAvLyBDaGVja3MgaWYgYGhhc093bmAgbWV0aG9kIGlzIGRlZmluZWQgYXZvaWRpbmcgZXJyb3JzIHdpdGggb2xkZXIgTm9kZS5qcyB2ZXJzaW9uc1xuICAgIGlmIChPYmplY3QuaGFzT3duID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KSA/IG9iamVjdFtwcm9wZXJ0eV0gOiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHJldHVybiBPYmplY3QuaGFzT3duKG9iamVjdCwgcHJvcGVydHkpID8gb2JqZWN0W3Byb3BlcnR5XSA6IHVuZGVmaW5lZDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRUb2tlbkZyZXF1ZW5jeSh0b2tlbiwgdG9rZW5zKSB7XG4gICAgbGV0IGNvdW50ID0gMDtcbiAgICBmb3IgKGNvbnN0IHQgb2YgdG9rZW5zKSB7XG4gICAgICAgIGlmICh0ID09PSB0b2tlbikge1xuICAgICAgICAgICAgY291bnQrKztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY291bnQ7XG59XG5leHBvcnQgZnVuY3Rpb24gaW5zZXJ0U29ydGVkVmFsdWUoYXJyLCBlbCwgY29tcGFyZUZuID0gc29ydFRva2VuU2NvcmVQcmVkaWNhdGUpIHtcbiAgICBsZXQgbG93ID0gMDtcbiAgICBsZXQgaGlnaCA9IGFyci5sZW5ndGg7XG4gICAgbGV0IG1pZDtcbiAgICB3aGlsZSAobG93IDwgaGlnaCkge1xuICAgICAgICBtaWQgPSAobG93ICsgaGlnaCkgPj4+IDE7XG4gICAgICAgIGlmIChjb21wYXJlRm4oZWwsIGFyclttaWRdKSA8IDApIHtcbiAgICAgICAgICAgIGhpZ2ggPSBtaWQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsb3cgPSBtaWQgKyAxO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFyci5zcGxpY2UobG93LCAwLCBlbCk7XG4gICAgcmV0dXJuIGFycjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzb3J0VG9rZW5TY29yZVByZWRpY2F0ZShhLCBiKSB7XG4gICAgaWYgKGJbMV0gPT09IGFbMV0pIHtcbiAgICAgICAgcmV0dXJuIGFbMF0gLSBiWzBdO1xuICAgIH1cbiAgICByZXR1cm4gYlsxXSAtIGFbMV07XG59XG4vLyBJbnRlcnNlY3Rpb24gZnVuY3Rpb24gdGFrZW4gZnJvbSBodHRwczovL2dpdGh1Yi5jb20vbG92YXNvYS9mYXN0X2FycmF5X2ludGVyc2VjdC5cbi8vIE1JVCBMaWNlbnNlZCBhdCB0aGUgdGltZSBvZiB3cml0aW5nLlxuZXhwb3J0IGZ1bmN0aW9uIGludGVyc2VjdChhcnJheXMpIHtcbiAgICBpZiAoYXJyYXlzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKGFycmF5cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIGFycmF5c1swXTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCBhcnJheXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGFycmF5c1tpXS5sZW5ndGggPCBhcnJheXNbMF0ubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCB0bXAgPSBhcnJheXNbMF07XG4gICAgICAgICAgICBhcnJheXNbMF0gPSBhcnJheXNbaV07XG4gICAgICAgICAgICBhcnJheXNbaV0gPSB0bXA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3Qgc2V0ID0gbmV3IE1hcCgpO1xuICAgIGZvciAoY29uc3QgZWxlbSBvZiBhcnJheXNbMF0pIHtcbiAgICAgICAgc2V0LnNldChlbGVtLCAxKTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCBhcnJheXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IGZvdW5kID0gMDtcbiAgICAgICAgZm9yIChjb25zdCBlbGVtIG9mIGFycmF5c1tpXSkge1xuICAgICAgICAgICAgY29uc3QgY291bnQgPSBzZXQuZ2V0KGVsZW0pO1xuICAgICAgICAgICAgaWYgKGNvdW50ID09PSBpKSB7XG4gICAgICAgICAgICAgICAgc2V0LnNldChlbGVtLCBjb3VudCArIDEpO1xuICAgICAgICAgICAgICAgIGZvdW5kKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZvdW5kID09PSAwKVxuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICByZXR1cm4gYXJyYXlzWzBdLmZpbHRlcigoZSkgPT4ge1xuICAgICAgICBjb25zdCBjb3VudCA9IHNldC5nZXQoZSk7XG4gICAgICAgIGlmIChjb3VudCAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgc2V0LnNldChlLCAwKTtcbiAgICAgICAgcmV0dXJuIGNvdW50ID09PSBhcnJheXMubGVuZ3RoO1xuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldERvY3VtZW50UHJvcGVydGllcyhkb2MsIHBhdGhzKSB7XG4gICAgY29uc3QgcHJvcGVydGllcyA9IHt9O1xuICAgIGNvbnN0IHBhdGhzTGVuZ3RoID0gcGF0aHMubGVuZ3RoO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGF0aHNMZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBwYXRoID0gcGF0aHNbaV07XG4gICAgICAgIGNvbnN0IHBhdGhUb2tlbnMgPSBwYXRoLnNwbGl0KCcuJyk7XG4gICAgICAgIGxldCBjdXJyZW50ID0gZG9jO1xuICAgICAgICBjb25zdCBwYXRoVG9rZW5zTGVuZ3RoID0gcGF0aFRva2Vucy5sZW5ndGg7XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgcGF0aFRva2Vuc0xlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudFtwYXRoVG9rZW5zW2pdXTtcbiAgICAgICAgICAgIC8vIFdlIGZvdW5kIGFuIG9iamVjdCBidXQgd2Ugd2VyZSBzdXBwb3NlZCB0byBiZSBkb25lXG4gICAgICAgICAgICBpZiAodHlwZW9mIGN1cnJlbnQgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnQgIT09IG51bGwgJiZcbiAgICAgICAgICAgICAgICAgICAgJ2xhdCcgaW4gY3VycmVudCAmJlxuICAgICAgICAgICAgICAgICAgICAnbG9uJyBpbiBjdXJyZW50ICYmXG4gICAgICAgICAgICAgICAgICAgIHR5cGVvZiBjdXJyZW50LmxhdCA9PT0gJ251bWJlcicgJiZcbiAgICAgICAgICAgICAgICAgICAgdHlwZW9mIGN1cnJlbnQubG9uID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gcHJvcGVydGllc1twYXRoXSA9IGN1cnJlbnQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICghQXJyYXkuaXNBcnJheShjdXJyZW50KSAmJiBjdXJyZW50ICE9PSBudWxsICYmIGogPT09IHBhdGhUb2tlbnNMZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKChjdXJyZW50ID09PSBudWxsIHx8IHR5cGVvZiBjdXJyZW50ICE9PSAnb2JqZWN0JykgJiYgaiA8IHBhdGhUb2tlbnNMZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgLy8gV2UgY2FuJ3QgcmVjdXJzZSBhbnltb3JlIGJ1dCB3ZSB3ZXJlIHN1cHBvc2VkIHRvXG4gICAgICAgICAgICAgICAgY3VycmVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGN1cnJlbnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBwcm9wZXJ0aWVzW3BhdGhdID0gY3VycmVudDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcHJvcGVydGllcztcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXROZXN0ZWQob2JqLCBwYXRoKSB7XG4gICAgY29uc3QgcHJvcHMgPSBnZXREb2N1bWVudFByb3BlcnRpZXMob2JqLCBbcGF0aF0pO1xuICAgIHJldHVybiBwcm9wc1twYXRoXTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmbGF0dGVuT2JqZWN0KG9iaiwgcHJlZml4ID0gJycpIHtcbiAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBvYmopIHtcbiAgICAgICAgY29uc3QgcHJvcCA9IGAke3ByZWZpeH0ke2tleX1gO1xuICAgICAgICBjb25zdCBvYmpLZXkgPSBvYmpba2V5XTtcbiAgICAgICAgaWYgKHR5cGVvZiBvYmpLZXkgPT09ICdvYmplY3QnICYmIG9iaktleSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihyZXN1bHQsIGZsYXR0ZW5PYmplY3Qob2JqS2V5LCBgJHtwcm9wfS5gKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXN1bHRbcHJvcF0gPSBvYmpLZXk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmNvbnN0IG1hcERpc3RhbmNlVG9NZXRlcnMgPSB7XG4gICAgY206IDAuMDEsXG4gICAgbTogMSxcbiAgICBrbTogMTAwMCxcbiAgICBmdDogMC4zMDQ4LFxuICAgIHlkOiAwLjkxNDQsXG4gICAgbWk6IDE2MDkuMzQ0XG59O1xuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnREaXN0YW5jZVRvTWV0ZXJzKGRpc3RhbmNlLCB1bml0KSB7XG4gICAgY29uc3QgcmF0aW8gPSBtYXBEaXN0YW5jZVRvTWV0ZXJzW3VuaXRdO1xuICAgIGlmIChyYXRpbyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihjcmVhdGVFcnJvcignSU5WQUxJRF9ESVNUQU5DRV9TVUZGSVgnLCBkaXN0YW5jZSkubWVzc2FnZSk7XG4gICAgfVxuICAgIHJldHVybiBkaXN0YW5jZSAqIHJhdGlvO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZVZlY3RvcnNGcm9tSGl0cyhzZWFyY2hSZXN1bHQsIHZlY3RvclByb3BlcnRpZXMpIHtcbiAgICBzZWFyY2hSZXN1bHQuaGl0cyA9IHNlYXJjaFJlc3VsdC5oaXRzLm1hcCgocmVzdWx0KSA9PiAoe1xuICAgICAgICAuLi5yZXN1bHQsXG4gICAgICAgIGRvY3VtZW50OiB7XG4gICAgICAgICAgICAuLi5yZXN1bHQuZG9jdW1lbnQsXG4gICAgICAgICAgICAvLyBSZW1vdmUgZW1iZWRkaW5ncyBmcm9tIHRoZSByZXN1bHRcbiAgICAgICAgICAgIC4uLnZlY3RvclByb3BlcnRpZXMucmVkdWNlKChhY2MsIHByb3ApID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXRoID0gcHJvcC5zcGxpdCgnLicpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RLZXkgPSBwYXRoLnBvcCgpO1xuICAgICAgICAgICAgICAgIGxldCBvYmogPSBhY2M7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgcGF0aCkge1xuICAgICAgICAgICAgICAgICAgICBvYmpba2V5XSA9IG9ialtrZXldID8/IHt9O1xuICAgICAgICAgICAgICAgICAgICBvYmogPSBvYmpba2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb2JqW2xhc3RLZXldID0gbnVsbDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICAgICAgfSwgcmVzdWx0LmRvY3VtZW50KVxuICAgICAgICB9XG4gICAgfSkpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzUHJvbWlzZShvYmopIHtcbiAgICByZXR1cm4gISFvYmogJiYgKHR5cGVvZiBvYmogPT09ICdvYmplY3QnIHx8IHR5cGVvZiBvYmogPT09ICdmdW5jdGlvbicpICYmIHR5cGVvZiBvYmoudGhlbiA9PT0gJ2Z1bmN0aW9uJztcbn1cbi8qKlxuICogQ2hlY2tzIGlmIHRoZSBwcm92aWRlZCBpbnB1dCBpcyBhbiBhc3luYyBmdW5jdGlvbiBvciBpZiB0aGUgaW5wdXQgaXMgYW4gYXJyYXlcbiAqIGNvbnRhaW5pbmcgYXQgbGVhc3Qgb25lIGFzeW5jIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSBmdW5jIC0gQSBzaW5nbGUgZnVuY3Rpb24gb3IgYW4gYXJyYXkgb2YgZnVuY3Rpb25zIHRvIGNoZWNrLlxuICogICAgICAgICAgICAgICBOb24tZnVuY3Rpb24gdmFsdWVzIGFyZSBpZ25vcmVkLlxuICogQHJldHVybnMgYHRydWVgIGlmIHRoZSBpbnB1dCBpcyBhbiBhc3luYyBmdW5jdGlvbiBvciBhbiBhcnJheSBjb250YWluaW5nIGF0IGxlYXN0XG4gKiAgICAgICAgICBvbmUgYXN5bmMgZnVuY3Rpb24sIG90aGVyd2lzZSBgZmFsc2VgLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNBc3luY0Z1bmN0aW9uKGZ1bmMpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShmdW5jKSkge1xuICAgICAgICByZXR1cm4gZnVuYy5zb21lKGl0ZW0gPT4gaXNBc3luY0Z1bmN0aW9uKGl0ZW0pKTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmM/LmNvbnN0cnVjdG9yPy5uYW1lID09PSAnQXN5bmNGdW5jdGlvbic7XG59XG5jb25zdCB3aXRoSW50ZXJzZWN0aW9uID0gJ2ludGVyc2VjdGlvbicgaW4gKG5ldyBTZXQoKSk7XG5leHBvcnQgZnVuY3Rpb24gc2V0SW50ZXJzZWN0aW9uKC4uLnNldHMpIHtcbiAgICAvLyBGYXN0IHBhdGggMVxuICAgIGlmIChzZXRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gbmV3IFNldCgpO1xuICAgIH1cbiAgICAvLyBGYXN0IHBhdGggMlxuICAgIGlmIChzZXRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gc2V0c1swXTtcbiAgICB9XG4gICAgLy8gRmFzdCBwYXRoIDNcbiAgICBpZiAoc2V0cy5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgY29uc3Qgc2V0MSA9IHNldHNbMF07XG4gICAgICAgIGNvbnN0IHNldDIgPSBzZXRzWzFdO1xuICAgICAgICBpZiAod2l0aEludGVyc2VjdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuIHNldDEuaW50ZXJzZWN0aW9uKHNldDIpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBTZXQoKTtcbiAgICAgICAgY29uc3QgYmFzZSA9IHNldDEuc2l6ZSA8IHNldDIuc2l6ZSA/IHNldDEgOiBzZXQyO1xuICAgICAgICBjb25zdCBvdGhlciA9IGJhc2UgPT09IHNldDEgPyBzZXQyIDogc2V0MTtcbiAgICAgICAgZm9yIChjb25zdCB2YWx1ZSBvZiBiYXNlKSB7XG4gICAgICAgICAgICBpZiAob3RoZXIuaGFzKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5hZGQodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8vIFNsb3cgcGF0aFxuICAgIC8vIEZpbmQgdGhlIHNtYWxsZXN0IHNldFxuICAgIGNvbnN0IG1pbiA9IHtcbiAgICAgICAgaW5kZXg6IDAsXG4gICAgICAgIHNpemU6IHNldHNbMF0uc2l6ZSxcbiAgICB9O1xuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgc2V0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoc2V0c1tpXS5zaXplIDwgbWluLnNpemUpIHtcbiAgICAgICAgICAgIG1pbi5pbmRleCA9IGk7XG4gICAgICAgICAgICBtaW4uc2l6ZSA9IHNldHNbaV0uc2l6ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAod2l0aEludGVyc2VjdGlvbikge1xuICAgICAgICBsZXQgYmFzZSA9IHNldHNbbWluLmluZGV4XTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaSA9PT0gbWluLmluZGV4KSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBiYXNlID0gYmFzZS5pbnRlcnNlY3Rpb24oc2V0c1tpXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJhc2U7XG4gICAgfVxuICAgIC8vIG1hbnVhbCBpbXBsZW1lbnRhdGlvbjpcbiAgICAvLyBpbnRlcnNlY3QgYWxsIHNldHMgd2l0aCB0aGUgc21hbGxlc3Qgc2V0XG4gICAgY29uc3QgYmFzZSA9IHNldHNbbWluLmluZGV4XTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNldHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGkgPT09IG1pbi5pbmRleCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb3RoZXIgPSBzZXRzW2ldO1xuICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIGJhc2UpIHtcbiAgICAgICAgICAgIGlmICghb3RoZXIuaGFzKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIGJhc2UuZGVsZXRlKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYmFzZTtcbn1cbmNvbnN0IHdpdGhVbmlvbiA9ICd1bmlvbicgaW4gKG5ldyBTZXQoKSk7XG5leHBvcnQgZnVuY3Rpb24gc2V0VW5pb24oc2V0MSwgc2V0Mikge1xuICAgIGlmICh3aXRoVW5pb24pIHtcbiAgICAgICAgaWYgKHNldDEpIHtcbiAgICAgICAgICAgIHJldHVybiBzZXQxLnVuaW9uKHNldDIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZXQyO1xuICAgIH1cbiAgICBpZiAoIXNldDEpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTZXQoc2V0Mik7XG4gICAgfVxuICAgIHJldHVybiBuZXcgU2V0KFsuLi5zZXQxLCAuLi5zZXQyXSk7XG59XG4vLyBUaGlzIGNvZGUgaXMgdGFrZW4gZnJvbSBodHRwczovL2dpdGh1Yi5jb20vZGF2aWRtYXJrY2xlbWVudHMvYXRvbWljLXNsZWVwLCBNSVQgbGljZW5zZWQgYXQgdGhlIHRpbWUgb2YgY29tbWl0IGI4MTQ5ZDNjYTI3NmM4NGE1NGZhOGZhMTQ3OGY5Y2M3OWFhYmMxNWEuXG4vLyBBbGwgY3JlZGl0cyBnbyB0byB0aGUgb3JpZ2luYWwgYXV0aG9yIChEYXZpZCBNYXJrIENsZW1lbnRzLCBodHRwczovL2dpdGh1Yi5jb20vZGF2aWRtYXJrY2xlbWVudHMpLlxuZXhwb3J0IGZ1bmN0aW9uIHNsZWVwKG1zKSB7XG4gICAgaWYgKHR5cGVvZiBTaGFyZWRBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIEF0b21pY3MgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGNvbnN0IG5pbCA9IG5ldyBJbnQzMkFycmF5KG5ldyBTaGFyZWRBcnJheUJ1ZmZlcig0KSk7XG4gICAgICAgIGNvbnN0IHZhbGlkID0gbXMgPiAwICYmIG1zIDwgSW5maW5pdHk7XG4gICAgICAgIGlmICh2YWxpZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgbXMgIT09ICdudW1iZXInICYmIHR5cGVvZiBtcyAhPT0gJ2JpZ2ludCcpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBUeXBlRXJyb3IoJ3NsZWVwOiBtcyBtdXN0IGJlIGEgbnVtYmVyJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBSYW5nZUVycm9yKCdzbGVlcDogbXMgbXVzdCBiZSBhIG51bWJlciB0aGF0IGlzIGdyZWF0ZXIgdGhhbiAwIGJ1dCBsZXNzIHRoYW4gSW5maW5pdHknKTtcbiAgICAgICAgfVxuICAgICAgICBBdG9taWNzLndhaXQobmlsLCAwLCAwLCBOdW1iZXIobXMpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IHZhbGlkID0gbXMgPiAwICYmIG1zIDwgSW5maW5pdHk7XG4gICAgICAgIGlmICh2YWxpZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgbXMgIT09ICdudW1iZXInICYmIHR5cGVvZiBtcyAhPT0gJ2JpZ2ludCcpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBUeXBlRXJyb3IoJ3NsZWVwOiBtcyBtdXN0IGJlIGEgbnVtYmVyJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBSYW5nZUVycm9yKCdzbGVlcDogbXMgbXVzdCBiZSBhIG51bWJlciB0aGF0IGlzIGdyZWF0ZXIgdGhhbiAwIGJ1dCBsZXNzIHRoYW4gSW5maW5pdHknKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0YXJnZXQgPSBEYXRlLm5vdygpICsgTnVtYmVyKG1zKTtcbiAgICAgICAgd2hpbGUgKHRhcmdldCA+IERhdGUubm93KCkpIHsgLyogZW1wdHkgKi8gfVxuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXV0aWxzLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@orama/orama/dist/browser/utils.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/fumadocs-core/dist/chunk-KAOEMCTI.js":
/*!***********************************************************!*\
  !*** ./node_modules/fumadocs-core/dist/chunk-KAOEMCTI.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   removeUndefined: () => (/* binding */ removeUndefined)\n/* harmony export */ });\n// src/utils/remove-undefined.ts\nfunction removeUndefined(value, deep = false) {\n  const obj = value;\n  for (const key of Object.keys(obj)) {\n    if (obj[key] === void 0) delete obj[key];\n    if (deep && typeof obj[key] === \"object\" && obj[key] !== null) {\n      removeUndefined(obj[key], deep);\n    } else if (deep && Array.isArray(obj[key])) {\n      obj[key].forEach((v) => removeUndefined(v, deep));\n    }\n  }\n  return value;\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9mdW1hZG9jcy1jb3JlL2Rpc3QvY2h1bmstS0FPRU1DVEkuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBSUUiLCJzb3VyY2VzIjpbIi9Vc2Vycy9hcmNoaWVtY2tlbnppZS9EZXNrdG9wL2d0LWxpYnJhcmllcy9kb2NzL25vZGVfbW9kdWxlcy9mdW1hZG9jcy1jb3JlL2Rpc3QvY2h1bmstS0FPRU1DVEkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL3V0aWxzL3JlbW92ZS11bmRlZmluZWQudHNcbmZ1bmN0aW9uIHJlbW92ZVVuZGVmaW5lZCh2YWx1ZSwgZGVlcCA9IGZhbHNlKSB7XG4gIGNvbnN0IG9iaiA9IHZhbHVlO1xuICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhvYmopKSB7XG4gICAgaWYgKG9ialtrZXldID09PSB2b2lkIDApIGRlbGV0ZSBvYmpba2V5XTtcbiAgICBpZiAoZGVlcCAmJiB0eXBlb2Ygb2JqW2tleV0gPT09IFwib2JqZWN0XCIgJiYgb2JqW2tleV0gIT09IG51bGwpIHtcbiAgICAgIHJlbW92ZVVuZGVmaW5lZChvYmpba2V5XSwgZGVlcCk7XG4gICAgfSBlbHNlIGlmIChkZWVwICYmIEFycmF5LmlzQXJyYXkob2JqW2tleV0pKSB7XG4gICAgICBvYmpba2V5XS5mb3JFYWNoKCh2KSA9PiByZW1vdmVVbmRlZmluZWQodiwgZGVlcCkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdmFsdWU7XG59XG5cbmV4cG9ydCB7XG4gIHJlbW92ZVVuZGVmaW5lZFxufTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/fumadocs-core/dist/chunk-KAOEMCTI.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/fumadocs-core/dist/chunk-WFUH5VBX.js":
/*!***********************************************************!*\
  !*** ./node_modules/fumadocs-core/dist/chunk-WFUH5VBX.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   searchAdvanced: () => (/* binding */ searchAdvanced),\n/* harmony export */   searchSimple: () => (/* binding */ searchSimple)\n/* harmony export */ });\n/* harmony import */ var _chunk_KAOEMCTI_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-KAOEMCTI.js */ \"(app-pages-browser)/./node_modules/fumadocs-core/dist/chunk-KAOEMCTI.js\");\n/* harmony import */ var _orama_orama__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @orama/orama */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/index.js\");\n\n\n// src/search/orama/search/simple.ts\n\nasync function searchSimple(db, query, params = {}) {\n  const result = await (0,_orama_orama__WEBPACK_IMPORTED_MODULE_1__.search)(db, {\n    term: query,\n    tolerance: 1,\n    ...params,\n    boost: {\n      title: 2,\n      ...\"boost\" in params ? params.boost : void 0\n    }\n  });\n  return result.hits.map((hit) => ({\n    type: \"page\",\n    content: hit.document.title,\n    id: hit.document.url,\n    url: hit.document.url\n  }));\n}\n\n// src/search/orama/search/advanced.ts\n\nasync function searchAdvanced(db, query, tag, extraParams = {}) {\n  let params = {\n    where: (0,_chunk_KAOEMCTI_js__WEBPACK_IMPORTED_MODULE_0__.removeUndefined)({\n      tag,\n      ...extraParams.where\n    }),\n    groupBy: {\n      properties: [\"page_id\"],\n      maxResult: 8,\n      ...extraParams.groupBy\n    }\n  };\n  if (query.length > 0) {\n    params = {\n      ...params,\n      term: query,\n      properties: [\"content\", \"keywords\"],\n      ...extraParams,\n      where: params.where,\n      groupBy: params.groupBy\n    };\n  }\n  const result = await (0,_orama_orama__WEBPACK_IMPORTED_MODULE_1__.search)(db, params);\n  const list = [];\n  for (const item of result.groups ?? []) {\n    const pageId = item.values[0];\n    const page = await (0,_orama_orama__WEBPACK_IMPORTED_MODULE_1__.getByID)(db, pageId);\n    if (!page) continue;\n    list.push({\n      id: pageId,\n      type: \"page\",\n      content: page.content,\n      url: page.url\n    });\n    for (const hit of item.result) {\n      if (hit.document.type === \"page\") continue;\n      list.push({\n        id: hit.document.id.toString(),\n        content: hit.document.content,\n        type: hit.document.type,\n        url: hit.document.url\n      });\n    }\n  }\n  return list;\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9mdW1hZG9jcy1jb3JlL2Rpc3QvY2h1bmstV0ZVSDVWQlguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUU2Qjs7QUFFN0I7QUFDc0M7QUFDdEMsa0RBQWtEO0FBQ2xELHVCQUF1QixvREFBTTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQzBEO0FBQzFELDhEQUE4RDtBQUM5RDtBQUNBLFdBQVcsbUVBQWU7QUFDMUI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixvREFBTztBQUM5QjtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIscURBQU87QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBOztBQUtFIiwic291cmNlcyI6WyIvVXNlcnMvYXJjaGllbWNrZW56aWUvRGVza3RvcC9ndC1saWJyYXJpZXMvZG9jcy9ub2RlX21vZHVsZXMvZnVtYWRvY3MtY29yZS9kaXN0L2NodW5rLVdGVUg1VkJYLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIHJlbW92ZVVuZGVmaW5lZFxufSBmcm9tIFwiLi9jaHVuay1LQU9FTUNUSS5qc1wiO1xuXG4vLyBzcmMvc2VhcmNoL29yYW1hL3NlYXJjaC9zaW1wbGUudHNcbmltcG9ydCB7IHNlYXJjaCB9IGZyb20gXCJAb3JhbWEvb3JhbWFcIjtcbmFzeW5jIGZ1bmN0aW9uIHNlYXJjaFNpbXBsZShkYiwgcXVlcnksIHBhcmFtcyA9IHt9KSB7XG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlYXJjaChkYiwge1xuICAgIHRlcm06IHF1ZXJ5LFxuICAgIHRvbGVyYW5jZTogMSxcbiAgICAuLi5wYXJhbXMsXG4gICAgYm9vc3Q6IHtcbiAgICAgIHRpdGxlOiAyLFxuICAgICAgLi4uXCJib29zdFwiIGluIHBhcmFtcyA/IHBhcmFtcy5ib29zdCA6IHZvaWQgMFxuICAgIH1cbiAgfSk7XG4gIHJldHVybiByZXN1bHQuaGl0cy5tYXAoKGhpdCkgPT4gKHtcbiAgICB0eXBlOiBcInBhZ2VcIixcbiAgICBjb250ZW50OiBoaXQuZG9jdW1lbnQudGl0bGUsXG4gICAgaWQ6IGhpdC5kb2N1bWVudC51cmwsXG4gICAgdXJsOiBoaXQuZG9jdW1lbnQudXJsXG4gIH0pKTtcbn1cblxuLy8gc3JjL3NlYXJjaC9vcmFtYS9zZWFyY2gvYWR2YW5jZWQudHNcbmltcG9ydCB7IGdldEJ5SUQsIHNlYXJjaCBhcyBzZWFyY2gyIH0gZnJvbSBcIkBvcmFtYS9vcmFtYVwiO1xuYXN5bmMgZnVuY3Rpb24gc2VhcmNoQWR2YW5jZWQoZGIsIHF1ZXJ5LCB0YWcsIGV4dHJhUGFyYW1zID0ge30pIHtcbiAgbGV0IHBhcmFtcyA9IHtcbiAgICB3aGVyZTogcmVtb3ZlVW5kZWZpbmVkKHtcbiAgICAgIHRhZyxcbiAgICAgIC4uLmV4dHJhUGFyYW1zLndoZXJlXG4gICAgfSksXG4gICAgZ3JvdXBCeToge1xuICAgICAgcHJvcGVydGllczogW1wicGFnZV9pZFwiXSxcbiAgICAgIG1heFJlc3VsdDogOCxcbiAgICAgIC4uLmV4dHJhUGFyYW1zLmdyb3VwQnlcbiAgICB9XG4gIH07XG4gIGlmIChxdWVyeS5sZW5ndGggPiAwKSB7XG4gICAgcGFyYW1zID0ge1xuICAgICAgLi4ucGFyYW1zLFxuICAgICAgdGVybTogcXVlcnksXG4gICAgICBwcm9wZXJ0aWVzOiBbXCJjb250ZW50XCIsIFwia2V5d29yZHNcIl0sXG4gICAgICAuLi5leHRyYVBhcmFtcyxcbiAgICAgIHdoZXJlOiBwYXJhbXMud2hlcmUsXG4gICAgICBncm91cEJ5OiBwYXJhbXMuZ3JvdXBCeVxuICAgIH07XG4gIH1cbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VhcmNoMihkYiwgcGFyYW1zKTtcbiAgY29uc3QgbGlzdCA9IFtdO1xuICBmb3IgKGNvbnN0IGl0ZW0gb2YgcmVzdWx0Lmdyb3VwcyA/PyBbXSkge1xuICAgIGNvbnN0IHBhZ2VJZCA9IGl0ZW0udmFsdWVzWzBdO1xuICAgIGNvbnN0IHBhZ2UgPSBhd2FpdCBnZXRCeUlEKGRiLCBwYWdlSWQpO1xuICAgIGlmICghcGFnZSkgY29udGludWU7XG4gICAgbGlzdC5wdXNoKHtcbiAgICAgIGlkOiBwYWdlSWQsXG4gICAgICB0eXBlOiBcInBhZ2VcIixcbiAgICAgIGNvbnRlbnQ6IHBhZ2UuY29udGVudCxcbiAgICAgIHVybDogcGFnZS51cmxcbiAgICB9KTtcbiAgICBmb3IgKGNvbnN0IGhpdCBvZiBpdGVtLnJlc3VsdCkge1xuICAgICAgaWYgKGhpdC5kb2N1bWVudC50eXBlID09PSBcInBhZ2VcIikgY29udGludWU7XG4gICAgICBsaXN0LnB1c2goe1xuICAgICAgICBpZDogaGl0LmRvY3VtZW50LmlkLnRvU3RyaW5nKCksXG4gICAgICAgIGNvbnRlbnQ6IGhpdC5kb2N1bWVudC5jb250ZW50LFxuICAgICAgICB0eXBlOiBoaXQuZG9jdW1lbnQudHlwZSxcbiAgICAgICAgdXJsOiBoaXQuZG9jdW1lbnQudXJsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGxpc3Q7XG59XG5cbmV4cG9ydCB7XG4gIHNlYXJjaFNpbXBsZSxcbiAgc2VhcmNoQWR2YW5jZWRcbn07XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/fumadocs-core/dist/chunk-WFUH5VBX.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/fumadocs-core/dist/static-VESU2S64.js":
/*!************************************************************!*\
  !*** ./node_modules/fumadocs-core/dist/static-VESU2S64.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createStaticClient: () => (/* binding */ createStaticClient)\n/* harmony export */ });\n/* harmony import */ var _chunk_WFUH5VBX_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-WFUH5VBX.js */ \"(app-pages-browser)/./node_modules/fumadocs-core/dist/chunk-WFUH5VBX.js\");\n/* harmony import */ var _chunk_KAOEMCTI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-KAOEMCTI.js */ \"(app-pages-browser)/./node_modules/fumadocs-core/dist/chunk-KAOEMCTI.js\");\n/* harmony import */ var _chunk_MLKGABMK_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-MLKGABMK.js */ \"(app-pages-browser)/./node_modules/fumadocs-core/dist/chunk-MLKGABMK.js\");\n/* harmony import */ var _orama_orama__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @orama/orama */ \"(app-pages-browser)/./node_modules/@orama/orama/dist/browser/index.js\");\n\n\n\n\n// src/search/client/static.ts\n\nfunction createStaticClient({\n  from = \"/api/search\",\n  initOrama = (locale) => (0,_orama_orama__WEBPACK_IMPORTED_MODULE_3__.create)({ schema: { _: \"string\" }, language: locale })\n}) {\n  const dbs = /* @__PURE__ */ new Map();\n  async function init() {\n    const res = await fetch(from);\n    if (!res.ok)\n      throw new Error(\n        `failed to fetch exported search indexes from ${from}, make sure the search database is exported and available for client.`\n      );\n    const data = await res.json();\n    if (data.type === \"i18n\") {\n      for (const [k, v] of Object.entries(data.data)) {\n        const db = await initOrama(k);\n        (0,_orama_orama__WEBPACK_IMPORTED_MODULE_3__.load)(db, v);\n        dbs.set(k, {\n          type: v.type,\n          db\n        });\n      }\n    } else {\n      const db = await initOrama();\n      (0,_orama_orama__WEBPACK_IMPORTED_MODULE_3__.load)(db, data);\n      dbs.set(\"\", {\n        type: data.type,\n        db\n      });\n    }\n  }\n  const get = init();\n  return {\n    async search(query, locale, tag) {\n      await get;\n      const cached = dbs.get(locale ?? \"\");\n      if (!cached) return [];\n      if (cached.type === \"simple\")\n        return (0,_chunk_WFUH5VBX_js__WEBPACK_IMPORTED_MODULE_0__.searchSimple)(\n          cached,\n          query\n        );\n      return (0,_chunk_WFUH5VBX_js__WEBPACK_IMPORTED_MODULE_0__.searchAdvanced)(\n        cached.db,\n        query,\n        tag\n      );\n    }\n  };\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9mdW1hZG9jcy1jb3JlL2Rpc3Qvc3RhdGljLVZFU1UyUzY0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBRzZCO0FBQ0E7QUFDQTs7QUFFN0I7QUFDNEM7QUFDNUM7QUFDQTtBQUNBLDBCQUEwQixvREFBTSxHQUFHLFVBQVUsYUFBYSxvQkFBb0I7QUFDOUUsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3REFBd0QsS0FBSztBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxrREFBSTtBQUNaO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU0sa0RBQUk7QUFDVjtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxnRUFBWTtBQUMzQjtBQUNBO0FBQ0E7QUFDQSxhQUFhLGtFQUFjO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0UiLCJzb3VyY2VzIjpbIi9Vc2Vycy9hcmNoaWVtY2tlbnppZS9EZXNrdG9wL2d0LWxpYnJhcmllcy9kb2NzL25vZGVfbW9kdWxlcy9mdW1hZG9jcy1jb3JlL2Rpc3Qvc3RhdGljLVZFU1UyUzY0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIHNlYXJjaEFkdmFuY2VkLFxuICBzZWFyY2hTaW1wbGVcbn0gZnJvbSBcIi4vY2h1bmstV0ZVSDVWQlguanNcIjtcbmltcG9ydCBcIi4vY2h1bmstS0FPRU1DVEkuanNcIjtcbmltcG9ydCBcIi4vY2h1bmstTUxLR0FCTUsuanNcIjtcblxuLy8gc3JjL3NlYXJjaC9jbGllbnQvc3RhdGljLnRzXG5pbXBvcnQgeyBjcmVhdGUsIGxvYWQgfSBmcm9tIFwiQG9yYW1hL29yYW1hXCI7XG5mdW5jdGlvbiBjcmVhdGVTdGF0aWNDbGllbnQoe1xuICBmcm9tID0gXCIvYXBpL3NlYXJjaFwiLFxuICBpbml0T3JhbWEgPSAobG9jYWxlKSA9PiBjcmVhdGUoeyBzY2hlbWE6IHsgXzogXCJzdHJpbmdcIiB9LCBsYW5ndWFnZTogbG9jYWxlIH0pXG59KSB7XG4gIGNvbnN0IGRicyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIGFzeW5jIGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goZnJvbSk7XG4gICAgaWYgKCFyZXMub2spXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBmYWlsZWQgdG8gZmV0Y2ggZXhwb3J0ZWQgc2VhcmNoIGluZGV4ZXMgZnJvbSAke2Zyb219LCBtYWtlIHN1cmUgdGhlIHNlYXJjaCBkYXRhYmFzZSBpcyBleHBvcnRlZCBhbmQgYXZhaWxhYmxlIGZvciBjbGllbnQuYFxuICAgICAgKTtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgICBpZiAoZGF0YS50eXBlID09PSBcImkxOG5cIikge1xuICAgICAgZm9yIChjb25zdCBbaywgdl0gb2YgT2JqZWN0LmVudHJpZXMoZGF0YS5kYXRhKSkge1xuICAgICAgICBjb25zdCBkYiA9IGF3YWl0IGluaXRPcmFtYShrKTtcbiAgICAgICAgbG9hZChkYiwgdik7XG4gICAgICAgIGRicy5zZXQoaywge1xuICAgICAgICAgIHR5cGU6IHYudHlwZSxcbiAgICAgICAgICBkYlxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZGIgPSBhd2FpdCBpbml0T3JhbWEoKTtcbiAgICAgIGxvYWQoZGIsIGRhdGEpO1xuICAgICAgZGJzLnNldChcIlwiLCB7XG4gICAgICAgIHR5cGU6IGRhdGEudHlwZSxcbiAgICAgICAgZGJcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBjb25zdCBnZXQgPSBpbml0KCk7XG4gIHJldHVybiB7XG4gICAgYXN5bmMgc2VhcmNoKHF1ZXJ5LCBsb2NhbGUsIHRhZykge1xuICAgICAgYXdhaXQgZ2V0O1xuICAgICAgY29uc3QgY2FjaGVkID0gZGJzLmdldChsb2NhbGUgPz8gXCJcIik7XG4gICAgICBpZiAoIWNhY2hlZCkgcmV0dXJuIFtdO1xuICAgICAgaWYgKGNhY2hlZC50eXBlID09PSBcInNpbXBsZVwiKVxuICAgICAgICByZXR1cm4gc2VhcmNoU2ltcGxlKFxuICAgICAgICAgIGNhY2hlZCxcbiAgICAgICAgICBxdWVyeVxuICAgICAgICApO1xuICAgICAgcmV0dXJuIHNlYXJjaEFkdmFuY2VkKFxuICAgICAgICBjYWNoZWQuZGIsXG4gICAgICAgIHF1ZXJ5LFxuICAgICAgICB0YWdcbiAgICAgICk7XG4gICAgfVxuICB9O1xufVxuZXhwb3J0IHtcbiAgY3JlYXRlU3RhdGljQ2xpZW50XG59O1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/fumadocs-core/dist/static-VESU2S64.js\n"));

/***/ })

}]);