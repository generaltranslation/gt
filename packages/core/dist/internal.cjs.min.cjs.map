{"version":3,"file":"internal.cjs.min.cjs","sources":["../src/settings/settingsUrls.ts","../src/settings/settings.ts","../src/settings/plurals.ts","../src/locales/getPluralForm.ts"],"sourcesContent":["export const defaultCacheUrl = 'https://cdn.gtx.dev' as const;\nexport const defaultBaseUrl = 'https://api.gtx.dev' as const;\nexport const defaultRuntimeApiUrl = 'https://runtime.gtx.dev' as const;\nexport const translateBatchUrl = '/v1/translate/batch' as const;\nexport const translateJsxUrl = '/v1/translate/react' as const;\nexport const translateContentUrl = '/v1/translate/content' as const;\nexport const translateIcuUrl = '/v1/translate/icu' as const;\nexport const updateProjectTranslationsUrl =\n  '/v1/project/translations/update' as const;\nexport const getProjectLocalesUrl = '/v1/project/locales' as const;\n","export const libraryDefaultLocale = 'en-US' as const;\nexport const localeCookieName = 'generaltranslation.locale' as const;\nexport const localeHeaderName = 'x-generaltranslation-locale';\nexport const maxTimeout = 60000;\n","export const pluralForms = [\n  'singular',\n  'plural',\n  'dual',\n  'zero',\n  'one',\n  'two',\n  'few',\n  'many',\n  'other',\n] as const;\nexport type PluralType = (typeof pluralForms)[number];\nexport function isAcceptedPluralForm(form: string): form is PluralType {\n  return pluralForms.includes(form as (typeof pluralForms)[number]);\n}\n","import { pluralForms, PluralType } from '../settings/plurals';\nimport { libraryDefaultLocale } from '../settings/settings';\n\n/**\n * Given a number and a list of allowed plural forms, return the plural form that best fits the number.\n *\n * @param {number} n - The number to determine the plural form for.\n * @param {locales[]} forms - The allowed plural forms.\n * @returns {PluralType} The determined plural form, or an empty string if none fit.\n */\nexport default function _getPluralForm(\n  n: number,\n  forms: PluralType[] = pluralForms as any,\n  locales: string[] = [libraryDefaultLocale]\n): PluralType | '' {\n  const pluralRules = new Intl.PluralRules(locales);\n  const provisionalBranchName = pluralRules.select(n);\n  // aliases\n  const absN = Math.abs(n);\n  // 0\n  if (absN === 0 && forms.includes('zero')) return 'zero'; // override\n  // 1\n  if (absN === 1) {\n    if (forms.includes('singular')) return 'singular'; // override\n    if (forms.includes('one')) return 'one'; // override\n  }\n  if (provisionalBranchName === 'one' && forms.includes('singular'))\n    return 'singular';\n  // 2\n  if (absN === 2) {\n    if (forms.includes('dual')) return 'dual'; // override\n    if (forms.includes('two')) return 'two'; // override\n  }\n  if (provisionalBranchName === 'two' && forms.includes('dual')) return 'dual';\n  // fallbacks\n  if (forms.includes(provisionalBranchName)) return provisionalBranchName;\n  // two\n  if (provisionalBranchName === 'two' && forms.includes('dual')) return 'dual';\n  if (provisionalBranchName === 'two' && forms.includes('plural'))\n    return 'plural';\n  if (provisionalBranchName === 'two' && forms.includes('other'))\n    return 'other';\n  // few\n  if (provisionalBranchName === 'few' && forms.includes('plural'))\n    return 'plural';\n  if (provisionalBranchName === 'few' && forms.includes('other'))\n    return 'other';\n  // many\n  if (provisionalBranchName === 'many' && forms.includes('plural'))\n    return 'plural';\n  if (provisionalBranchName === 'many' && forms.includes('other'))\n    return 'other';\n  // other\n  if (provisionalBranchName === 'other' && forms.includes('plural'))\n    return 'plural';\n  return '';\n}\n"],"names":["libraryDefaultLocale","pluralForms","n","forms","locales","undefined","provisionalBranchName","Intl","PluralRules","select","absN","Math","abs","includes","form"],"mappings":"aAAO,ICAMA,EAAuB,QCAvBC,EAAc,CACzB,WACA,SACA,OACA,OACA,MACA,MACA,MACA,OACA,gCFR4B,8CADC,mDAEK,gDGQZ,SACtBC,EACAC,EACAC,QADAC,IAAAF,IAAAA,EAAsBF,QACtBI,IAAAD,IAAAA,EAAqB,CAAAJ,IAErB,IACMM,EADc,IAAIC,KAAKC,YAAYJ,GACCK,OAAOP,GAE3CQ,EAAOC,KAAKC,IAAIV,GAEtB,GAAa,IAATQ,GAAcP,EAAMU,SAAS,QAAS,MAAO,OAEjD,GAAa,IAATH,EAAY,CACd,GAAIP,EAAMU,SAAS,YAAa,MAAO,WACvC,GAAIV,EAAMU,SAAS,OAAQ,MAAO,MAEpC,GAA8B,QAA1BP,GAAmCH,EAAMU,SAAS,YACpD,MAAO,WAET,GAAa,IAATH,EAAY,CACd,GAAIP,EAAMU,SAAS,QAAS,MAAO,OACnC,GAAIV,EAAMU,SAAS,OAAQ,MAAO,MAEpC,MAA8B,QAA1BP,GAAmCH,EAAMU,SAAS,QAAgB,OAElEV,EAAMU,SAASP,GAA+BA,EAEpB,QAA1BA,GAAmCH,EAAMU,SAAS,QAAgB,OACxC,QAA1BP,GAAmCH,EAAMU,SAAS,UAC7C,SACqB,QAA1BP,GAAmCH,EAAMU,SAAS,SAC7C,QAEqB,QAA1BP,GAAmCH,EAAMU,SAAS,UAC7C,SACqB,QAA1BP,GAAmCH,EAAMU,SAAS,SAC7C,QAEqB,SAA1BP,GAAoCH,EAAMU,SAAS,UAC9C,SACqB,SAA1BP,GAAoCH,EAAMU,SAAS,SAC9C,QAEqB,UAA1BP,GAAqCH,EAAMU,SAAS,UAC/C,SACF,EACT,+BD5CM,SAA+BC,GACnC,OAAOb,EAAYY,SAASC,EAC9B,0DDbgC,qDACA"}